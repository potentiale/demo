{"version":3,"sources":["assets\\scripts\\IOSSdk.js"],"names":["e","require","t","module","o","exports","n","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","i","a","r","BaseSdk","s","init","cc","log","sendJsbCall","console","PFSET","appEd","window","iOSSendMsg","onVideoClose","onVideoSuccess","login","Promise","showBannerWithStyle","_showBannerNum","hideBanner","destroyBanner","showVideoAD","isCanRewardVideo","setTimeout","sendEvent","JSON","stringify","showFullVideoAD","vibrate","defaultClass","showAd","AD_TYPE","RewardVideo","Success","Close","Error","onVideoError","FullScreenVideo","Banner","FullScreenImg","NativeVideo","NativeBanner","NativeBigImgBanner","Splash"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,t=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,\"__esModule\",{value:!0});var i,a=e(\"AppCommon\"),r=e(\"BaseSdk\"),t=(i=r.BaseSdk,t(s,i),s.prototype.init=function(){var t=this;cc.log(\"[IOSSdk]init\");var e=this.sendJsbCall(\"gainIOSBMSVersion\");console.log(\"[bmsVersion]\"+e),e&&(a.default.PFSET.appEd=e),window.iOSSendMsg=function(e){switch(e){case\"playAds\":break;case\"rewardPlayNotEnd\":t.onVideoClose();break;case\"rewardPlayEnd\":t.onVideoSuccess()}}},s.prototype.login=function(t){return new Promise(function(e){t&&t(null),e(null)})},s.prototype.showBannerWithStyle=function(){this._showBannerNum++,this.sendJsbCall(\"showBanner\")},s.prototype.hideBanner=function(){this._showBannerNum--,this._showBannerNum<=0&&(this._showBannerNum=0,console.log(\"[IosAdCtrler][hideBannerAd]\"),this.sendJsbCall(\"hiddenBanner\"))},s.prototype.destroyBanner=function(){console.log(\"[IosAdCtrler][destoryBannerAd]\"),this.sendJsbCall(\"hiddenBanner\")},s.prototype.showVideoAD=function(){var e=this;this.isCanRewardVideo||(this.isCanRewardVideo=!0,setTimeout(function(){e.isCanRewardVideo=!1},2e3),this.sendJsbCall(\"showAds\"))},s.prototype.sendEvent=function(e,t){t?this.sendJsbCall(\"customTrackerWithName:andDictString:\",e,JSON.stringify(t)):this.sendJsbCall(\"customTrackerWithName:andDictString:\",e,\"\")},s.prototype.showFullVideoAD=function(){this.sendJsbCall(\"fullscreenAds\")},s.prototype.vibrate=function(e){this.sendJsbCall(0==e?\"ddd2\":\"ddd3\")},s);function s(){var e,n=i.call(this)||this;return n.defaultClass=[\"AppController\",\"()V\"],n.showAd=((e={})[r.AD_TYPE.RewardVideo]=function(e){var t=e.Success,o=e.Close,e=e.Error;n.onVideoSuccess=t,n.onVideoClose=o,n.onVideoError=e,n.showVideoAD()},e[r.AD_TYPE.FullScreenVideo]=function(e){void 0===e&&(e=function(){}),n.showFullVideoAD()},e[r.AD_TYPE.Banner]=function(){n.showBannerWithStyle()},e[r.AD_TYPE.FullScreenImg]=function(){},e[r.AD_TYPE.NativeVideo]=function(){},e[r.AD_TYPE.NativeBanner]=function(){},e[r.AD_TYPE.NativeBigImgBanner]=function(){},e[r.AD_TYPE.Splash]=function(){},e),n.isCanRewardVideo=!1,n.init(),n}o.default=t"]}