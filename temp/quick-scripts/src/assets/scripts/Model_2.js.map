{"version":3,"sources":["assets\\scripts\\Model_2.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","Model_2","a","s","c","r","l","p","d","u","f","h","ModelBase","m","Matching","CCTool","UI","OpenPop","GScene","_GameModel","MapClr","node","active","PlatformFun","SendEvent","getModeStr","LoadMap","getPathfindingMap","newDoor","newBed","LoadRole","newSpecialtower","bedList","push","id","roomID","_pos","position","clone","newPlayer","setPlayerCamp","MatchRoleData","setCoin","scheduleOnce","mountRole","isPlayer","LoadMapEnd","myAIBuild","addComponent","setAnimation","loadEndCall","cc","Tween","stopAllByTarget","GameCamera","zoomRatio","v2","setPause","setGameStart","GAME_STATE","ReadyAm","Audio","Player","MainView","GamePage","Settlement","myMap","getChildByName","tween","sequence","to","opacity","easing","repeatForever","start","CountDown","setCountDown","on","ListenID","Role_State","player","roleID","myDoor","_isActive","_lifeRatio","CDManage","Check","Set","roleList","_life","GameEnd","GameWin","GameStart","gettimestamp","_initTime","data","getCoin","Math","min","floor","delay","Win","End","OnUpdate","_time","newNPC","getV2Pos","x","y","type","apply","arguments","GAME_MODEL","MO_YU","mapPath","mendDoor","courierTime","CONFIG_INFO"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,\"__esModule\",{value:!0}),o.Model_2=void 0;var a,s=e(\"AppCommon\"),c=e(\"CCTool\"),r=e(\"PlatformFun\"),l=e(\"ListenID\"),p=e(\"GameScene\"),d=e(\"AIBuild_M2\"),t=e(\"ModeBase\"),u=e(\"ModelManage\"),f=null,h=null,i=(a=t.ModelBase,i(m,a),m.prototype.Matching=function(){c.CCTool.UI.OpenPop(\"prefab/pop/pop_Matching_M\"+s.default.GScene._GameModel),s.default.MapClr.node.active=!0,r.PlatformFun.SendEvent(s.default.GScene.getModeStr()+\"level_start\")},m.prototype.LoadMap=function(){var e=this;f=s.default.GScene,(h=s.default.MapClr).getPathfindingMap(),h.newDoor(\"door_1\",function(){h.newBed(\"computer\",function(){e.LoadRole(),h.newSpecialtower(\"specialtower\")})})},m.prototype.LoadRole=function(){var n=this,e=[],i=h.bedList;for(var t in i){var o=i[t];e.push({id:o.roomID,_pos:o.node.position.clone()})}for(t in e)!function(t){var o=e[t];h.newPlayer(o,function(e){e.setPlayerCamp(h.MatchRoleData[t]),e.setCoin(30),h.scheduleOnce(function(){i[o.id].mountRole(e),e.isPlayer?n.LoadMapEnd():e.myAIBuild=e.node.addComponent(d.default),e.scheduleOnce(function(){e.setAnimation(\"sit\",!0)},1)},.1)})}(t)},m.prototype.LoadMapEnd=function(){var e=this;this.loadEndCall&&this.loadEndCall(),cc.Tween.stopAllByTarget(f.GameCamera.node),f.GameCamera.zoomRatio=.8,f.GameCamera.node.position=cc.v2(0,0),f.GameCamera.node.active=!0,f.setPause(),f.setGameStart(p.GAME_STATE.ReadyAm),c.CCTool.Audio.Player(\"Start\"),c.CCTool.UI.OpenPop(\"prefab/game/ui/GameUI_1\",{},s.default.MainView.GamePage,function(){e.Settlement()});var t=h.myMap.node.getChildByName(\"point\");cc.tween(t).sequence(cc.tween().to(3,{opacity:150},{easing:\"sineInOut\"}),cc.tween().to(3,{opacity:0},{easing:\"sineInOut\"})).repeatForever().start()},m.prototype.CountDown=function(){f.setCountDown(3)},m.prototype.Settlement=function(){var r=this;h.myMap.node.on(l.ListenID.Role_State,function(e,t){var o;if(void 0===t&&(t=!1),e==s.default.GScene.player.roleID&&t&&null!==(o=s.default.GScene.player.myDoor)&&void 0!==o&&o._isActive&&(null===(o=s.default.GScene.player.myDoor)||void 0===o?void 0:o._lifeRatio)<=.2&&r.CDManage.Check(\"mendDoor\")&&(c.CCTool.UI.OpenPop(\"prefab/pop/pop_GameRevive_M2\"),r.CDManage.Set(\"mendDoor\")),!t){var n,i=void 0;for(n in h.roleList){var a=h.roleList[n];0==a._life&&(i=a)}i.isPlayer?r.GameEnd():r.GameWin()}},h.myMap)},m.prototype.GameStart=function(){var e=s.default.gettimestamp()-f.player._initTime;s.default.data.getCoin=Math.min(Math.floor(e/9+10),150),f.setPause(-999),cc.tween(f.GameCamera).to(.5,{zoomRatio:1}).start(),cc.tween(f.GameCamera.node).delay(.3).to(.5,{position:cc.v2(0,-400)}).call(function(){}).start()},m.prototype.GameWin=function(){s.default.data.getCoin=Math.min(Math.floor((s.default.gettimestamp()-f.player._initTime)/9+10),150),s.default.GScene.setGameStart(p.GAME_STATE.Win)},m.prototype.GameEnd=function(){s.default.data.getCoin=Math.min(Math.floor((s.default.gettimestamp()-f.player._initTime)/9+10),150),f.setGameStart(p.GAME_STATE.End),f.scheduleOnce(function(){c.CCTool.UI.OpenPop(\"prefab/pop/pop_GameDie\")},2)},m.prototype.OnUpdate=function(e){this.CDManage.OnUpdate(e),this._time+=e,1<this._time&&(this._time=0,this.CDManage.Check(\"courierTime\")&&(h.newNPC({id:1,_pos:h.getV2Pos({x:12,y:24}),type:\"kuaidiyuan\"},function(){}),this.CDManage.Set(\"courierTime\")))},m);function m(){var e=null!==a&&a.apply(this,arguments)||this;return e.type=u.GAME_MODEL.MO_YU,e.mapPath=\"Map_1v1\",e.CDManage=new c.CCTool.CDManage({mendDoor:30,courierTime:s.default.CONFIG_INFO.courierTime}),e}o.Model_2=i"]}