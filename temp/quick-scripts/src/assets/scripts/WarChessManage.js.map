{"version":3,"sources":["assets\\scripts\\WarChessManage.js"],"names":["e","require","t","module","o","exports","Object","defineProperty","value","WarChessManage","POINT_TYPE","ROUND_TYPE","n","f","h","m","i","a","r","s","c","l","p","y","USER","BULLET","ENEMY","Not","BIRTH","WAREHOUSE","BATTLEFIELD","d","prototype","init","myPreview_1","cc","Node","setParent","MapClr","myMap","node","addComponent","Sprite","zIndex","roundStart","roundStartFun","roundType","emit","ListenID","Round_Type","roundEnd","getRoundType","roundOrder","indexOf","newMonster","data","isBoss","_pos","x","GetRandomNum","mapSize","width","getV2Pos","resources","load","Prefab","instantiate","ObjBox","setPosition","initAttribute","setPoint","newFreshBox","newBattery","setFreshBox","getBattery","getEmptyTag","arr","checkMinLv","checkCanUp","u","getPointType","setState","isAutoSynthesis","_mapPos","uuid","deleteNode","synthesisItem","deletePoint","newEffects","position","add","v2","tween","to","call","discardFish","CCTool","UI","OpenPop","start","_PointList","attribute","lv","level","getMonsterData","monsterOrder","getTag","num","id","hp","Math","floor","getSeedData","seedNum","getSeedFlowerNum","getHighFish","Cfg","Building999","find","parameter","JSON","parse","pointType","push","_PointMap","type","Element_Type","WC_Battery","Audio","Player","error","name","splice","eliminateItem","WC_FreshBox","clone","WC_Monster","_isActive","length","getNodeTag","switchItem","pos","upAttribute","itemMoveTo","checkCanMove","isMax","scheduleOnce","getNewPoint","height","GetArrTarge","checkFormation","useFormation","WCTool","Formation","check","formationList","Loader","LoadPrefab","delay","setDestroyed","roundNum","touchNum","ower","checkGameEnd","Game_End","get","moveTo","NoviceTips","setMskePos","WC_BULLET","newMonitor","Bullet_2Pool","useNum","monsterMoveNum","WC_Monster_Move","GScene"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0}),o.WarChessManage=o.POINT_TYPE=o.ROUND_TYPE=void 0;var n,f,h=e(\"AppCommon\"),m=e(\"CCTool\"),i=e(\"ListenID\"),a=e(\"Cfg\"),r=e(\"ElementBase\"),s=e(\"WC_Battery\"),c=e(\"WC_FreshBox\"),l=e(\"WC_Monster\"),p=e(\"WCTool\"),y=null;(e=n=o.ROUND_TYPE||(o.ROUND_TYPE={}))[e.USER=0]=\"USER\",e[e.BULLET=1]=\"BULLET\",e[e.ENEMY=2]=\"ENEMY\",(e=f=o.POINT_TYPE||(o.POINT_TYPE={}))[e.Not=0]=\"Not\",e[e.BIRTH=1]=\"BIRTH\",e[e.WAREHOUSE=2]=\"WAREHOUSE\",e[e.BATTLEFIELD=3]=\"BATTLEFIELD\",e[e.ENEMY=4]=\"ENEMY\";d.prototype.init=function(){var e;this.myPreview_1||((e=new cc.Node(\"myPreview_1\")).setParent(h.default.MapClr.myMap.node),this.myPreview_1=e.addComponent(cc.Sprite),e.zIndex=10)},d.prototype.roundStart=function(){this.roundStartFun[this.roundType](),y.myMap.node.emit(i.ListenID.Round_Type,this.roundType)},d.prototype.roundEnd=function(){this.roundType=this.getRoundType(),this.roundStart()},d.prototype.getRoundType=function(){var e=this.roundOrder.indexOf(this.roundType);return this.roundOrder[e+1]||this.roundOrder[0]},d.prototype.newMonster=function(o,n){var i=this,e=o.data.isBoss?2:1;o.data.isBoss&&(o._pos.x=h.default.GetRandomNum(0,h.default.MapClr.mapSize.width-2)+.5);var a=y.getV2Pos(o._pos);cc.resources.load(\"prefab/game/Element/WC_Monster_\"+e,cc.Prefab,function(e,t){y.myMap&&((t=cc.instantiate(t)).setParent(y.ObjBox),t.setPosition(a.x,a.y),(t=t.addComponent(l.default)).initAttribute(o.data),i.setPoint(t,f.ENEMY,o._pos),n&&n(t))})},d.prototype.newFreshBox=function(o,n){var i=this,a=y.getV2Pos(o._pos);cc.resources.load(\"prefab/game/Element/WC_FreshBox\",cc.Prefab,function(e,t){y.myMap&&((t=cc.instantiate(t)).setParent(y.ObjBox),t.setPosition(a.x,a.y),(t=t.addComponent(c.default)).initAttribute(o.data),i.setPoint(t,f.ENEMY,o._pos),n&&n(t))})},d.prototype.newBattery=function(o,n){cc.resources.load(\"prefab/game/Element/WC_Battery\",cc.Prefab,function(e,t){y.myMap&&((t=cc.instantiate(t)).setParent(y.ObjBox),(t=t.addComponent(s.default)).initAttribute(o.data),t.setFreshBox(!0),n&&n(t))})},d.prototype.getBattery=function(o,n,t){var i,a,r,s,c,l,p=this;void 0===n&&(n=null),void 0===t&&(t=null);function d(){i=p.getEmptyTag(f.BIRTH).arr[0],a=p.checkMinLv(o),r=p.checkCanUp(o)}d();function u(t){var e=function(){};n?(c=y.getV2Pos(n),l=p.getPointType(n),p.setPoint(t,l,n,!1),t.setState(!0)):e=p.isAutoSynthesis&&r?(c=y.getV2Pos(r._mapPos),function(){var e=p.checkCanUp(o);e&&e.uuid==r.uuid?(t.deleteNode(),p.synthesisItem(null,r)):(d(),u(t))}):i?(c=y.getV2Pos(i),l=p.getPointType(i),p.setPoint(t,l,i,!1),t.setState(!0),function(){}):a?(s=a._mapPos,c=y.getV2Pos(s),l=p.getPointType(s),p.deletePoint(a),p.setPoint(t,l,s,!1),t.setState(!0),function(){h.default.MapClr.newEffects(a.node.position.add(cc.v2(h.default.GetRandomNum(-60,60),h.default.GetRandomNum(-60,60))),\"onHit\"),cc.tween(a.node).to(.3,{position:cc.v2(t.node.x-400,t.node.y-400)}).call(function(){p.discardFish++,1==p.discardFish&&m.CCTool.UI.OpenPop(\"prefab/pop/pop_M4_UnlockChoppingBlock\"),a.deleteNode()}).start()}):(s={x:2,y:0},c=y.getV2Pos(s),function(){h.default.MapClr.newEffects(t.node.position.add(cc.v2(h.default.GetRandomNum(-60,60),h.default.GetRandomNum(-60,60))),\"onHit\"),cc.tween(t.node).to(.3,{position:cc.v2(t.node.x-400,t.node.y-400)}).call(function(){p.discardFish++,1==p.discardFish&&m.CCTool.UI.OpenPop(\"prefab/pop/pop_M4_UnlockChoppingBlock\"),t.deleteNode()}).start()}),cc.tween(t.node).to(.4,{position:c}).call(function(){e()}).start()}this.newBattery({data:o},function(e){t&&e.node.setPosition(t),u(e)})},d.prototype.checkCanUp=function(e){for(var t in this._PointList[f.BIRTH]){t=this._PointList[f.BIRTH][t];if(t.attribute.lv==e.level)return t}return null},d.prototype.checkMinLv=function(e){var t,o;for(o in this._PointList[f.BIRTH]){var n=this._PointList[f.BIRTH][o];t&&n.attribute.lv>=t.attribute.lv||n.attribute.lv<e.level&&(t=n)}return t},d.prototype.getMonsterData=function(){var e=this.monsterOrder,t=this.getTag().num;if(!(e<8?0==t:e<15?t<2:e<30?0==t||20<h.default.GetRandomNum(0,80):30<=e))return null;t=(e+=1)%10==0&&0!=e,e=(1==e?1:e<=5?2+e/3:e<=10?2+e/2:e<=30?5+e/2:30<e?10*e/(500<e?1:400<e?2:350<e?3:300<e?4:270<e?5:240<e?6:210<e?7:165<e?8:130<e?10:90<e?13:75<e?15:40<e?18:20)+h.default.GetRandomNum(0,99)/10:void 0)*(t?1.5:1);return this.monsterOrder++,{isBoss:t,id:t?2:1,hp:Math.floor(e)}},d.prototype.getSeedData=function(){var e=this.seedNum,t=this.monsterOrder;if(1!=t&&(e<2||(this.seedNum=5<h.default.GetRandomNum(0,10)?1:0,t%10==0||(t+1)%10==0||(t-1)%10==0)))return null;t=this.getSeedFlowerNum,t=t<20?1:t<40?10<h.default.GetRandomNum(0,100)?3:2:t<60?10<h.default.GetRandomNum(0,100)?4:3:t<80?4:50<h.default.GetRandomNum(0,100)?50<h.default.GetRandomNum(0,100)?1:2:50<h.default.GetRandomNum(0,100)?3:4;return this.getSeedFlowerNum++,{lv:t}},d.prototype.getHighFish=function(){var i=this,t=function(){var e,t=0;for(e in i._PointList[f.BATTLEFIELD]){var o=i._PointList[f.BATTLEFIELD][e].attribute;o.lv>t&&(t=o.lv)}for(e in i._PointList[f.BIRTH]){var n=i._PointList[f.BIRTH][e].attribute;n.lv>t&&(t=n.lv)}return t}(),e=function(){if(t<7)return 7;if(t<=10){var e=h.default.GetRandomNum(0,100);return e<10?t+1:e<20?t:t-1}return t-1}(),e=a.Cfg.Building999.find({level:e});return\"string\"==typeof e.parameter&&(e.parameter=JSON.parse(e.parameter)),e},d.prototype.setPoint=function(e,t,o,n){void 0===n&&(n=!0),e.pointType&&this.deletePoint(e),this._PointList[t].push(e),e.pointType=t,e._mapPos=o,n&&e.node.setPosition(h.default.MapClr.getV2Pos(o)),this._PointMap[t][o.y]&&(this._PointMap[t][o.y][o.x]=e.type),e.type==r.Element_Type.WC_Battery&&(e.setFreshBox(t!=f.BATTLEFIELD),m.CCTool.Audio.Player(\"m4_putdown\"))},d.prototype.deletePoint=function(e){var t,o=void 0;for(t in this._PointList[e.pointType])e.uuid==this._PointList[e.pointType][t].uuid&&(o=+t);if(\"number\"!=typeof o)return cc.error(\"查询不到指定对象\",this._PointList,e,e.type,e.node.name);this._PointMap[e.pointType][e._mapPos.y]&&(this._PointMap[e.pointType][e._mapPos.y][e._mapPos.x]=r.Element_Type.Not),this._PointList[e.pointType].splice(o,1)},d.prototype.deleteNode=function(e){e&&(this.deletePoint(e),e.deleteNode())},d.prototype.eliminateItem=function(e,t){var o=e.attribute.data;e.type==r.Element_Type.WC_FreshBox&&(this.getEmptyTag(f.BIRTH),this.getBattery(o,null,e.node.position.clone())),this.deletePoint(e),t&&t()},d.prototype.getTag=function(e,t){void 0===e&&(e=r.Element_Type.WC_Monster),void 0===t&&(t=f.ENEMY);var o,n=[];for(o in this._PointList[t]){var i=this._PointList[t][o];i&&i._isActive&&i.type==e&&n.push(i)}return{num:n.length,arr:n}},d.prototype.getEmptyTag=function(e){void 0===e&&(e=f.BATTLEFIELD);var t,o=[];for(t in this._PointMap[e])for(var n in this._PointMap[e][t])0==this._PointMap[e][t][n]&&o.push({x:+n,y:+t});return{num:o.length,arr:o}},d.prototype.getNodeTag=function(e,t){for(var o in void 0===t&&(t=f.BATTLEFIELD),this._PointList[t]){o=this._PointList[t][o];if(o._mapPos.x==e.x&&o._mapPos.y==e.y)return o}return null},d.prototype.switchItem=function(e,t){var o={pos:t._mapPos,type:t.pointType},n={pos:e._mapPos,type:e.pointType};this.setPoint(e,o.type,o.pos),this.setPoint(t,n.type,n.pos),this._PointMap[e.pointType][e._mapPos.y][e._mapPos.x]=e.type,this._PointMap[t.pointType][t._mapPos.y][t._mapPos.x]=t.type},d.prototype.synthesisItem=function(e,t){this.deleteNode(e),t.upAttribute(),m.CCTool.Audio.Player(\"m4_merge\")},d.prototype.itemMoveTo=function(e,t){var o=this;if(this.checkCanMove(t)||e._mapPos.x==t.x&&e._mapPos.y==t.y)return cc.tween(e.node).to(.1,{position:h.default.MapClr.getV2Pos(e._mapPos)}).start();var n=this.getPointType(t),i=this.getNodeTag(t,n);i?i.attribute.data.level!=e.attribute.data.level||i.attribute.isMax||i.pointType==f.BIRTH?this.switchItem(e,i):this.synthesisItem(e,i):this.setPoint(e,n,t),y.myMap.scheduleOnce(function(){o.roundEnd()},.2)},d.prototype.checkCanMove=function(e,t){void 0===t&&(t=[f.BATTLEFIELD]);var o=this.getPointType(e);if(t.indexOf(o)<0)return!0;e=o&&this._PointMap[o][e.y]&&0<=this._PointMap[o][e.y][e.x];return!e||t.indexOf(o)<0},d.prototype.getPointType=function(e){return e.x<0||e.x>=y.mapSize.width?null:2<e.y?f.ENEMY:0==e.y?f.BIRTH:0<e.y?f.BATTLEFIELD:void 0},d.prototype.getNewPoint=function(){var e,t=function(){for(var e=[],t=0;t<y.mapSize.width-1;t++)e.push(t);return e}();for(e in this._PointList[f.ENEMY]){var o=this._PointList[f.ENEMY][e]._mapPos;o.y==y.mapSize.height-1&&t.splice(o.x,1)}return{x:h.default.GetArrTarge(t),y:y.mapSize.height}},d.prototype.checkFormation=function(t){var n=this;if(0<=this.useFormation.indexOf(0))return t(!1);p.WCTool.Formation.check(this.formationList[0],this._PointList[f.BATTLEFIELD],function(e){e?(n.useFormation.push(0),m.CCTool.Loader.LoadPrefab(\"prefab/game/WCFormation/Formation_1\"),y.scheduleOnce(function(){t(e)},6),y.scheduleOnce(function(){var e,o=n._PointList[f.ENEMY];for(e in o)!function(e){var t=o[e];cc.tween(t).delay(.3*+e).call(function(){m.CCTool.Audio.Player(\"m4_boom\"),h.default.MapClr.newEffects(t.node.position,\"bomb2\"),t.setDestroyed()}).start()}(e)},3.5)):t(e)})},e=d;function d(){var e,o=this;this.roundNum=0,this.roundType=n.USER,this.roundOrder=[n.USER,n.BULLET,n.ENEMY],this.touchNum=0,this.isAutoSynthesis=!1,this.roundStartFun=((e={})[n.USER]=function(){if(o.ower.checkGameEnd())return y.myMap.node.emit(i.ListenID.Game_End);o.roundNum++,o.seedNum++,1==o.roundNum&&(o.getBattery(a.Cfg.Building999.get(1)),o.newMonster({_pos:o.getNewPoint(),data:o.getMonsterData()},function(e){e.moveTo({x:0,y:-1})})),h.default.NoviceTips&&0<=[1,2].indexOf(o.roundNum)&&h.default.NoviceTips.setMskePos({id:2})},e[n.BULLET]=function(){var e=o.getSeedData();e&&o.newFreshBox({_pos:o.getNewPoint(),data:a.Cfg.Building999.get(e.lv)},function(e){e.moveTo({x:0,y:-1})}),o.checkFormation(function(e){e?o.roundEnd():(y.myMap.node.emit(i.ListenID.WC_BULLET,o.roundType),0==o._PointList[f.BATTLEFIELD].length?o.roundEnd():y.newMonitor(function(){if(0==y.Bullet_2Pool.useNum)return o.roundEnd(),!0},o))})},e[n.ENEMY]=function(){function e(){h.default.data.monsterMoveNum=0,y.myMap.node.emit(i.ListenID.WC_Monster_Move,o.roundType),0==o._PointList[f.ENEMY].length?o.roundEnd():y.newMonitor(function(){if(0==h.default.data.monsterMoveNum)return o.roundEnd(),!0},o)}var t=o.getMonsterData();t?o.newMonster({_pos:o.getNewPoint(),data:t},e):e()},e),this.discardFish=0,this.monsterOrder=0,this.seedNum=0,this.getSeedFlowerNum=0,this._PointMap=((e={})[f.BIRTH]=[],e[f.WAREHOUSE]=[],e[f.BATTLEFIELD]=[],e[f.ENEMY]=[],e),this._PointList=((e={})[f.BIRTH]=[],e[f.WAREHOUSE]=[],e[f.BATTLEFIELD]=[],e[f.ENEMY]=[],e),this.useFormation=[],this.formationList=[[{pos:[0,1],lv:7},{pos:[1,2],lv:7},{pos:[2,1],lv:7},{pos:[3,2],lv:7},{pos:[4,1],lv:7}]],h.default.GScene,y=h.default.MapClr}o.WarChessManage=e"]}