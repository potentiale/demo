{"version":3,"sources":["assets\\scripts\\SkillManage.js"],"names":["e","require","t","module","o","exports","n","__awaiter","r","s","c","Promise","a","next","i","done","value","then","apply","__generator","label","sent","trys","ops","Symbol","iterator","TypeError","call","pop","length","push","Object","defineProperty","SkillManage","l","p","d","u","f","prototype","initSkill","list","itemList","Cfg","cfgTag","get","ower","CDManage","InitItem","id","cd","energyList","cur","all","energy","freeTime","free","getType","type","useSkill","skill","GScene","isPause","useType","Check","isPlayer","CCTool","UI","ShowToast","checkUseVideo","cc","log","markNodeBar","Tween","stopAllByTarget","node","scale","_GameModel","GAME_MODEL","BOSS_MODEL","setSector","tween","to","start","resetSector","children","active","PlatformFun","SendEvent","getModeStr","loadRewardedVideoAd","onVideoSuccess","onShowClose","loadErro","setUINode","getComponent","Label","string","name","resources","load","iconPath","SpriteFrame","Sprite","spriteFrame","on","Node","EventType","TOUCH_START","TOUCH_END","getDescr","introduction"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n=this&&this.__awaiter||function(e,r,s,c){return new(s=s||Promise)(function(o,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}a((c=c.apply(e,r||[])).next())})},c=this&&this.__generator||function(o,n){var i,a,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,a&&(r=2&t[0]?a.return:t[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,t[1])).done)return r;switch(a=0,(t=r?[2&t[0],r.value]:t)[0]){case 0:case 1:r=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(r=0<(r=s.trys).length&&r[r.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){s.label=t[1];break}if(6===t[0]&&s.label<r[1]){s.label=r[1],r=t;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(t);break}r[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(o,s)}catch(e){t=[6,e],a=0}finally{i=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(o,\"__esModule\",{value:!0}),o.SkillManage=void 0;var l=e(\"AppCommon\"),p=e(\"CCTool\"),d=e(\"PlatformFun\"),i=e(\"ProgressBar\"),u=e(\"Cfg\"),f=e(\"ModelManage\"),e=(a.prototype.initSkill=function(e){for(var t in this.list=e,this.itemList=[],e){var o=u.Cfg[this.cfgTag].get(e[t]);this.itemList.push(o),this.ower.CDManage.InitItem(o.id,o.cd),this.energyList[e[t]]={cur:0,all:o.energy||0,freeTime:o.free}}},a.prototype.getType=function(e){for(var t in this.itemList)if(this.itemList[t].type==e)return this.itemList[t].id;return null},a.prototype.useSkill=function(r,s){return void 0===s&&(s=!0),n(this,void 0,void 0,function(){var t,o,n,i,a=this;return c(this,function(e){switch(e.label){case 0:return r?(t=u.Cfg[this.cfgTag].get(r),this.skill[t.type]?l.default.GScene.isPause&&1==t.useType?[2]:(i=this.energyList[r],!this.ower.CDManage.Check(r)||i&&i.cur<i.all?(this.ower.isPlayer&&p.CCTool.UI.ShowToast(\"冷却中\"),[2]):(o=!s&&0==i.freeTime,(n=s)?[3,2]:[4,this.checkUseVideo(i.freeTime)])):[2,cc.log(\"技能未定义\")]):[2];case 1:n=e.sent(),e.label=2;case 2:return n&&this.skill[t.type](t)&&this.ower.isPlayer&&(this.markNodeBar[r]&&(cc.Tween.stopAllByTarget(this.markNodeBar[r].node),this.markNodeBar[r].node.scale=1,l.default.GScene._GameModel!==f.GAME_MODEL.BOSS_MODEL?this.markNodeBar[r].setSector(t.cd,function(){cc.tween(a.markNodeBar[r].node).to(.1,{scale:1.2}).to(.2,{scale:1}).start()}):this.markNodeBar[r].resetSector(1),this.energyList[r]&&(i=this.energyList[r].freeTime,this.energyList[r].freeTime=0<i?i-1:i,this.markNodeBar[r].node.children[3].active=0==this.energyList[r].freeTime)),o?d.PlatformFun.SendEvent(l.default.GScene.getModeStr()+\"skill_video_\"+t.type):d.PlatformFun.SendEvent(l.default.GScene.getModeStr()+\"skill_use_\"+t.type)),[2]}})})},a.prototype.checkUseVideo=function(t){return new Promise(function(e){t<0||0<t?e(!0):0==t&&d.PlatformFun.loadRewardedVideoAd({onVideoSuccess:function(){e(!0)},onShowClose:function(){e(!1)},loadErro:function(){e(!1)}})})},a.prototype.setUINode=function(o,e){var t=this;this.markNodeBar[e.id]=o.getComponent(i.default),o.children[2].getComponent(cc.Label).string=e.name,o.children[3].active=0==this.energyList[e.id].freeTime,cc.resources.load(e.iconPath,cc.SpriteFrame,function(e,t){o&&o.active&&(o.children[0].children[0].getComponent(cc.Sprite).spriteFrame=t)});var n=!1;l.default.GScene._GameModel===f.GAME_MODEL.BOSS_MODEL&&this.markNodeBar[e.id].resetSector(1),o.on(cc.Node.EventType.TOUCH_START,function(){n=!0},this),o.on(cc.Node.EventType.TOUCH_END,function(){n&&(cc.tween(o).to(.1,{scale:1.2}).to(.2,{scale:1}).start(),t.useSkill(e.id,!1),n=!1)})},a.getDescr=function(e){return e.introduction},a);function a(e){this.list=[],this.itemList=[],this.energyList={},this.skill={},this.markNodeBar={},this.ower=e}o.SkillManage=e"]}