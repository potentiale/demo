{"version":3,"sources":["assets\\scripts\\Model_3.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","Model_3","a","r","s","c","l","p","d","u","f","h","m","y","ModelBase","g","Matching","CCTool","UI","OpenPop","GScene","_GameModel","MapClr","node","active","player","LoadMap","newWallColl","myMap","getObjectGroup","getObjects","newBed","getPathfindingMap","newDoor","LoadRole","setPhysics","length","_pos","getTMapPosition","offset","addSelf","cc","v2","tileSize","width","name","newMonster","setPlayerCamp","MatchRoleData","myFSM","addComponent","DialogueList","MonsterDialogueList","initState","LoadMapEnd","push","Number","newPlayer","myAIBuild","loadEndCall","setGameStart","GAME_STATE","ReadyAm","Audio","Player","Tween","stopAllByTarget","GameCamera","zoomRatio","position","scheduleOnce","_GameState","tween","to","start","monsterList","CountDown","setPause","MainView","GamePage","Settlement","bedList","isHaveMan","getRandomArrayElements","roleList","setTargetByForce","toCountDown","setCountDown","setTouchMoveCamera","on","ListenID","Monster_State","GameEnd","Role_State","_life","GameWin","GameStart","gameMsg","setPlayerStart","PLAYER_STATE","Move","data","getCoin","Math","min","floor","gettimestamp","_initTime","Win","End","OnUpdate","CDManage","apply","arguments","type","GAME_MODEL","BOSS_MODEL","mapPath","StateType","Idle","Attack","Escape","Treat","kill"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,\"__esModule\",{value:!0}),o.Model_3=void 0;var a,r=e(\"AppCommon\"),s=e(\"CCTool\"),c=e(\"ListenID\"),l=e(\"GameScene\"),p=e(\"AIBuild\"),d=e(\"AIRole\"),u=e(\"AIState\"),f=e(\"BigBossState\"),t=e(\"ModeBase\"),h=e(\"ModelManage\"),m=null,y=null,i=(a=t.ModelBase,i(g,a),g.prototype.Matching=function(){s.CCTool.UI.OpenPop(\"prefab/pop/pop_Matching_M\"+r.default.GScene._GameModel),r.default.MapClr.node.active=!0,r.default.GScene.player=null},g.prototype.LoadMap=function(){m=r.default.GScene,(y=r.default.MapClr).newWallColl(y.myMap.getObjectGroup(\"Collision\").getObjects()),y.newBed(\"computer\"),y.getPathfindingMap(),y.newDoor(\"door_1\"),y.newDoor(\"door_2\"),this.LoadRole(),m.setPhysics(!0)},g.prototype.LoadRole=function(){for(var t=this,e=[],o=y.myMap.getObjectGroup(\"Born\").getObjects(),n=0;n<o.length;n++){var i=o[n];i._pos=y.getTMapPosition(i.offset,y.myMap.node).addSelf(cc.v2(y.tileSize.width/2,-y.tileSize.width/2)),\"boss\"==i.name?y.newMonster(i,\"BigMonster\",function(e){e.setPlayerCamp(y.MatchRoleData[0]),e.myFSM=e.node.addComponent(f.default),e.myFSM.DialogueList=t.MonsterDialogueList,e.myFSM.initState(e),t.LoadMapEnd()}):e.push(i)}var a=0;for(n in y.MatchRoleData)!function(t){if(0==Number(t))return;y.newPlayer(e[a++],function(e){e.setPlayerCamp(y.MatchRoleData[t]),e.myFSM=e.node.addComponent(d.default),e.myFSM.initState(e),e.myAIBuild=e.node.addComponent(p.default)})}(n)},g.prototype.LoadMapEnd=function(){this.loadEndCall&&this.loadEndCall(),m.setGameStart(l.GAME_STATE.ReadyAm),s.CCTool.Audio.Player(\"Start\"),cc.Tween.stopAllByTarget(m.GameCamera.node),m.GameCamera.zoomRatio=1.3,m.GameCamera.node.position=cc.v2(0,200),m.GameCamera.node.active=!0,y.scheduleOnce(function(){m._GameState==l.GAME_STATE.ReadyAm&&(cc.tween(m.GameCamera).to(.5,{zoomRatio:1}).start(),cc.tween(m.GameCamera.node).to(.5,{position:r.default.MapClr.monsterList[0].node.position}).call(function(){m._GameState==l.GAME_STATE.ReadyAm&&(m.setGameStart(l.GAME_STATE.CountDown),m.setPause(-999))}).start())},6),s.CCTool.UI.OpenPop(\"prefab/game/ui/GameUI_1\",{},r.default.MainView.GamePage),this.Settlement()},g.prototype.CountDown=function(){var e,t=[];for(e in r.default.MapClr.bedList){var o=r.default.MapClr.bedList[e];o.isHaveMan||t.push(o)}var n,i=r.default.getRandomArrayElements(t,6),a=0;for(n in r.default.MapClr.roleList)r.default.MapClr.roleList[n].myFSM.setTargetByForce(i[a++]);y.monsterList[0].toCountDown(),m.setCountDown(15),r.default.MapClr.setTouchMoveCamera(!0)},g.prototype.Settlement=function(){var i=this;y.myMap.node.on(c.ListenID.Monster_State,function(e,t){(t=void 0===t?!1:t)||i.GameEnd()},y.myMap),y.myMap.node.on(c.ListenID.Role_State,function(e,t){if(!(t=void 0===t?!1:t)){var o,n=!0;for(o in y.roleList)0<y.roleList[o]._life&&(n=!1);y.roleList[e],n&&i.GameWin()}},y.myMap)},g.prototype.GameStart=function(){r.default.MainView.gameMsg(\"抓住摸鱼的员工！\"),m.setPlayerStart(l.PLAYER_STATE.Move),r.default.MapClr.setTouchMoveCamera(!1)},g.prototype.GameWin=function(){r.default.data.getCoin=Math.min(Math.floor((r.default.gettimestamp()-r.default.MapClr.monsterList[0]._initTime)/9+10),150),r.default.GScene.setGameStart(l.GAME_STATE.Win)},g.prototype.GameEnd=function(){r.default.data.getCoin=Math.min(Math.floor((r.default.gettimestamp()-r.default.MapClr.monsterList[0]._initTime)/9+10),150),m.setGameStart(l.GAME_STATE.End),m.scheduleOnce(function(){s.CCTool.UI.OpenPop(\"prefab/pop/pop_GameDie_M3\")},1)},g.prototype.OnUpdate=function(e){this.CDManage.OnUpdate(e)},g);function g(){var e,t=null!==a&&a.apply(this,arguments)||this;return t.type=h.GAME_MODEL.BOSS_MODEL,t.mapPath=\"Map_boss\",t.CDManage=new s.CCTool.CDManage({}),t.MonsterDialogueList=((e={})[u.StateType.Idle]=[\"本月的投票准备结束，结果已经出来了\",\"最受玩家欢迎的是“办公室惊魂”\",\"请大家好好期待，我们换个地方玩玩，嘿嘿嘿\",\"接下来是玩家反馈环节\",\"满级卡死？已经修复了，就怕你玩不到满级\",\"我太弱了？不存在的，我又变强了哈害嗨\",\"想穿新衣服？等我给大家购置新的工服！\",\"想要联机？没问题，请大家要多多支持呀\",\"本期反馈报告到此为止，欢迎大家点击右上角三个点反馈\",\"感谢各位员工的努力，我们要更加努力呀！\",\"咦？人呢？\"],e[u.StateType.Attack]=[\"快开门！你是不是在摸鱼！\",\"禁止在办公室摆放私人物品！\",\"请了你们，我真是个大怨种！\",\"整天搞这些花里胡哨的东西！\",\"赶紧起来码代码！\",\"我就不信我治不了你们！\",\"你知不知道这个游戏每个版本都有bug！\",\"联机模式到底什么时候出！\",\"开朗网友都打过来了！快拿出你们的咸鱼炮！\",\"是谁拿了我的私房钱！\",\"你们不努力我怎么买房买车！\",\"饮料不要摆在门口！\",\"混日子的就不是我的兄弟！\"],e[u.StateType.Escape]=[\"火力这么猛，你等着\",\"累死我了，回去歇一会\",\"敲得我手都疼了\",\"中场休息！\",\"我一定会回来的！\",\"撤退撤退！\"],e[u.StateType.Treat]=[\"等我休息一会再来收拾你们\",\"呼呼呼~歇一会\",\"马上回来小宝贝们\",\"小腿一抖，精神抖擞！\",\"让我看看下个倒霉蛋是谁\",\"再面试几个岗位吧，我们要成为宇宙第一游戏公司\",\"洗手间装好了，下个房间装个什么好呢？\",\"得再请个总监回来好好管管你们\",\"哟，确认入职了，期待一下这位高管的能力\",\"每天这么蹦跶，我的微聊步数都10万步了\"],e.kill=[\"你因左脚踏入公司被开除了\",\"这两天有点累了，你先回家休息两天吧\",\"这位同学恭喜你毕业了\",\"该醒醒了！\",\"变身魔法！菜狗变变变！\",\"炒鱿鱼！\"],e),t}o.Model_3=i"]}