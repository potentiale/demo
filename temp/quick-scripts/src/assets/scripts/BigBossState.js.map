{"version":3,"sources":["assets\\scripts\\BigBossState.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","l","c","p","d","u","f","cc","_decorator","ccclass","property","h","initState","log","ower","_AiParameter","AiParameter","moveSpeed","attribute","data","MoveSpeedGhost","AttackRange","statesList","StateType","Idle","IdleState","Treat","g","Die","DieState","Attack","AttackState","Ready","ReadyState","setAIState","schedule","setIdleDialogue","MapClr","myMap","node","on","ListenID","GameState","GScene","_GameState","GAME_STATE","Game","unschedule","newEffects","position","setParent","setPosition","x","y","CDManage","CCTool","UpCDFun","atk","atkspeed","target","_atkSpeedDown","isRageAtkSpeed","think","atkDialogue","treat","Init","startPos","getMapPos","startPosV2","add","v2","newThink","Check","Set","searchRole","checkSkill","getIsInRoom","myBed","myTerritoryMap","checkinRange","attackTarget","roleList","myDoor","arc","active","_life","Number","_searchPosOffset","bedList","_AttackTime","searchPath","onMoveEnd","mySkeleton","timeScale","Clear","checkAttack","attackRoleById","searchAttackRole","sendAttack","isValid","limt","scaleX","setHurt","checkLife","renounceTarget","getTreatmentPoint","setTreatment","newDialogue","GetArrTarge","DialogueList","Escape","healEffects","zIndex","setLife","HurtData","hp","_lifeRatio","setAnimation","onDestroy","unscheduleAllCallbacks","onUplv","update","isPause","_isActive","OnUpdate","Up","setAtkDialogue","getDistanceSqrt","_isInTreatRect","currentState","joyStick","linearVelocity","_PlayerState","PLAYER_STATE","Move","_isControl","GameCamera","Vec2","multiplyScalar","normalizeSelf","getZIndex","currentStateClr","DialogueNum","apply","_time","m","AIStateBase","_","OnEnter","_myTarget","OnExit"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e = require;\nvar t = module;\nvar o = exports;\n\"use strict\";\nvar n, i = this && this.__extends || (n = function(e, t) {\n        return (n = Object.setPrototypeOf || { __proto__: [] }\n            instanceof Array && function(e, t) { e.__proto__ = t } || function(e, t) { for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]) })(e, t)\n    }, function(e, t) {\n        function o() { this.constructor = e }\n        n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o)\n    }),\n    a = this && this.__decorate || function(e, t, o, n) {\n        var i, a = arguments.length,\n            r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;\n        if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);\n        else\n            for (var s = e.length - 1; 0 <= s; s--)(i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);\n        return 3 < a && r && Object.defineProperty(t, o, r), r\n    };\nObject.defineProperty(o, \"__esModule\", { value: !0 });\nvar r, l = e(\"AppCommon\"),\n    s = e(\"CCTool\"),\n    c = e(\"ListenID\"),\n    p = e(\"ElementBase\"),\n    d = e(\"GameScene\"),\n    u = e(\"AIState\"),\n    f = e(\"FSMBase\"),\n    t = cc._decorator,\n    e = t.ccclass,\n    e = (t.property, r = f.default, i(h, r), h.prototype.initState = function(e) {\n        var t = this;\n        cc.log(\"初始化所有状态\"), this.ower = e, this._AiParameter = new u.AiParameter, this._AiParameter.moveSpeed = this.ower.attribute.data.MoveSpeedGhost, this._AiParameter.AttackRange = 120, this.statesList[u.StateType.Idle] = new u.IdleState(this), this.statesList[u.StateType.Treat] = new g(this), this.statesList[u.StateType.Die] = new u.DieState(this), this.statesList[u.StateType.Attack] = new u.AttackState(this), this.statesList[u.StateType.Ready] = new u.ReadyState(this), this.setAIState(u.StateType.Idle), this.schedule(this.setIdleDialogue, 3.5), this.setIdleDialogue(), l.default.MapClr.myMap.node.on(c.ListenID.GameState, function() { l.default.GScene._GameState == d.GAME_STATE.Game && (t.unschedule(t.setIdleDialogue), t.setAIState(u.StateType.Attack), l.default.MapClr.newEffects(t.node.position, \"heal\", function(e) { e.setParent(l.default.MapClr.myMap.node), e.setPosition(t.node.x, t.node.y + 100) })) }, this), this.CDManage = new s.CCTool.CDManage, this.CDManage.UpCDFun = { atk: function() { return 1 / (t.ower.attribute.data.atkspeed - t.ower.attribute.data.atkspeed * (t.target ? t.target._atkSpeedDown : 0) + t.ower.isRageAtkSpeed) }, think: function() { return .1 }, atkDialogue: function() { return 10 }, treat: function() { return 1 } }, this.CDManage.Init(), this.startPos = l.default.MapClr.getMapPos(this.node.position), this.startPosV2 = this.node.position.add(cc.v2(0, 100))\n    }, h.prototype.newThink = function() { this.CDManage.Check(\"think\") && (this.CDManage.Set(\"think\"), this.searchRole()) }, h.prototype.checkSkill = function() {}, h.prototype.getIsInRoom = function(e) { var t = l.default.MapClr.getMapPos(this.node.position); return !!(e.myBed && e.myBed.myTerritoryMap && e.myBed.myTerritoryMap[t.x] && e.myBed.myTerritoryMap[t.x][t.y]) }, h.prototype.checkinRange = function(e, t, o, n) {\n        for (var i = 0, a = n.length / 2; i < a; i++) {\n            var r = n[2 * i],\n                s = n[2 * i + 1];\n            if (e == o.x + r && t == o.y + s) return !0\n        }\n        return !1\n    }, h.prototype.searchRole = function() {\n        this.target = null, this.attackTarget = null;\n        var e = l.default.MapClr.getMapPos(this.node.position);\n        for (a in l.default.MapClr.roleList) {\n            var t = l.default.MapClr.roleList[a];\n            if (t.myDoor) {\n                this.target = t;\n                var o = null === (t = this.target.myBed) || void 0 === t ? void 0 : t.myTerritoryMap;\n                if (o && 0 < o.length)\n                    for (var n in o)\n                        for (var i in o[n])(r = o[n][i]).arc && r.arc.node.active && 0 < r.arc._life && this.checkinRange(Number(n), Number(i), e, this._searchPosOffset) && (this.attackTarget = r.arc)\n            }\n        }\n        if (!this.attackTarget)\n            for (var a in l.default.MapClr.roleList) {\n                var r = l.default.MapClr.roleList[a],\n                    s = l.default.MapClr.getMapPos(r.node.position);\n                if (0 < r._life && this.checkinRange(s.x, s.y, e, this._searchPosOffset)) { this.target = r, this.attackTarget = r; break }\n            }\n        if (!this.attackTarget)\n            for (var c in l.default.MapClr.bedList) { c = l.default.MapClr.bedList[c]; if (c && 0 < c._life && null == c.ower && (s = l.default.MapClr.getMapPos(c.node.position), this.checkinRange(s.x, s.y, e, this._searchPosOffset))) { this.attackTarget = c; break } }\n        this._AttackTime = 0\n    }, h.prototype.searchPath = function() {}, h.prototype.onMoveEnd = function() { this.ower.mySkeleton.timeScale = 1, this.setAIState(u.StateType.Idle), this.CDManage.Clear(\"atk\") }, h.prototype.checkAttack = function() {}, h.prototype.attackRoleById = function() {}, h.prototype.searchAttackRole = function() {}, h.prototype.sendAttack = function(e) { this.CDManage.Check(\"atk\") && e && e.isValid && (this.CDManage.Set(\"atk\"), this.ower.mySkeleton.timeScale = 1 / this.CDManage.limt.atk, this.ower.mySkeleton.node.scaleX = this.node.x > e.x ? 1 : -1, this.setAIState(u.StateType.Attack), this.ower.setHurt(e)) }, h.prototype.checkLife = function() {}, h.prototype.renounceTarget = function() {}, h.prototype.getTreatmentPoint = function() {\n        var t = this;\n        this.ower.mySkeleton.timeScale = this._AiParameter.moveSpeed / 160, this.schedule(this.setTreatment, 1), this.ower.node.setPosition(this.startPosV2), l.default.MapClr.newDialogue(this.node, cc.v2(20, 150), l.default.GetArrTarge(this.DialogueList[u.StateType.Escape]), 3), this.healEffects || l.default.MapClr.newEffects(this.node.position, \"heal\", function(e) { e.setParent(t.node), e.setPosition(0, 0), e.zIndex = t.node.zIndex + 1, t.healEffects = e, t.healEffects.active = !1 })\n    }, h.prototype.setTreatment = function() { this.healEffects && this.healEffects.isValid && (this.healEffects.active || l.default.MapClr.newDialogue(this.node, cc.v2(20, 150), l.default.GetArrTarge(this.DialogueList[u.StateType.Treat]), 9), this.healEffects.active = !0), this.ower.setLife(new p.HurtData(.1 * this.ower.attribute.data.hp)), .95 < this.ower._lifeRatio && (this.healEffects && (this.healEffects.active = !1), this.unschedule(this.setTreatment), this.ower.mySkeleton.timeScale = 1, this.setAIState(u.StateType.Attack), this.ower.setAnimation(\"idle\", !0)) }, h.prototype.onDestroy = function() { this.unscheduleAllCallbacks() }, h.prototype.onUplv = function() {}, h.prototype.update = function(e) { var t, o;!l.default.GScene.isPause && this.ower._isActive && l.default.GScene._GameState == d.GAME_STATE.Game && (this.CDManage.OnUpdate(e), this.newThink(e), this.CDManage.Up(\"atk\"), this.attackTarget ? (this.setAtkDialogue(), this.sendAttack(this.attackTarget.node)) : (t = l.default.getDistanceSqrt(this.startPosV2, this.node.position), !this._isInTreatRect && this.ower._lifeRatio < .98 && t <= 2e3 && this.currentState != u.StateType.Treat && this.CDManage.Check(\"treat\") && (this.CDManage.Set(\"treat\"), this.setAIState(u.StateType.Treat), this.getTreatmentPoint(), this._isInTreatRect = !0), 6200 < t && (this._isInTreatRect = !1), this.currentState != u.StateType.Treat && (0 == (o = l.default.GScene.joyStick.linearVelocity).x && 0 == o.y ? this.ower.setAnimation(\"idle\", !0) : this.ower.setAnimation(\"move\", !0))), l.default.GScene._PlayerState == d.PLAYER_STATE.Move && !this.ower._isControl && this.CDManage.Check(\"treat\") && (0 == (o = l.default.GScene.joyStick.linearVelocity).x && 0 == o.y || (this.ower.mySkeleton.node.scaleX = 0 < o.x ? -1 : 1, this.currentState == u.StateType.Treat && (this.healEffects && (this.healEffects.active = !1), this.unschedule(this.setTreatment), this.ower.mySkeleton.timeScale = 1, this.setAIState(u.StateType.Attack), this.ower.setAnimation(\"idle\", !0)), l.default.GScene.GameCamera.node.position = this.ower.node.position), cc.Vec2.multiplyScalar(y, o.normalizeSelf(), this._AiParameter.moveSpeed * e), cc.Vec2.add(y, this.ower.node.position, y), this.ower.node.setPosition(y), this.ower.getZIndex(), this.currentStateClr.OnUpdate(e))) }, h.prototype.setIdleDialogue = function() {\n        var e = this.DialogueList[u.StateType.Idle][this.DialogueNum];\n        e ? (l.default.MapClr.newDialogue(this.node, cc.v2(20, 150), e, 2.5), this.DialogueNum++) : this.DialogueNum = 0\n    }, h.prototype.setAtkDialogue = function() { this.CDManage.Check(\"atkDialogue\") && (this.CDManage.Set(\"atkDialogue\"), l.default.MapClr.newDialogue(this.node, cc.v2(20, 150), l.default.GetArrTarge(this.DialogueList[u.StateType.Attack]), 3)) }, a([e], h));\n\nfunction h() { var e = null !== r && r.apply(this, arguments) || this; return e.statesList = [], e._searchPosOffset = [0, 0, 1, 0, 0, 1, -1, 0, 0, -1, 1, 1, -1, -1, -1, 1, 1, -1], e._AttackTime = 0, e._isInTreatRect = !0, e._time = 0, e.DialogueNum = 0, e.DialogueList = {}, e }\no.default = e;\nvar m, y = cc.v2(),\n    g = (m = u.AIStateBase, i(_, m), _.prototype.OnEnter = function() { this._myTarget.setAnimation(\"sitting1\", !0) }, _.prototype.OnUpdate = function() {}, _.prototype.OnExit = function() {}, _);\n\nfunction _() { return null !== m && m.apply(this, arguments) || this }"]}