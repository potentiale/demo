{"version":3,"sources":["assets\\scripts\\WC_Battery.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","p","d","u","f","h","m","cc","_decorator","ccclass","menu","property","WarChessBase","y","onInit","node","addComponent","ower","MapClr","myMap","on","ListenID","WC_BULLET","_isActive","pointType","POINT_TYPE","BATTLEFIELD","setHurt","initAttribute","imgList","children","getComponent","Sprite","lvText","Label","setAttribute","mySkeleton","sp","Skeleton","getZIndex","parameter","JSON","parse","attribute","name","buildingType","buildingID","buildID","lv","level","data","isMax","Cfg","Building999","get","id","_life","hp","string","atk","setConstructImg","setContentSize","width","isUpdataIme","resources","load","SpriteFrame","spriteFrame","active","seed","upAttribute","tween","to","scale","start","setFreshBox","getBulletData","CONFIG_INFO","AITag","newLabelTips","attack","position","Color","BLUE","num","scheduleOnce","setAnimation","newBullet2","tag","img","speed","owerID","_owerID","hurtData","HurtData","Element_Type","Role","CCTool","Audio","Player","ratio","Math","ceil","pow","apply","type","WC_Battery"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(r=(a<3?i(r):3<a?i(t,o,r):i(t,o))||r);return 3<a&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,\"__esModule\",{value:!0});var r,s=e(\"AppCommon\"),c=e(\"CCTool\"),l=e(\"ListenID\"),p=e(\"Cfg\"),d=e(\"WarChessManage\"),u=e(\"ElementBase\"),f=e(\"WarChessBase\"),h=e(\"WarChessTouch\"),m=cc._decorator,t=m.ccclass,e=m.menu,e=(m.property,r=f.WarChessBase,i(y,r),y.prototype.onInit=function(){var e=this;this.node.addComponent(h.default).ower=this,s.default.MapClr.myMap.node.on(l.ListenID.WC_BULLET,function(){e._isActive&&e.pointType==d.POINT_TYPE.BATTLEFIELD&&e.setHurt()},this)},y.prototype.initAttribute=function(e){this.imgList[0]=this.node.children[0].getComponent(cc.Sprite),this.imgList[1]=this.node.children[1].getComponent(cc.Sprite),this.imgList[2]=this.node.children[2].getComponent(cc.Sprite),this.lvText=this.imgList[1].node.children[0].children[0].getComponent(cc.Label),this.setAttribute(e),this.mySkeleton=this.node.children[0].getComponent(sp.Skeleton),this.getZIndex(),this.onInit()},y.prototype.setAttribute=function(e){var t=this;\"string\"==typeof e.parameter&&(e.parameter=JSON.parse(e.parameter)),this.attribute={name:e.name,buildingType:e.buildingType,buildingID:e.buildID,lv:e.level,data:e},this.attribute.isMax=!p.Cfg.Building999.get(e.id+1),this._life=e.hp||1,this.lvText.string=e.atk+\"\",this.setConstructImg(this.imgList[1],e.parameter[1],function(){t.imgList[0].node.setContentSize(t.imgList[1].node.width,1.04*t.imgList[1].node.width)}),this.getZIndex()},y.prototype.setConstructImg=function(o,e,n){var i=this;void 0===o&&(o=this.imgList[0]),this.isUpdataIme&&o&&(cc.resources.load(\"img/model_4/\"+e,cc.SpriteFrame,function(e,t){o.spriteFrame=t,n&&n()}),this.imgList[2].node.active&&cc.resources.load(this.attribute.data.seed,cc.SpriteFrame,function(e,t){i.imgList[2].spriteFrame=t}))},y.prototype.upAttribute=function(e){(e=e||p.Cfg.Building999.get(this.attribute.data.id+1))&&(this.setAttribute(e),cc.tween(this.node).to(.1,{scale:1.1}).to(.2,{scale:1}).start())},y.prototype.setFreshBox=function(e){var o=this;this.imgList[0].node.active=this.imgList[1].node.active=!e,this.imgList[2].node.active=e,cc.resources.load(this.attribute.data.seed,cc.SpriteFrame,function(e,t){o.imgList[2].spriteFrame=t})},y.prototype.setHurt=function(){var e=this,t=this.getBulletData();s.default.CONFIG_INFO.AITag&&s.default.MapClr.newLabelTips(\"-\"+t.attack,this.node.position,cc.Color.BLUE,\"energy\");for(var o=0;o<t.num;o++)this.scheduleOnce(function(){e.setAnimation(\"f_\"+e.attribute.lv),s.default.MapClr.newBullet2(e.node.position,{tag:null,img:e.attribute.data.parameter[0],speed:1200,owerID:e._owerID,hurtData:new u.HurtData(-t.attack,1,u.Element_Type.Role),call:function(){c.CCTool.Audio.Player(\"m4_shot\")}})},t.ratio*o)},y.prototype.getBulletData=function(){var e=1,t=.5,o=1,n=this.attribute.data.level,t=n<=2?(e=n,.1):(e=n<=5?n+1:6,.05);return 1==n||2==n||3==n?o=1:4==n?o=Math.ceil(1.6):5==n?o=Math.ceil(16/6*1e4/1e4):5<n&&(o=Math.ceil(Math.pow(2,n-1)/6*1e4/1e4)),{num:e,attack:o,ratio:t}},a([t,e(\"gameElement/WC_Battery\")],y));function y(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=u.Element_Type.WC_Battery,e.attribute=null,e}o.default=e"]}