
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/Battery.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '32941byoOFPA4Yrb9+2eLBk', 'Battery');
// scripts/Battery.js

"use strict";

var e = require;
var t = module;
var o = exports;
"use strict";

var _n,
    i = void 0 && (void 0).__extends || (_n = function n(e, t) {
  return (_n = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (e, t) {
    e.__proto__ = t;
  } || function (e, t) {
    for (var o in t) {
      Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
  })(e, t);
}, function (e, t) {
  function o() {
    this.constructor = e;
  }

  _n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}),
    a = void 0 && (void 0).__decorate || function (e, t, o, n) {
  var i,
      a = arguments.length,
      r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);else for (var s = e.length - 1; 0 <= s; s--) {
    (i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);
  }
  return 3 < a && r && Object.defineProperty(t, o, r), r;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});
var r,
    s = e("AppCommon"),
    c = e("CCTool"),
    l = e("ListenID"),
    p = e("ConstructBase"),
    d = e("ElementBase"),
    u = cc._decorator,
    t = u.ccclass,
    e = u.menu,
    e = (u.property, r = p["default"], i(f, r), f.prototype.onInit = function () {
  var o = this;
  this.upAttackSpeed(500), this.imgList[0] = this.node.children[0].getComponent(cc.Sprite), this.imgList[1] = this.node.children[1].getComponent(cc.Sprite), s["default"].MapClr.myMap.node.on(l.ListenID.Monster_Skill, function (t) {
    o._isActive && 2 == t.type && s["default"].getDistance(o.node.position, s["default"].MapClr.monsterList[0].node.position) < t.parameter[0] && s["default"].MapClr.newEffects(o.node.position, "dizzy", function (e) {
      e.setParent(o.node), e.setPosition(0, 0), e.zIndex = o.node.zIndex + 1, o.setState(!1), o.scheduleOnce(function () {
        o.setState(!0), s["default"].MapClr.deleteNode(e);
      }, t.last);
    });
  }, this);
}, f.prototype.setConstructImg = function () {
  var o = this;
  cc.resources.load("img/gameResources/base0" + this.attribute.data.parameter[0], cc.SpriteFrame, function (e, t) {
    o.imgList && o.imgList[0] && (o.imgList[0].spriteFrame = t);
  }), cc.resources.load("img/gameResources/" + this.attribute.data.id, cc.SpriteFrame, function (e, t) {
    o.imgList && o.imgList[1] && (o.imgList[1].spriteFrame = t);
  });
}, f.prototype.update = function (e) {
  !s["default"].GScene.isPause && this._isHaveUpDate && (this._time += e, this._time > this._attackSpeed) && ((e = s["default"].weightGetValue(this.searchRecentMoster())) && (this.upAttackSpeed(e.d), this.setHurt(s["default"].MapClr.monsterList[e.i])), this._time = 0);
}, f.prototype.upAttackSpeed = function (e) {
  var t, o, n;
  this.attribute.data.frequency <= 0 || (o = (t = 1 / this.attribute.data.frequency) * (this.ower.myBuildNum[19] * s["default"].MapClr.arcIDList[19].parameter[0] || 0), n = s["default"].MapClr.arcIDList[20].parameter, n = t * ((this.attribute.data.atkRadius - e) / n[0] * n[1] * this.ower.myBuildNum[20] || 0), this._attackSpeed = 1 / (t + o + n), this._attackRadius = this.attribute.data.atkRadius * (1 + (this.ower.myBuildNum[18] * s["default"].MapClr.arcIDList[18].parameter[0] || 0)));
}, f.prototype.setHurt = function (n) {
  var i = this,
      e = s["default"].getAngle(n.node.position, this.node.position) - 90,
      a = this.attribute.data.atk;
  cc.tween(this.imgList[1].node).to(.2, {
    angle: e
  }).call(function () {
    c.CCTool.Audio.CameraPlayer(i.node.position, "Tower_Attack");
    var e = i.ower.roleID,
        t = i.ower.type,
        o = new d.HurtData(-a, e, t);
    s["default"].MapClr.newBullet(i.node.position, {
      tag: n,
      img: "bullet0" + i.attribute.data.parameter[1],
      speed: 400,
      owerID: i._owerID,
      hurtData: o,
      call: function call() {
        var e;
        n.node.emit(l.ListenID.Send_Hurt, o), i.ower && i.ower._canStealMoney && (e = i.attribute.lv * i.attribute.data.parameter[0], e *= i.ower.outputRatio, i.ower.setCoin(e), c.CCTool.System.InCamera(i.node.position) && s["default"].MapClr.newLabelTips("+" + e, i.node.position, cc.Color.YELLOW, "Fish coin"));
      }
    });
  }).start();
}, a([t, e("gameElement/Battery")], f));

function f() {
  var e = null !== r && r.apply(this, arguments) || this;
  return e._time = 0, e;
}

o["default"] = e;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcQmF0dGVyeS5qcyJdLCJuYW1lcyI6WyJlIiwicmVxdWlyZSIsInQiLCJtb2R1bGUiLCJvIiwiZXhwb3J0cyIsIm4iLCJpIiwiX19leHRlbmRzIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiYSIsIl9fZGVjb3JhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwicyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjIiwibCIsInAiLCJkIiwidSIsImNjIiwiX2RlY29yYXRvciIsImNjY2xhc3MiLCJtZW51IiwicHJvcGVydHkiLCJmIiwib25Jbml0IiwidXBBdHRhY2tTcGVlZCIsImltZ0xpc3QiLCJub2RlIiwiY2hpbGRyZW4iLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJNYXBDbHIiLCJteU1hcCIsIm9uIiwiTGlzdGVuSUQiLCJNb25zdGVyX1NraWxsIiwiX2lzQWN0aXZlIiwidHlwZSIsImdldERpc3RhbmNlIiwicG9zaXRpb24iLCJtb25zdGVyTGlzdCIsInBhcmFtZXRlciIsIm5ld0VmZmVjdHMiLCJzZXRQYXJlbnQiLCJzZXRQb3NpdGlvbiIsInpJbmRleCIsInNldFN0YXRlIiwic2NoZWR1bGVPbmNlIiwiZGVsZXRlTm9kZSIsImxhc3QiLCJzZXRDb25zdHJ1Y3RJbWciLCJyZXNvdXJjZXMiLCJsb2FkIiwiYXR0cmlidXRlIiwiZGF0YSIsIlNwcml0ZUZyYW1lIiwic3ByaXRlRnJhbWUiLCJpZCIsInVwZGF0ZSIsIkdTY2VuZSIsImlzUGF1c2UiLCJfaXNIYXZlVXBEYXRlIiwiX3RpbWUiLCJfYXR0YWNrU3BlZWQiLCJ3ZWlnaHRHZXRWYWx1ZSIsInNlYXJjaFJlY2VudE1vc3RlciIsInNldEh1cnQiLCJmcmVxdWVuY3kiLCJvd2VyIiwibXlCdWlsZE51bSIsImFyY0lETGlzdCIsImF0a1JhZGl1cyIsIl9hdHRhY2tSYWRpdXMiLCJnZXRBbmdsZSIsImF0ayIsInR3ZWVuIiwidG8iLCJhbmdsZSIsIkNDVG9vbCIsIkF1ZGlvIiwiQ2FtZXJhUGxheWVyIiwicm9sZUlEIiwiSHVydERhdGEiLCJuZXdCdWxsZXQiLCJ0YWciLCJpbWciLCJzcGVlZCIsIm93ZXJJRCIsIl9vd2VySUQiLCJodXJ0RGF0YSIsImVtaXQiLCJTZW5kX0h1cnQiLCJfY2FuU3RlYWxNb25leSIsImx2Iiwib3V0cHV0UmF0aW8iLCJzZXRDb2luIiwiU3lzdGVtIiwiSW5DYW1lcmEiLCJuZXdMYWJlbFRpcHMiLCJDb2xvciIsIllFTExPVyIsInN0YXJ0IiwiYXBwbHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBQyxHQUFDQyxPQUFOO0FBQ0EsSUFBSUMsQ0FBQyxHQUFDQyxNQUFOO0FBQ0EsSUFBSUMsQ0FBQyxHQUFDQyxPQUFOO0FBQ0E7O0FBQWEsSUFBSUMsRUFBSjtBQUFBLElBQU1DLENBQUMsR0FBQyxVQUFNLFNBQUtDLFNBQVgsS0FBdUJGLEVBQUMsR0FBQyxXQUFTTixDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDLFNBQU0sQ0FBQ0ksRUFBQyxHQUFDRyxNQUFNLENBQUNDLGNBQVAsSUFBdUI7QUFBQ0MsSUFBQUEsU0FBUyxFQUFDO0FBQVgsZUFBeUJDLEtBQXpCLElBQWdDLFVBQVNaLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUNGLElBQUFBLENBQUMsQ0FBQ1csU0FBRixHQUFZVCxDQUFaO0FBQWMsR0FBbkYsSUFBcUYsVUFBU0YsQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQyxTQUFJLElBQUlFLENBQVIsSUFBYUYsQ0FBYjtBQUFlTyxNQUFBQSxNQUFNLENBQUNJLFNBQVAsQ0FBaUJDLGNBQWpCLENBQWdDQyxJQUFoQyxDQUFxQ2IsQ0FBckMsRUFBdUNFLENBQXZDLE1BQTRDSixDQUFDLENBQUNJLENBQUQsQ0FBRCxHQUFLRixDQUFDLENBQUNFLENBQUQsQ0FBbEQ7QUFBZjtBQUFzRSxHQUE1SyxFQUE4S0osQ0FBOUssRUFBZ0xFLENBQWhMLENBQU47QUFBeUwsQ0FBek0sRUFBME0sVUFBU0YsQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQyxXQUFTRSxDQUFULEdBQVk7QUFBQyxTQUFLWSxXQUFMLEdBQWlCaEIsQ0FBakI7QUFBbUI7O0FBQUFNLEVBQUFBLEVBQUMsQ0FBQ04sQ0FBRCxFQUFHRSxDQUFILENBQUQsRUFBT0YsQ0FBQyxDQUFDYSxTQUFGLEdBQVksU0FBT1gsQ0FBUCxHQUFTTyxNQUFNLENBQUNRLE1BQVAsQ0FBY2YsQ0FBZCxDQUFULElBQTJCRSxDQUFDLENBQUNTLFNBQUYsR0FBWVgsQ0FBQyxDQUFDVyxTQUFkLEVBQXdCLElBQUlULENBQUosRUFBbkQsQ0FBbkI7QUFBNkUsQ0FBNVYsQ0FBUjtBQUFBLElBQXNXYyxDQUFDLEdBQUMsVUFBTSxTQUFLQyxVQUFYLElBQXVCLFVBQVNuQixDQUFULEVBQVdFLENBQVgsRUFBYUUsQ0FBYixFQUFlRSxDQUFmLEVBQWlCO0FBQUMsTUFBSUMsQ0FBSjtBQUFBLE1BQU1XLENBQUMsR0FBQ0UsU0FBUyxDQUFDQyxNQUFsQjtBQUFBLE1BQXlCQyxDQUFDLEdBQUNKLENBQUMsR0FBQyxDQUFGLEdBQUloQixDQUFKLEdBQU0sU0FBT0ksQ0FBUCxHQUFTQSxDQUFDLEdBQUNHLE1BQU0sQ0FBQ2Msd0JBQVAsQ0FBZ0NyQixDQUFoQyxFQUFrQ0UsQ0FBbEMsQ0FBWCxHQUFnREUsQ0FBakY7QUFBbUYsTUFBRyxZQUFVLE9BQU9rQixPQUFqQixJQUEwQixjQUFZLE9BQU9BLE9BQU8sQ0FBQ0MsUUFBeEQsRUFBaUVILENBQUMsR0FBQ0UsT0FBTyxDQUFDQyxRQUFSLENBQWlCekIsQ0FBakIsRUFBbUJFLENBQW5CLEVBQXFCRSxDQUFyQixFQUF1QkUsQ0FBdkIsQ0FBRixDQUFqRSxLQUFrRyxLQUFJLElBQUlvQixDQUFDLEdBQUMxQixDQUFDLENBQUNxQixNQUFGLEdBQVMsQ0FBbkIsRUFBcUIsS0FBR0ssQ0FBeEIsRUFBMEJBLENBQUMsRUFBM0I7QUFBOEIsS0FBQ25CLENBQUMsR0FBQ1AsQ0FBQyxDQUFDMEIsQ0FBRCxDQUFKLE1BQVdKLENBQUMsR0FBQyxDQUFDSixDQUFDLEdBQUMsQ0FBRixHQUFJWCxDQUFDLENBQUNlLENBQUQsQ0FBTCxHQUFTLElBQUVKLENBQUYsR0FBSVgsQ0FBQyxDQUFDTCxDQUFELEVBQUdFLENBQUgsRUFBS2tCLENBQUwsQ0FBTCxHQUFhZixDQUFDLENBQUNMLENBQUQsRUFBR0UsQ0FBSCxDQUF4QixLQUFnQ2tCLENBQTdDO0FBQTlCO0FBQThFLFNBQU8sSUFBRUosQ0FBRixJQUFLSSxDQUFMLElBQVFiLE1BQU0sQ0FBQ2tCLGNBQVAsQ0FBc0J6QixDQUF0QixFQUF3QkUsQ0FBeEIsRUFBMEJrQixDQUExQixDQUFSLEVBQXFDQSxDQUE1QztBQUE4QyxDQUFsc0I7O0FBQW1zQmIsTUFBTSxDQUFDa0IsY0FBUCxDQUFzQnZCLENBQXRCLEVBQXdCLFlBQXhCLEVBQXFDO0FBQUN3QixFQUFBQSxLQUFLLEVBQUMsQ0FBQztBQUFSLENBQXJDO0FBQWlELElBQUlOLENBQUo7QUFBQSxJQUFNSSxDQUFDLEdBQUMxQixDQUFDLENBQUMsV0FBRCxDQUFUO0FBQUEsSUFBdUI2QixDQUFDLEdBQUM3QixDQUFDLENBQUMsUUFBRCxDQUExQjtBQUFBLElBQXFDOEIsQ0FBQyxHQUFDOUIsQ0FBQyxDQUFDLFVBQUQsQ0FBeEM7QUFBQSxJQUFxRCtCLENBQUMsR0FBQy9CLENBQUMsQ0FBQyxlQUFELENBQXhEO0FBQUEsSUFBMEVnQyxDQUFDLEdBQUNoQyxDQUFDLENBQUMsYUFBRCxDQUE3RTtBQUFBLElBQTZGaUMsQ0FBQyxHQUFDQyxFQUFFLENBQUNDLFVBQWxHO0FBQUEsSUFBNkdqQyxDQUFDLEdBQUMrQixDQUFDLENBQUNHLE9BQWpIO0FBQUEsSUFBeUhwQyxDQUFDLEdBQUNpQyxDQUFDLENBQUNJLElBQTdIO0FBQUEsSUFBa0lyQyxDQUFDLElBQUVpQyxDQUFDLENBQUNLLFFBQUYsRUFBV2hCLENBQUMsR0FBQ1MsQ0FBQyxXQUFkLEVBQXVCeEIsQ0FBQyxDQUFDZ0MsQ0FBRCxFQUFHakIsQ0FBSCxDQUF4QixFQUE4QmlCLENBQUMsQ0FBQzFCLFNBQUYsQ0FBWTJCLE1BQVosR0FBbUIsWUFBVTtBQUFDLE1BQUlwQyxDQUFDLEdBQUMsSUFBTjtBQUFXLE9BQUtxQyxhQUFMLENBQW1CLEdBQW5CLEdBQXdCLEtBQUtDLE9BQUwsQ0FBYSxDQUFiLElBQWdCLEtBQUtDLElBQUwsQ0FBVUMsUUFBVixDQUFtQixDQUFuQixFQUFzQkMsWUFBdEIsQ0FBbUNYLEVBQUUsQ0FBQ1ksTUFBdEMsQ0FBeEMsRUFBc0YsS0FBS0osT0FBTCxDQUFhLENBQWIsSUFBZ0IsS0FBS0MsSUFBTCxDQUFVQyxRQUFWLENBQW1CLENBQW5CLEVBQXNCQyxZQUF0QixDQUFtQ1gsRUFBRSxDQUFDWSxNQUF0QyxDQUF0RyxFQUFvSnBCLENBQUMsV0FBRCxDQUFVcUIsTUFBVixDQUFpQkMsS0FBakIsQ0FBdUJMLElBQXZCLENBQTRCTSxFQUE1QixDQUErQm5CLENBQUMsQ0FBQ29CLFFBQUYsQ0FBV0MsYUFBMUMsRUFBd0QsVUFBU2pELENBQVQsRUFBVztBQUFDRSxJQUFBQSxDQUFDLENBQUNnRCxTQUFGLElBQWEsS0FBR2xELENBQUMsQ0FBQ21ELElBQWxCLElBQXdCM0IsQ0FBQyxXQUFELENBQVU0QixXQUFWLENBQXNCbEQsQ0FBQyxDQUFDdUMsSUFBRixDQUFPWSxRQUE3QixFQUFzQzdCLENBQUMsV0FBRCxDQUFVcUIsTUFBVixDQUFpQlMsV0FBakIsQ0FBNkIsQ0FBN0IsRUFBZ0NiLElBQWhDLENBQXFDWSxRQUEzRSxJQUFxRnJELENBQUMsQ0FBQ3VELFNBQUYsQ0FBWSxDQUFaLENBQTdHLElBQTZIL0IsQ0FBQyxXQUFELENBQVVxQixNQUFWLENBQWlCVyxVQUFqQixDQUE0QnRELENBQUMsQ0FBQ3VDLElBQUYsQ0FBT1ksUUFBbkMsRUFBNEMsT0FBNUMsRUFBb0QsVUFBU3ZELENBQVQsRUFBVztBQUFDQSxNQUFBQSxDQUFDLENBQUMyRCxTQUFGLENBQVl2RCxDQUFDLENBQUN1QyxJQUFkLEdBQW9CM0MsQ0FBQyxDQUFDNEQsV0FBRixDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsQ0FBcEIsRUFBdUM1RCxDQUFDLENBQUM2RCxNQUFGLEdBQVN6RCxDQUFDLENBQUN1QyxJQUFGLENBQU9rQixNQUFQLEdBQWMsQ0FBOUQsRUFBZ0V6RCxDQUFDLENBQUMwRCxRQUFGLENBQVcsQ0FBQyxDQUFaLENBQWhFLEVBQStFMUQsQ0FBQyxDQUFDMkQsWUFBRixDQUFlLFlBQVU7QUFBQzNELFFBQUFBLENBQUMsQ0FBQzBELFFBQUYsQ0FBVyxDQUFDLENBQVosR0FBZXBDLENBQUMsV0FBRCxDQUFVcUIsTUFBVixDQUFpQmlCLFVBQWpCLENBQTRCaEUsQ0FBNUIsQ0FBZjtBQUE4QyxPQUF4RSxFQUF5RUUsQ0FBQyxDQUFDK0QsSUFBM0UsQ0FBL0U7QUFBZ0ssS0FBaE8sQ0FBN0g7QUFBK1YsR0FBbmEsRUFBb2EsSUFBcGEsQ0FBcEo7QUFBOGpCLENBQXJvQixFQUFzb0IxQixDQUFDLENBQUMxQixTQUFGLENBQVlxRCxlQUFaLEdBQTRCLFlBQVU7QUFBQyxNQUFJOUQsQ0FBQyxHQUFDLElBQU47QUFBVzhCLEVBQUFBLEVBQUUsQ0FBQ2lDLFNBQUgsQ0FBYUMsSUFBYixDQUFrQiw0QkFBMEIsS0FBS0MsU0FBTCxDQUFlQyxJQUFmLENBQW9CYixTQUFwQixDQUE4QixDQUE5QixDQUE1QyxFQUE2RXZCLEVBQUUsQ0FBQ3FDLFdBQWhGLEVBQTRGLFVBQVN2RSxDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDRSxJQUFBQSxDQUFDLENBQUNzQyxPQUFGLElBQVd0QyxDQUFDLENBQUNzQyxPQUFGLENBQVUsQ0FBVixDQUFYLEtBQTBCdEMsQ0FBQyxDQUFDc0MsT0FBRixDQUFVLENBQVYsRUFBYThCLFdBQWIsR0FBeUJ0RSxDQUFuRDtBQUFzRCxHQUFoSyxHQUFrS2dDLEVBQUUsQ0FBQ2lDLFNBQUgsQ0FBYUMsSUFBYixDQUFrQix1QkFBcUIsS0FBS0MsU0FBTCxDQUFlQyxJQUFmLENBQW9CRyxFQUEzRCxFQUE4RHZDLEVBQUUsQ0FBQ3FDLFdBQWpFLEVBQTZFLFVBQVN2RSxDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDRSxJQUFBQSxDQUFDLENBQUNzQyxPQUFGLElBQVd0QyxDQUFDLENBQUNzQyxPQUFGLENBQVUsQ0FBVixDQUFYLEtBQTBCdEMsQ0FBQyxDQUFDc0MsT0FBRixDQUFVLENBQVYsRUFBYThCLFdBQWIsR0FBeUJ0RSxDQUFuRDtBQUFzRCxHQUFqSixDQUFsSztBQUFxVCxDQUE3K0IsRUFBOCtCcUMsQ0FBQyxDQUFDMUIsU0FBRixDQUFZNkQsTUFBWixHQUFtQixVQUFTMUUsQ0FBVCxFQUFXO0FBQUMsR0FBQzBCLENBQUMsV0FBRCxDQUFVaUQsTUFBVixDQUFpQkMsT0FBbEIsSUFBMkIsS0FBS0MsYUFBaEMsS0FBZ0QsS0FBS0MsS0FBTCxJQUFZOUUsQ0FBWixFQUFjLEtBQUs4RSxLQUFMLEdBQVcsS0FBS0MsWUFBOUUsTUFBOEYsQ0FBQy9FLENBQUMsR0FBQzBCLENBQUMsV0FBRCxDQUFVc0QsY0FBVixDQUF5QixLQUFLQyxrQkFBTCxFQUF6QixDQUFILE1BQTBELEtBQUt4QyxhQUFMLENBQW1CekMsQ0FBQyxDQUFDZ0MsQ0FBckIsR0FBd0IsS0FBS2tELE9BQUwsQ0FBYXhELENBQUMsV0FBRCxDQUFVcUIsTUFBVixDQUFpQlMsV0FBakIsQ0FBNkJ4RCxDQUFDLENBQUNPLENBQS9CLENBQWIsQ0FBbEYsR0FBbUksS0FBS3VFLEtBQUwsR0FBVyxDQUE1TztBQUErTyxDQUE1dkMsRUFBNnZDdkMsQ0FBQyxDQUFDMUIsU0FBRixDQUFZNEIsYUFBWixHQUEwQixVQUFTekMsQ0FBVCxFQUFXO0FBQUMsTUFBSUUsQ0FBSixFQUFNRSxDQUFOLEVBQVFFLENBQVI7QUFBVSxPQUFLK0QsU0FBTCxDQUFlQyxJQUFmLENBQW9CYSxTQUFwQixJQUErQixDQUEvQixLQUFtQy9FLENBQUMsR0FBQyxDQUFDRixDQUFDLEdBQUMsSUFBRSxLQUFLbUUsU0FBTCxDQUFlQyxJQUFmLENBQW9CYSxTQUF6QixLQUFxQyxLQUFLQyxJQUFMLENBQVVDLFVBQVYsQ0FBcUIsRUFBckIsSUFBeUIzRCxDQUFDLFdBQUQsQ0FBVXFCLE1BQVYsQ0FBaUJ1QyxTQUFqQixDQUEyQixFQUEzQixFQUErQjdCLFNBQS9CLENBQXlDLENBQXpDLENBQXpCLElBQXNFLENBQTNHLENBQUYsRUFBZ0huRCxDQUFDLEdBQUNvQixDQUFDLFdBQUQsQ0FBVXFCLE1BQVYsQ0FBaUJ1QyxTQUFqQixDQUEyQixFQUEzQixFQUErQjdCLFNBQWpKLEVBQTJKbkQsQ0FBQyxHQUFDSixDQUFDLElBQUUsQ0FBQyxLQUFLbUUsU0FBTCxDQUFlQyxJQUFmLENBQW9CaUIsU0FBcEIsR0FBOEJ2RixDQUEvQixJQUFrQ00sQ0FBQyxDQUFDLENBQUQsQ0FBbkMsR0FBdUNBLENBQUMsQ0FBQyxDQUFELENBQXhDLEdBQTRDLEtBQUs4RSxJQUFMLENBQVVDLFVBQVYsQ0FBcUIsRUFBckIsQ0FBNUMsSUFBc0UsQ0FBeEUsQ0FBOUosRUFBeU8sS0FBS04sWUFBTCxHQUFrQixLQUFHN0UsQ0FBQyxHQUFDRSxDQUFGLEdBQUlFLENBQVAsQ0FBM1AsRUFBcVEsS0FBS2tGLGFBQUwsR0FBbUIsS0FBS25CLFNBQUwsQ0FBZUMsSUFBZixDQUFvQmlCLFNBQXBCLElBQStCLEtBQUcsS0FBS0gsSUFBTCxDQUFVQyxVQUFWLENBQXFCLEVBQXJCLElBQXlCM0QsQ0FBQyxXQUFELENBQVVxQixNQUFWLENBQWlCdUMsU0FBakIsQ0FBMkIsRUFBM0IsRUFBK0I3QixTQUEvQixDQUF5QyxDQUF6QyxDQUF6QixJQUFzRSxDQUF6RSxDQUEvQixDQUEzVDtBQUF3YSxDQUFydEQsRUFBc3REbEIsQ0FBQyxDQUFDMUIsU0FBRixDQUFZcUUsT0FBWixHQUFvQixVQUFTNUUsQ0FBVCxFQUFXO0FBQUMsTUFBSUMsQ0FBQyxHQUFDLElBQU47QUFBQSxNQUFXUCxDQUFDLEdBQUMwQixDQUFDLFdBQUQsQ0FBVStELFFBQVYsQ0FBbUJuRixDQUFDLENBQUNxQyxJQUFGLENBQU9ZLFFBQTFCLEVBQW1DLEtBQUtaLElBQUwsQ0FBVVksUUFBN0MsSUFBdUQsRUFBcEU7QUFBQSxNQUF1RXJDLENBQUMsR0FBQyxLQUFLbUQsU0FBTCxDQUFlQyxJQUFmLENBQW9Cb0IsR0FBN0Y7QUFBaUd4RCxFQUFBQSxFQUFFLENBQUN5RCxLQUFILENBQVMsS0FBS2pELE9BQUwsQ0FBYSxDQUFiLEVBQWdCQyxJQUF6QixFQUErQmlELEVBQS9CLENBQWtDLEVBQWxDLEVBQXFDO0FBQUNDLElBQUFBLEtBQUssRUFBQzdGO0FBQVAsR0FBckMsRUFBZ0RlLElBQWhELENBQXFELFlBQVU7QUFBQ2MsSUFBQUEsQ0FBQyxDQUFDaUUsTUFBRixDQUFTQyxLQUFULENBQWVDLFlBQWYsQ0FBNEJ6RixDQUFDLENBQUNvQyxJQUFGLENBQU9ZLFFBQW5DLEVBQTRDLGNBQTVDO0FBQTRELFFBQUl2RCxDQUFDLEdBQUNPLENBQUMsQ0FBQzZFLElBQUYsQ0FBT2EsTUFBYjtBQUFBLFFBQW9CL0YsQ0FBQyxHQUFDSyxDQUFDLENBQUM2RSxJQUFGLENBQU8vQixJQUE3QjtBQUFBLFFBQWtDakQsQ0FBQyxHQUFDLElBQUk0QixDQUFDLENBQUNrRSxRQUFOLENBQWUsQ0FBQ2hGLENBQWhCLEVBQWtCbEIsQ0FBbEIsRUFBb0JFLENBQXBCLENBQXBDO0FBQTJEd0IsSUFBQUEsQ0FBQyxXQUFELENBQVVxQixNQUFWLENBQWlCb0QsU0FBakIsQ0FBMkI1RixDQUFDLENBQUNvQyxJQUFGLENBQU9ZLFFBQWxDLEVBQTJDO0FBQUM2QyxNQUFBQSxHQUFHLEVBQUM5RixDQUFMO0FBQU8rRixNQUFBQSxHQUFHLEVBQUMsWUFBVTlGLENBQUMsQ0FBQzhELFNBQUYsQ0FBWUMsSUFBWixDQUFpQmIsU0FBakIsQ0FBMkIsQ0FBM0IsQ0FBckI7QUFBbUQ2QyxNQUFBQSxLQUFLLEVBQUMsR0FBekQ7QUFBNkRDLE1BQUFBLE1BQU0sRUFBQ2hHLENBQUMsQ0FBQ2lHLE9BQXRFO0FBQThFQyxNQUFBQSxRQUFRLEVBQUNyRyxDQUF2RjtBQUF5RlcsTUFBQUEsSUFBSSxFQUFDLGdCQUFVO0FBQUMsWUFBSWYsQ0FBSjtBQUFNTSxRQUFBQSxDQUFDLENBQUNxQyxJQUFGLENBQU8rRCxJQUFQLENBQVk1RSxDQUFDLENBQUNvQixRQUFGLENBQVd5RCxTQUF2QixFQUFpQ3ZHLENBQWpDLEdBQW9DRyxDQUFDLENBQUM2RSxJQUFGLElBQVE3RSxDQUFDLENBQUM2RSxJQUFGLENBQU93QixjQUFmLEtBQWdDNUcsQ0FBQyxHQUFDTyxDQUFDLENBQUM4RCxTQUFGLENBQVl3QyxFQUFaLEdBQWV0RyxDQUFDLENBQUM4RCxTQUFGLENBQVlDLElBQVosQ0FBaUJiLFNBQWpCLENBQTJCLENBQTNCLENBQWpCLEVBQStDekQsQ0FBQyxJQUFFTyxDQUFDLENBQUM2RSxJQUFGLENBQU8wQixXQUF6RCxFQUFxRXZHLENBQUMsQ0FBQzZFLElBQUYsQ0FBTzJCLE9BQVAsQ0FBZS9HLENBQWYsQ0FBckUsRUFBdUY2QixDQUFDLENBQUNpRSxNQUFGLENBQVNrQixNQUFULENBQWdCQyxRQUFoQixDQUF5QjFHLENBQUMsQ0FBQ29DLElBQUYsQ0FBT1ksUUFBaEMsS0FBMkM3QixDQUFDLFdBQUQsQ0FBVXFCLE1BQVYsQ0FBaUJtRSxZQUFqQixDQUE4QixNQUFJbEgsQ0FBbEMsRUFBb0NPLENBQUMsQ0FBQ29DLElBQUYsQ0FBT1ksUUFBM0MsRUFBb0RyQixFQUFFLENBQUNpRixLQUFILENBQVNDLE1BQTdELEVBQW9FLFdBQXBFLENBQWxLLENBQXBDO0FBQXdSO0FBQXZZLEtBQTNDO0FBQXFiLEdBQTVtQixFQUE4bUJDLEtBQTltQjtBQUFzbkIsQ0FBNzhFLEVBQTg4RW5HLENBQUMsQ0FBQyxDQUFDaEIsQ0FBRCxFQUFHRixDQUFDLENBQUMscUJBQUQsQ0FBSixDQUFELEVBQThCdUMsQ0FBOUIsQ0FBajlFLENBQW5JOztBQUFzbkYsU0FBU0EsQ0FBVCxHQUFZO0FBQUMsTUFBSXZDLENBQUMsR0FBQyxTQUFPc0IsQ0FBUCxJQUFVQSxDQUFDLENBQUNnRyxLQUFGLENBQVEsSUFBUixFQUFhbEcsU0FBYixDQUFWLElBQW1DLElBQXpDO0FBQThDLFNBQU9wQixDQUFDLENBQUM4RSxLQUFGLEdBQVEsQ0FBUixFQUFVOUUsQ0FBakI7QUFBbUI7O0FBQUFJLENBQUMsV0FBRCxHQUFVSixDQUFWIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT1yZXF1aXJlO1xudmFyIHQ9bW9kdWxlO1xudmFyIG89ZXhwb3J0cztcblwidXNlIHN0cmljdFwiO3ZhciBuLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKG49T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfW4oZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihvLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbyl9KSxhPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGksYT1hcmd1bWVudHMubGVuZ3RoLHI9YTwzP3Q6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlyPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG8sbik7ZWxzZSBmb3IodmFyIHM9ZS5sZW5ndGgtMTswPD1zO3MtLSkoaT1lW3NdKSYmKHI9KGE8Mz9pKHIpOjM8YT9pKHQsbyxyKTppKHQsbykpfHxyKTtyZXR1cm4gMzxhJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLHIpLHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByLHM9ZShcIkFwcENvbW1vblwiKSxjPWUoXCJDQ1Rvb2xcIiksbD1lKFwiTGlzdGVuSURcIikscD1lKFwiQ29uc3RydWN0QmFzZVwiKSxkPWUoXCJFbGVtZW50QmFzZVwiKSx1PWNjLl9kZWNvcmF0b3IsdD11LmNjY2xhc3MsZT11Lm1lbnUsZT0odS5wcm9wZXJ0eSxyPXAuZGVmYXVsdCxpKGYsciksZi5wcm90b3R5cGUub25Jbml0PWZ1bmN0aW9uKCl7dmFyIG89dGhpczt0aGlzLnVwQXR0YWNrU3BlZWQoNTAwKSx0aGlzLmltZ0xpc3RbMF09dGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLHRoaXMuaW1nTGlzdFsxXT10aGlzLm5vZGUuY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkscy5kZWZhdWx0Lk1hcENsci5teU1hcC5ub2RlLm9uKGwuTGlzdGVuSUQuTW9uc3Rlcl9Ta2lsbCxmdW5jdGlvbih0KXtvLl9pc0FjdGl2ZSYmMj09dC50eXBlJiZzLmRlZmF1bHQuZ2V0RGlzdGFuY2Uoby5ub2RlLnBvc2l0aW9uLHMuZGVmYXVsdC5NYXBDbHIubW9uc3Rlckxpc3RbMF0ubm9kZS5wb3NpdGlvbik8dC5wYXJhbWV0ZXJbMF0mJnMuZGVmYXVsdC5NYXBDbHIubmV3RWZmZWN0cyhvLm5vZGUucG9zaXRpb24sXCJkaXp6eVwiLGZ1bmN0aW9uKGUpe2Uuc2V0UGFyZW50KG8ubm9kZSksZS5zZXRQb3NpdGlvbigwLDApLGUuekluZGV4PW8ubm9kZS56SW5kZXgrMSxvLnNldFN0YXRlKCExKSxvLnNjaGVkdWxlT25jZShmdW5jdGlvbigpe28uc2V0U3RhdGUoITApLHMuZGVmYXVsdC5NYXBDbHIuZGVsZXRlTm9kZShlKX0sdC5sYXN0KX0pfSx0aGlzKX0sZi5wcm90b3R5cGUuc2V0Q29uc3RydWN0SW1nPWZ1bmN0aW9uKCl7dmFyIG89dGhpcztjYy5yZXNvdXJjZXMubG9hZChcImltZy9nYW1lUmVzb3VyY2VzL2Jhc2UwXCIrdGhpcy5hdHRyaWJ1dGUuZGF0YS5wYXJhbWV0ZXJbMF0sY2MuU3ByaXRlRnJhbWUsZnVuY3Rpb24oZSx0KXtvLmltZ0xpc3QmJm8uaW1nTGlzdFswXSYmKG8uaW1nTGlzdFswXS5zcHJpdGVGcmFtZT10KX0pLGNjLnJlc291cmNlcy5sb2FkKFwiaW1nL2dhbWVSZXNvdXJjZXMvXCIrdGhpcy5hdHRyaWJ1dGUuZGF0YS5pZCxjYy5TcHJpdGVGcmFtZSxmdW5jdGlvbihlLHQpe28uaW1nTGlzdCYmby5pbWdMaXN0WzFdJiYoby5pbWdMaXN0WzFdLnNwcml0ZUZyYW1lPXQpfSl9LGYucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXshcy5kZWZhdWx0LkdTY2VuZS5pc1BhdXNlJiZ0aGlzLl9pc0hhdmVVcERhdGUmJih0aGlzLl90aW1lKz1lLHRoaXMuX3RpbWU+dGhpcy5fYXR0YWNrU3BlZWQpJiYoKGU9cy5kZWZhdWx0LndlaWdodEdldFZhbHVlKHRoaXMuc2VhcmNoUmVjZW50TW9zdGVyKCkpKSYmKHRoaXMudXBBdHRhY2tTcGVlZChlLmQpLHRoaXMuc2V0SHVydChzLmRlZmF1bHQuTWFwQ2xyLm1vbnN0ZXJMaXN0W2UuaV0pKSx0aGlzLl90aW1lPTApfSxmLnByb3RvdHlwZS51cEF0dGFja1NwZWVkPWZ1bmN0aW9uKGUpe3ZhciB0LG8sbjt0aGlzLmF0dHJpYnV0ZS5kYXRhLmZyZXF1ZW5jeTw9MHx8KG89KHQ9MS90aGlzLmF0dHJpYnV0ZS5kYXRhLmZyZXF1ZW5jeSkqKHRoaXMub3dlci5teUJ1aWxkTnVtWzE5XSpzLmRlZmF1bHQuTWFwQ2xyLmFyY0lETGlzdFsxOV0ucGFyYW1ldGVyWzBdfHwwKSxuPXMuZGVmYXVsdC5NYXBDbHIuYXJjSURMaXN0WzIwXS5wYXJhbWV0ZXIsbj10KigodGhpcy5hdHRyaWJ1dGUuZGF0YS5hdGtSYWRpdXMtZSkvblswXSpuWzFdKnRoaXMub3dlci5teUJ1aWxkTnVtWzIwXXx8MCksdGhpcy5fYXR0YWNrU3BlZWQ9MS8odCtvK24pLHRoaXMuX2F0dGFja1JhZGl1cz10aGlzLmF0dHJpYnV0ZS5kYXRhLmF0a1JhZGl1cyooMSsodGhpcy5vd2VyLm15QnVpbGROdW1bMThdKnMuZGVmYXVsdC5NYXBDbHIuYXJjSURMaXN0WzE4XS5wYXJhbWV0ZXJbMF18fDApKSl9LGYucHJvdG90eXBlLnNldEh1cnQ9ZnVuY3Rpb24obil7dmFyIGk9dGhpcyxlPXMuZGVmYXVsdC5nZXRBbmdsZShuLm5vZGUucG9zaXRpb24sdGhpcy5ub2RlLnBvc2l0aW9uKS05MCxhPXRoaXMuYXR0cmlidXRlLmRhdGEuYXRrO2NjLnR3ZWVuKHRoaXMuaW1nTGlzdFsxXS5ub2RlKS50byguMix7YW5nbGU6ZX0pLmNhbGwoZnVuY3Rpb24oKXtjLkNDVG9vbC5BdWRpby5DYW1lcmFQbGF5ZXIoaS5ub2RlLnBvc2l0aW9uLFwiVG93ZXJfQXR0YWNrXCIpO3ZhciBlPWkub3dlci5yb2xlSUQsdD1pLm93ZXIudHlwZSxvPW5ldyBkLkh1cnREYXRhKC1hLGUsdCk7cy5kZWZhdWx0Lk1hcENsci5uZXdCdWxsZXQoaS5ub2RlLnBvc2l0aW9uLHt0YWc6bixpbWc6XCJidWxsZXQwXCIraS5hdHRyaWJ1dGUuZGF0YS5wYXJhbWV0ZXJbMV0sc3BlZWQ6NDAwLG93ZXJJRDppLl9vd2VySUQsaHVydERhdGE6byxjYWxsOmZ1bmN0aW9uKCl7dmFyIGU7bi5ub2RlLmVtaXQobC5MaXN0ZW5JRC5TZW5kX0h1cnQsbyksaS5vd2VyJiZpLm93ZXIuX2NhblN0ZWFsTW9uZXkmJihlPWkuYXR0cmlidXRlLmx2KmkuYXR0cmlidXRlLmRhdGEucGFyYW1ldGVyWzBdLGUqPWkub3dlci5vdXRwdXRSYXRpbyxpLm93ZXIuc2V0Q29pbihlKSxjLkNDVG9vbC5TeXN0ZW0uSW5DYW1lcmEoaS5ub2RlLnBvc2l0aW9uKSYmcy5kZWZhdWx0Lk1hcENsci5uZXdMYWJlbFRpcHMoXCIrXCIrZSxpLm5vZGUucG9zaXRpb24sY2MuQ29sb3IuWUVMTE9XLFwiRmlzaCBjb2luXCIpKX19KX0pLnN0YXJ0KCl9LGEoW3QsZShcImdhbWVFbGVtZW50L0JhdHRlcnlcIildLGYpKTtmdW5jdGlvbiBmKCl7dmFyIGU9bnVsbCE9PXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl90aW1lPTAsZX1vLmRlZmF1bHQ9ZSJdfQ==