
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/JoyStick.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ebf310RnzdNAb1dJ/+3yEUM', 'JoyStick');
// scripts/JoyStick.js

"use strict";

var e = require;
var t = module;
var o = exports;
"use strict";

var _n,
    i = void 0 && (void 0).__extends || (_n = function n(e, t) {
  return (_n = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (e, t) {
    e.__proto__ = t;
  } || function (e, t) {
    for (var o in t) {
      Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
  })(e, t);
}, function (e, t) {
  function o() {
    this.constructor = e;
  }

  _n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}),
    a = void 0 && (void 0).__decorate || function (e, t, o, n) {
  var i,
      a = arguments.length,
      r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);else for (var s = e.length - 1; 0 <= s; s--) {
    (i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);
  }
  return 3 < a && r && Object.defineProperty(t, o, r), r;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});
var r,
    s = cc._decorator,
    t = s.ccclass,
    s = s.property,
    t = (r = cc.Component, i(c, r), c.prototype.onLoad = function () {
  this.changeListener(!0), this.resetJoy();
}, c.prototype.changeListener = function (e) {
  e ? (this.node.on(cc.Node.EventType.TOUCH_START, this._handleTouchStart, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this._handleTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this._handleTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._handleTouchEnd, this)) : (this.node.off(cc.Node.EventType.TOUCH_START, this._handleTouchStart, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this._handleTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this._handleTouchEnd, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._handleTouchEnd, this));
}, c.prototype.start = function () {}, c.prototype._handleTouchStart = function (e) {
  this._touchCount <= 0 && (e = this.joyStickBg.parent.convertToNodeSpaceAR(e.getLocation()), this.joyStickBg.setPosition(e), this.joyStickBg.active = !0, this._iscatchJoy = !0), this._touchCount++;
}, c.prototype._handleTouchMove = function (e) {
  this._iscatchJoy && (e = this.joyStickBg.parent.convertToNodeSpaceAR(e.getLocation()), cc.Vec2.set(this.tempVec2, this.joyStickBg.x, this.joyStickBg.y), cc.Vec2.subtract(e, e, this.tempVec2), this.setJoyStickPos(e));
}, c.prototype._handleTouchEnd = function () {
  this._touchCount--, this._touchCount <= 0 && this.resetJoy();
}, c.prototype.resetJoy = function () {
  this.joyStickBg.children[0].setPosition(0, 0), this.joyStickBg.active = !1, this.linearVelocity = cc.Vec2.ZERO;
}, c.prototype.setJoyStickPos = function (e) {
  this.joyStickBg.children[0].setPosition(e), this.linearVelocity = e;
}, c.prototype.onDisable = function () {
  this._touchCount = 0, this._handleTouchEnd();
}, a([s(cc.Node)], c.prototype, "joyStickBg", void 0), a([t], c));

function c() {
  var e = null !== r && r.apply(this, arguments) || this;
  return e.joyStickBg = null, e.tempVec2 = cc.v2(), e._touchCount = 0, e._iscatchJoy = !1, e.linearVelocity = cc.Vec2.ZERO, e;
}

o["default"] = t;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcSm95U3RpY2suanMiXSwibmFtZXMiOlsiZSIsInJlcXVpcmUiLCJ0IiwibW9kdWxlIiwibyIsImV4cG9ydHMiLCJuIiwiaSIsIl9fZXh0ZW5kcyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsImEiLCJfX2RlY29yYXRlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiY2MiLCJfZGVjb3JhdG9yIiwiY2NjbGFzcyIsInByb3BlcnR5IiwiQ29tcG9uZW50IiwiYyIsIm9uTG9hZCIsImNoYW5nZUxpc3RlbmVyIiwicmVzZXRKb3kiLCJub2RlIiwib24iLCJOb2RlIiwiRXZlbnRUeXBlIiwiVE9VQ0hfU1RBUlQiLCJfaGFuZGxlVG91Y2hTdGFydCIsIlRPVUNIX01PVkUiLCJfaGFuZGxlVG91Y2hNb3ZlIiwiVE9VQ0hfRU5EIiwiX2hhbmRsZVRvdWNoRW5kIiwiVE9VQ0hfQ0FOQ0VMIiwib2ZmIiwic3RhcnQiLCJfdG91Y2hDb3VudCIsImpveVN0aWNrQmciLCJwYXJlbnQiLCJjb252ZXJ0VG9Ob2RlU3BhY2VBUiIsImdldExvY2F0aW9uIiwic2V0UG9zaXRpb24iLCJhY3RpdmUiLCJfaXNjYXRjaEpveSIsIlZlYzIiLCJzZXQiLCJ0ZW1wVmVjMiIsIngiLCJ5Iiwic3VidHJhY3QiLCJzZXRKb3lTdGlja1BvcyIsImNoaWxkcmVuIiwibGluZWFyVmVsb2NpdHkiLCJaRVJPIiwib25EaXNhYmxlIiwiYXBwbHkiLCJ2MiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUNDLE9BQU47QUFDQSxJQUFJQyxDQUFD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QUFoQixDQUF5QixDQUF6QixFQUE0QlYsV0FBNUIsQ0FBd0N4RCxDQUF4QyxHQUEyQyxLQUFLbUUsY0FBTCxHQUFvQm5FLENBQS9EO0FBQWlFLENBQXpnRCxFQUEwZ0RrQyxDQUFDLENBQUNyQixTQUFGLENBQVl3RCxTQUFaLEdBQXNCLFlBQVU7QUFBQyxPQUFLbEIsV0FBTCxHQUFpQixDQUFqQixFQUFtQixLQUFLSixlQUFMLEVBQW5CO0FBQTBDLENBQXJsRCxFQUFzbEQ3QixDQUFDLENBQUMsQ0FBQ1EsQ0FBQyxDQUFDRyxFQUFFLENBQUNXLElBQUosQ0FBRixDQUFELEVBQWNOLENBQUMsQ0FBQ3JCLFNBQWhCLEVBQTBCLFlBQTFCLEVBQXVDLEtBQUssQ0FBNUMsQ0FBdmxELEVBQXNvREssQ0FBQyxDQUFDLENBQUNoQixDQUFELENBQUQsRUFBS2dDLENBQUwsQ0FBem9ELENBQWhEOztBQUFrc0QsU0FBU0EsQ0FBVCxHQUFZO0FBQUMsTUFBSWxDLENBQUMsR0FBQyxTQUFPc0IsQ0FBUCxJQUFVQSxDQUFDLENBQUNnRCxLQUFGLENBQVEsSUFBUixFQUFhbEQsU0FBYixDQUFWLElBQW1DLElBQXpDO0FBQThDLFNBQU9wQixDQUFDLENBQUNvRCxVQUFGLEdBQWEsSUFBYixFQUFrQnBELENBQUMsQ0FBQzZELFFBQUYsR0FBV2hDLEVBQUUsQ0FBQzBDLEVBQUgsRUFBN0IsRUFBcUN2RSxDQUFDLENBQUNtRCxXQUFGLEdBQWMsQ0FBbkQsRUFBcURuRCxDQUFDLENBQUMwRCxXQUFGLEdBQWMsQ0FBQyxDQUFwRSxFQUFzRTFELENBQUMsQ0FBQ21FLGNBQUYsR0FBaUJ0QyxFQUFFLENBQUM4QixJQUFILENBQVFTLElBQS9GLEVBQW9HcEUsQ0FBM0c7QUFBNkc7O0FBQUFJLENBQUMsV0FBRCxHQUFVRixDQUFWIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT1yZXF1aXJlO1xudmFyIHQ9bW9kdWxlO1xudmFyIG89ZXhwb3J0cztcblwidXNlIHN0cmljdFwiO3ZhciBuLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKG49T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfW4oZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihvLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbyl9KSxhPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGksYT1hcmd1bWVudHMubGVuZ3RoLHI9YTwzP3Q6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlyPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG8sbik7ZWxzZSBmb3IodmFyIHM9ZS5sZW5ndGgtMTswPD1zO3MtLSkoaT1lW3NdKSYmKHI9KGE8Mz9pKHIpOjM8YT9pKHQsbyxyKTppKHQsbykpfHxyKTtyZXR1cm4gMzxhJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLHIpLHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByLHM9Y2MuX2RlY29yYXRvcix0PXMuY2NjbGFzcyxzPXMucHJvcGVydHksdD0ocj1jYy5Db21wb25lbnQsaShjLHIpLGMucHJvdG90eXBlLm9uTG9hZD1mdW5jdGlvbigpe3RoaXMuY2hhbmdlTGlzdGVuZXIoITApLHRoaXMucmVzZXRKb3koKX0sYy5wcm90b3R5cGUuY2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7ZT8odGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQsdGhpcyksdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsdGhpcy5faGFuZGxlVG91Y2hNb3ZlLHRoaXMpLHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5faGFuZGxlVG91Y2hFbmQsdGhpcyksdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCx0aGlzLl9oYW5kbGVUb3VjaEVuZCx0aGlzKSk6KHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsdGhpcy5faGFuZGxlVG91Y2hTdGFydCx0aGlzKSx0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsdGhpcy5faGFuZGxlVG91Y2hNb3ZlLHRoaXMpLHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELHRoaXMuX2hhbmRsZVRvdWNoRW5kLHRoaXMpLHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLHRoaXMuX2hhbmRsZVRvdWNoRW5kLHRoaXMpKX0sYy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLl9oYW5kbGVUb3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe3RoaXMuX3RvdWNoQ291bnQ8PTAmJihlPXRoaXMuam95U3RpY2tCZy5wYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIoZS5nZXRMb2NhdGlvbigpKSx0aGlzLmpveVN0aWNrQmcuc2V0UG9zaXRpb24oZSksdGhpcy5qb3lTdGlja0JnLmFjdGl2ZT0hMCx0aGlzLl9pc2NhdGNoSm95PSEwKSx0aGlzLl90b3VjaENvdW50Kyt9LGMucHJvdG90eXBlLl9oYW5kbGVUb3VjaE1vdmU9ZnVuY3Rpb24oZSl7dGhpcy5faXNjYXRjaEpveSYmKGU9dGhpcy5qb3lTdGlja0JnLnBhcmVudC5jb252ZXJ0VG9Ob2RlU3BhY2VBUihlLmdldExvY2F0aW9uKCkpLGNjLlZlYzIuc2V0KHRoaXMudGVtcFZlYzIsdGhpcy5qb3lTdGlja0JnLngsdGhpcy5qb3lTdGlja0JnLnkpLGNjLlZlYzIuc3VidHJhY3QoZSxlLHRoaXMudGVtcFZlYzIpLHRoaXMuc2V0Sm95U3RpY2tQb3MoZSkpfSxjLnByb3RvdHlwZS5faGFuZGxlVG91Y2hFbmQ9ZnVuY3Rpb24oKXt0aGlzLl90b3VjaENvdW50LS0sdGhpcy5fdG91Y2hDb3VudDw9MCYmdGhpcy5yZXNldEpveSgpfSxjLnByb3RvdHlwZS5yZXNldEpveT1mdW5jdGlvbigpe3RoaXMuam95U3RpY2tCZy5jaGlsZHJlblswXS5zZXRQb3NpdGlvbigwLDApLHRoaXMuam95U3RpY2tCZy5hY3RpdmU9ITEsdGhpcy5saW5lYXJWZWxvY2l0eT1jYy5WZWMyLlpFUk99LGMucHJvdG90eXBlLnNldEpveVN0aWNrUG9zPWZ1bmN0aW9uKGUpe3RoaXMuam95U3RpY2tCZy5jaGlsZHJlblswXS5zZXRQb3NpdGlvbihlKSx0aGlzLmxpbmVhclZlbG9jaXR5PWV9LGMucHJvdG90eXBlLm9uRGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX3RvdWNoQ291bnQ9MCx0aGlzLl9oYW5kbGVUb3VjaEVuZCgpfSxhKFtzKGNjLk5vZGUpXSxjLnByb3RvdHlwZSxcImpveVN0aWNrQmdcIix2b2lkIDApLGEoW3RdLGMpKTtmdW5jdGlvbiBjKCl7dmFyIGU9bnVsbCE9PXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmpveVN0aWNrQmc9bnVsbCxlLnRlbXBWZWMyPWNjLnYyKCksZS5fdG91Y2hDb3VudD0wLGUuX2lzY2F0Y2hKb3k9ITEsZS5saW5lYXJWZWxvY2l0eT1jYy5WZWMyLlpFUk8sZX1vLmRlZmF1bHQ9dCJdfQ==