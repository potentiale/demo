
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/WarChessTouch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b5724FB6xxHLbJH6agx0bo5', 'WarChessTouch');
// scripts/WarChessTouch.js

"use strict";

var e = require;
var t = module;
var o = exports;
"use strict";

var _n,
    i = void 0 && (void 0).__extends || (_n = function n(e, t) {
  return (_n = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (e, t) {
    e.__proto__ = t;
  } || function (e, t) {
    for (var o in t) {
      Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
  })(e, t);
}, function (e, t) {
  function o() {
    this.constructor = e;
  }

  _n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}),
    a = void 0 && (void 0).__decorate || function (e, t, o, n) {
  var i,
      a = arguments.length,
      r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);else for (var s = e.length - 1; 0 <= s; s--) {
    (i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);
  }
  return 3 < a && r && Object.defineProperty(t, o, r), r;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});
var r,
    s,
    c = e("AppCommon"),
    l = e("CCTool"),
    p = e("ListenID"),
    d = e("Notifier"),
    u = e("Cfg"),
    f = e("WarChessManage"),
    t = cc._decorator,
    e = t.ccclass,
    e = (t.property, s = cc.Component, i(h, s), h.prototype.onLoad = function () {
  r = c["default"].MapClr.modelManage.myModel.WCManage;
}, h.prototype.onEnable = function () {
  this.node.on(cc.Node.EventType.TOUCH_START, this.TOUCH_START, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.TOUCH_MOVE, this), this.node.on(cc.Node.EventType.TOUCH_END, this.TOUCH_END, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.TOUCH_END, this);
}, h.prototype.onDisable = function () {
  this.node.off(cc.Node.EventType.TOUCH_START, this.TOUCH_START, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.TOUCH_MOVE, this), this.node.off(cc.Node.EventType.TOUCH_END, this.TOUCH_END, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.TOUCH_END, this);
}, h.prototype.TOUCH_START = function () {
  this.isMove = !c["default"].GScene.isPause && r.roundType == f.ROUND_TYPE.USER && 0 == r.touchNum, cc.tween(this.node).to(.1, {
    scale: .9
  }).start(), this.isMove && r.touchNum++;
}, h.prototype.TOUCH_MOVE = function (e) {
  this.isMove && (this.node.setPosition(l.CCTool.System.GetV2(e)), this.node.zIndex = 20, this.checkLattice(this.node.position));
}, h.prototype.TOUCH_END = function (e) {
  cc.tween(this.node).to(.1, {
    scale: 1
  }).start(), this.isMove && (this.exitLattice(), e = c["default"].MapClr.getMapPos(l.CCTool.System.GetV2(e)), this.ower.getZIndex(), r.itemMoveTo(this.ower, e), r.touchNum = 0, d.Notifier.send(p.ListenID.WC_TouchEnd));
}, h.prototype.checkLattice = function (e) {
  e = c["default"].MapClr.getMapPos(e);
  this.oldLattice ? this.oldLattice.x == e.x && this.oldLattice.y == e.y || (this.exitLattice(), this.inLattice(e)) : this.inLattice(e);
}, h.prototype.inLattice = function (e) {
  this.oldLattice = e;
  var t = r.getNodeTag(e);
  t && t.uuid != this.ower.uuid ? (this.underTag = t, this.underTag.node.active = !1, t = this.checkTouchData(t), this.newPreview({
    path: t.parameter[1],
    pos: e
  })) : this.newPreview({
    path: this.ower.attribute.data.parameter[1],
    pos: e
  });
}, h.prototype.exitLattice = function () {
  this.underTag && (this.underTag.node.active = !0), r.myPreview_1 && (r.myPreview_1.node.active = !1), this.oldLattice = null, this.underTag = null;
}, h.prototype.newPreview = function (e) {
  r.checkCanMove(e.pos) || (r.myPreview_1.node.setPosition(c["default"].MapClr.getV2Pos(e.pos)), r.myPreview_1_path != e.path ? (cc.resources.load("img/model_4/" + e.path, cc.SpriteFrame, function (e, t) {
    r.myPreview_1.spriteFrame = t, r.myPreview_1.node.active = !0;
  }), r.myPreview_1.node.opacity = 100, r.myPreview_1_path = e.path) : r.myPreview_1.node.active = !0);
}, h.prototype.checkTouchData = function (e) {
  var t,
      o = this.ower.attribute.data;
  return this.ower.attribute.isMax ? o : ("string" == typeof (t = (t = o.level == e.attribute.lv ? u.Cfg.Building999.get(o.id + 1) : t) || o).parameter && (t.parameter = JSON.parse(t.parameter)), t);
}, a([e], h));

function h() {
  var e = null !== s && s.apply(this, arguments) || this;
  return e.isMove = !1, e.oldLattice = null, e;
}

o["default"] = e;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcV2FyQ2hlc3NUb3VjaC5qcyJdLCJuYW1lcyI6WyJlIiwicmVxdWlyZSIsInQiLCJtb2R1bGUiLCJvIiwiZXhwb3J0cyIsIm4iLCJpIiwiX19leHRlbmRzIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiYSIsIl9fZGVjb3JhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwicyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjIiwibCIsInAiLCJkIiwidSIsImYiLCJjYyIsIl9kZWNvcmF0b3IiLCJjY2NsYXNzIiwicHJvcGVydHkiLCJDb21wb25lbnQiLCJoIiwib25Mb2FkIiwiTWFwQ2xyIiwibW9kZWxNYW5hZ2UiLCJteU1vZGVsIiwiV0NNYW5hZ2UiLCJvbkVuYWJsZSIsIm5vZGUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9TVEFSVCIsIlRPVUNIX01PVkUiLCJUT1VDSF9FTkQiLCJUT1VDSF9DQU5DRUwiLCJvbkRpc2FibGUiLCJvZmYiLCJpc01vdmUiLCJHU2NlbmUiLCJpc1BhdXNlIiwicm91bmRUeXBlIiwiUk9VTkRfVFlQRSIsIlVTRVIiLCJ0b3VjaE51bSIsInR3ZWVuIiwidG8iLCJzY2FsZSIsInN0YXJ0Iiwic2V0UG9zaXRpb24iLCJDQ1Rvb2wiLCJTeXN0ZW0iLCJHZXRWMiIsInpJbmRleCIsImNoZWNrTGF0dGljZSIsInBvc2l0aW9uIiwiZXhpdExhdHRpY2UiLCJnZXRNYXBQb3MiLCJvd2VyIiwiZ2V0WkluZGV4IiwiaXRlbU1vdmVUbyIsIk5vdGlmaWVyIiwic2VuZCIsIkxpc3RlbklEIiwiV0NfVG91Y2hFbmQiLCJvbGRMYXR0aWNlIiwieCIsInkiLCJpbkxhdHRpY2UiLCJnZXROb2RlVGFnIiwidXVpZCIsInVuZGVyVGFnIiwiYWN0aXZlIiwiY2hlY2tUb3VjaERhdGEiLCJuZXdQcmV2aWV3IiwicGF0aCIsInBhcmFtZXRlciIsInBvcyIsImF0dHJpYnV0ZSIsImRhdGEiLCJteVByZXZpZXdfMSIsImNoZWNrQ2FuTW92ZSIsImdldFYyUG9zIiwibXlQcmV2aWV3XzFfcGF0aCIsInJlc291cmNlcyIsImxvYWQiLCJTcHJpdGVGcmFtZSIsInNwcml0ZUZyYW1lIiwib3BhY2l0eSIsImlzTWF4IiwibGV2ZWwiLCJsdiIsIkNmZyIsIkJ1aWxkaW5nOTk5IiwiZ2V0IiwiaWQiLCJKU09OIiwicGFyc2UiLCJhcHBseSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUNDLE9BQU47QUFDQSxJQUFJQyxDQUFDLEdBQUNDLE1BQU47QUFDQSxJQUFJQyxDQUFDLEdBQUNDLE9BQU47QUFDQTs7QUFBYSxJQUFJQyxFQUFKO0FBQUEsSUFBTUMsQ0FBQyxHQUFDLFVBQU0sU0FBS0MsU0FBWCxLQUF1QkYsRUFBQyxHQUFDLFdBQVNOLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUMsU0FBTSxDQUFDSSxFQUFDLEdBQUNHLE1BQU0sQ0FBQ0MsY0FBUCxJQUF1QjtBQUFDQyxJQUFBQSxTQUFTLEVBQUM7QUFBWCxlQUF5QkMsS0FBekIsSUFBZ0MsVUFBU1osQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQ0YsSUFBQUEsQ0FBQyxDQUFDVyxTQUFGLEdBQVlULENBQVo7QUFBYyxHQUFuRixJQUFxRixVQUFTRixDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDLFNBQUksSUFBSUUsQ0FBUixJQUFhRixDQUFiO0FBQWVPLE1BQUFBLE1BQU0sQ0FBQ0ksU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDYixDQUFyQyxFQUF1Q0UsQ0FBdkMsTUFBNENKLENBQUMsQ0FBQ0ksQ0FBRCxDQUFELEdBQUtGLENBQUMsQ0FBQ0UsQ0FBRCxDQUFs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b3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGU9cmVxdWlyZTtcbnZhciB0PW1vZHVsZTtcbnZhciBvPWV4cG9ydHM7XG5cInVzZSBzdHJpY3RcIjt2YXIgbixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwobj1mdW5jdGlvbihlLHQpe3JldHVybihuPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbygpe3RoaXMuY29uc3RydWN0b3I9ZX1uKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooby5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG8pfSksYT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpLGE9YXJndW1lbnRzLmxlbmd0aCxyPWE8Mz90Om51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG8pOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcj1SZWZsZWN0LmRlY29yYXRlKGUsdCxvLG4pO2Vsc2UgZm9yKHZhciBzPWUubGVuZ3RoLTE7MDw9cztzLS0pKGk9ZVtzXSkmJihyPShhPDM/aShyKTozPGE/aSh0LG8scik6aSh0LG8pKXx8cik7cmV0dXJuIDM8YSYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbyxyKSxyfTtPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcixzLGM9ZShcIkFwcENvbW1vblwiKSxsPWUoXCJDQ1Rvb2xcIikscD1lKFwiTGlzdGVuSURcIiksZD1lKFwiTm90aWZpZXJcIiksdT1lKFwiQ2ZnXCIpLGY9ZShcIldhckNoZXNzTWFuYWdlXCIpLHQ9Y2MuX2RlY29yYXRvcixlPXQuY2NjbGFzcyxlPSh0LnByb3BlcnR5LHM9Y2MuQ29tcG9uZW50LGkoaCxzKSxoLnByb3RvdHlwZS5vbkxvYWQ9ZnVuY3Rpb24oKXtyPWMuZGVmYXVsdC5NYXBDbHIubW9kZWxNYW5hZ2UubXlNb2RlbC5XQ01hbmFnZX0saC5wcm90b3R5cGUub25FbmFibGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsdGhpcy5UT1VDSF9TVEFSVCx0aGlzKSx0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSx0aGlzLlRPVUNIX01PVkUsdGhpcyksdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLlRPVUNIX0VORCx0aGlzKSx0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLHRoaXMuVE9VQ0hfRU5ELHRoaXMpfSxoLnByb3RvdHlwZS5vbkRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuVE9VQ0hfU1RBUlQsdGhpcyksdGhpcy5ub2RlLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLHRoaXMuVE9VQ0hfTU9WRSx0aGlzKSx0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLlRPVUNIX0VORCx0aGlzKSx0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLHRoaXMuVE9VQ0hfRU5ELHRoaXMpfSxoLnByb3RvdHlwZS5UT1VDSF9TVEFSVD1mdW5jdGlvbigpe3RoaXMuaXNNb3ZlPSFjLmRlZmF1bHQuR1NjZW5lLmlzUGF1c2UmJnIucm91bmRUeXBlPT1mLlJPVU5EX1RZUEUuVVNFUiYmMD09ci50b3VjaE51bSxjYy50d2Vlbih0aGlzLm5vZGUpLnRvKC4xLHtzY2FsZTouOX0pLnN0YXJ0KCksdGhpcy5pc01vdmUmJnIudG91Y2hOdW0rK30saC5wcm90b3R5cGUuVE9VQ0hfTU9WRT1mdW5jdGlvbihlKXt0aGlzLmlzTW92ZSYmKHRoaXMubm9kZS5zZXRQb3NpdGlvbihsLkNDVG9vbC5TeXN0ZW0uR2V0VjIoZSkpLHRoaXMubm9kZS56SW5kZXg9MjAsdGhpcy5jaGVja0xhdHRpY2UodGhpcy5ub2RlLnBvc2l0aW9uKSl9LGgucHJvdG90eXBlLlRPVUNIX0VORD1mdW5jdGlvbihlKXtjYy50d2Vlbih0aGlzLm5vZGUpLnRvKC4xLHtzY2FsZToxfSkuc3RhcnQoKSx0aGlzLmlzTW92ZSYmKHRoaXMuZXhpdExhdHRpY2UoKSxlPWMuZGVmYXVsdC5NYXBDbHIuZ2V0TWFwUG9zKGwuQ0NUb29sLlN5c3RlbS5HZXRWMihlKSksdGhpcy5vd2VyLmdldFpJbmRleCgpLHIuaXRlbU1vdmVUbyh0aGlzLm93ZXIsZSksci50b3VjaE51bT0wLGQuTm90aWZpZXIuc2VuZChwLkxpc3RlbklELldDX1RvdWNoRW5kKSl9LGgucHJvdG90eXBlLmNoZWNrTGF0dGljZT1mdW5jdGlvbihlKXtlPWMuZGVmYXVsdC5NYXBDbHIuZ2V0TWFwUG9zKGUpO3RoaXMub2xkTGF0dGljZT90aGlzLm9sZExhdHRpY2UueD09ZS54JiZ0aGlzLm9sZExhdHRpY2UueT09ZS55fHwodGhpcy5leGl0TGF0dGljZSgpLHRoaXMuaW5MYXR0aWNlKGUpKTp0aGlzLmluTGF0dGljZShlKX0saC5wcm90b3R5cGUuaW5MYXR0aWNlPWZ1bmN0aW9uKGUpe3RoaXMub2xkTGF0dGljZT1lO3ZhciB0PXIuZ2V0Tm9kZVRhZyhlKTt0JiZ0LnV1aWQhPXRoaXMub3dlci51dWlkPyh0aGlzLnVuZGVyVGFnPXQsdGhpcy51bmRlclRhZy5ub2RlLmFjdGl2ZT0hMSx0PXRoaXMuY2hlY2tUb3VjaERhdGEodCksdGhpcy5uZXdQcmV2aWV3KHtwYXRoOnQucGFyYW1ldGVyWzFdLHBvczplfSkpOnRoaXMubmV3UHJldmlldyh7cGF0aDp0aGlzLm93ZXIuYXR0cmlidXRlLmRhdGEucGFyYW1ldGVyWzFdLHBvczplfSl9LGgucHJvdG90eXBlLmV4aXRMYXR0aWNlPWZ1bmN0aW9uKCl7dGhpcy51bmRlclRhZyYmKHRoaXMudW5kZXJUYWcubm9kZS5hY3RpdmU9ITApLHIubXlQcmV2aWV3XzEmJihyLm15UHJldmlld18xLm5vZGUuYWN0aXZlPSExKSx0aGlzLm9sZExhdHRpY2U9bnVsbCx0aGlzLnVuZGVyVGFnPW51bGx9LGgucHJvdG90eXBlLm5ld1ByZXZpZXc9ZnVuY3Rpb24oZSl7ci5jaGVja0Nhbk1vdmUoZS5wb3MpfHwoci5teVByZXZpZXdfMS5ub2RlLnNldFBvc2l0aW9uKGMuZGVmYXVsdC5NYXBDbHIuZ2V0VjJQb3MoZS5wb3MpKSxyLm15UHJldmlld18xX3BhdGghPWUucGF0aD8oY2MucmVzb3VyY2VzLmxvYWQoXCJpbWcvbW9kZWxfNC9cIitlLnBhdGgsY2MuU3ByaXRlRnJhbWUsZnVuY3Rpb24oZSx0KXtyLm15UHJldmlld18xLnNwcml0ZUZyYW1lPXQsci5teVByZXZpZXdfMS5ub2RlLmFjdGl2ZT0hMH0pLHIubXlQcmV2aWV3XzEubm9kZS5vcGFjaXR5PTEwMCxyLm15UHJldmlld18xX3BhdGg9ZS5wYXRoKTpyLm15UHJldmlld18xLm5vZGUuYWN0aXZlPSEwKX0saC5wcm90b3R5cGUuY2hlY2tUb3VjaERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQsbz10aGlzLm93ZXIuYXR0cmlidXRlLmRhdGE7cmV0dXJuIHRoaXMub3dlci5hdHRyaWJ1dGUuaXNNYXg/bzooXCJzdHJpbmdcIj09dHlwZW9mKHQ9KHQ9by5sZXZlbD09ZS5hdHRyaWJ1dGUubHY/dS5DZmcuQnVpbGRpbmc5OTkuZ2V0KG8uaWQrMSk6dCl8fG8pLnBhcmFtZXRlciYmKHQucGFyYW1ldGVyPUpTT04ucGFyc2UodC5wYXJhbWV0ZXIpKSx0KX0sYShbZV0saCkpO2Z1bmN0aW9uIGgoKXt2YXIgZT1udWxsIT09cyYmcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuaXNNb3ZlPSExLGUub2xkTGF0dGljZT1udWxsLGV9by5kZWZhdWx0PWUiXX0=