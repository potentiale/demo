
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/Bed.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd0fd4CSfRdMopNmtmzSDDBc', 'Bed');
// scripts/Bed.js

"use strict";

var e = require;
var t = module;
var o = exports;
"use strict";

var _n,
    i = void 0 && (void 0).__extends || (_n = function n(e, t) {
  return (_n = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (e, t) {
    e.__proto__ = t;
  } || function (e, t) {
    for (var o in t) {
      Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
  })(e, t);
}, function (e, t) {
  function o() {
    this.constructor = e;
  }

  _n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}),
    a = void 0 && (void 0).__decorate || function (e, t, o, n) {
  var i,
      a = arguments.length,
      r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);else for (var s = e.length - 1; 0 <= s; s--) {
    (i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);
  }
  return 3 < a && r && Object.defineProperty(t, o, r), r;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});
var r,
    s = e("AppCommon"),
    c = e("CCTool"),
    l = e("Cfg"),
    p = e("ModelManage"),
    d = e("ConstructBase"),
    u = e("GameElementBut"),
    f = cc._decorator,
    t = f.ccclass,
    e = f.menu,
    e = (f.property, r = d["default"], i(h, r), h.prototype.start = function () {
  this.schedule(this.searchPlayer, .3);
}, h.prototype.init = function (e) {
  this.setData = e, this.myTerritory = s["default"].MapClr.myMap.node.getChildByName(this.setData.name), this.myTerritory && (this.myTerritory.active = !1, this.roomID = +this.setData.name.split("_")[1], (s["default"].MapClr.bedList[this.roomID] = this).isClosestool() && this.setNormalSkin(20));
}, h.prototype.isClosestool = function () {
  return this.setData.bedtype && 2 == this.setData.bedtype;
}, h.prototype.setNormalSkin = function (e) {
  var o = this;
  this.imgList[0] || (this.imgList[0] = this.node.children[0].getComponent(cc.Sprite)), cc.resources.load("img/gameResources/" + e, cc.SpriteFrame, function (e, t) {
    o.imgList[0].spriteFrame = t;
  });
}, h.prototype.setTerritory = function () {
  if (this.setData.name) {
    this.myTerritoryMap = [];

    for (var i = s["default"].MapClr.myMap.getObjectGroup(this.setData.name).getObjects(), a = this, e = 0; e < this.myTerritory.childrenCount; e++) {
      !function (e) {
        var t,
            o = s["default"].MapClr.getMapPos(a.myTerritory.children[e]),
            n = {
          x: o.x,
          y: o.y,
          node: a.myTerritory.children[e],
          name: i[e].name,
          arc: null
        };
        a.myTerritoryMap[n.x] || (a.myTerritoryMap[n.x] = []), a.myTerritoryMap[n.x][n.y] = n, a.ower.isAi || (t = !1, n.node.on(cc.Node.EventType.TOUCH_START, function () {
          t = !0;
        }, a), n.node.on(cc.Node.EventType.TOUCH_END, function () {
          t && (10 < s["default"].data.cameraMoveNum || c.CCTool.UI.OpenPop("prefab/pop/pop_BuildingCreate", n));
        }, a));
      }(e);
    }

    var t = s["default"].MapClr.getMapPos(this.node.position);
    this.myTerritoryMap[t.x] || (this.myTerritoryMap[t.x] = []), this.myTerritoryMap[t.x][t.y] = {
      x: t.x,
      y: t.y,
      node: null,
      arc: null,
      name: null
    }, this.setTerritoryMapItem(t, this), this.ower.isPlayer && (this.myTerritory.opacity = 0, this.myTerritory.active = !0, cc.tween(this.myTerritory).sequence(cc.tween().to(1, {
      opacity: 255
    }, {
      easing: "sineInOut"
    }), cc.tween().to(1, {
      opacity: 100
    }, {
      easing: "sineInOut"
    })).repeatForever().start());
  }
}, h.prototype.setTerritoryMapItem = function (e, t) {
  this.myTerritoryMap[e.x][e.y].arc = t, this.myTerritoryMap[e.x][e.y].node && (this.myTerritoryMap[e.x][e.y].node.active = !t), t && (t._mapPos = e);
}, h.prototype.longTapEvent = function () {
  this.ower.isPlayer || this.ower.isBeReported || s["default"].GScene._GameModel != p.GAME_MODEL.TANG_PING || c.CCTool.UI.OpenPop("prefab/pop/pop_ReportPanel", this.ower.roleID);
}, h.prototype.searchPlayer = function () {
  var e,
      t = this;
  s["default"].MapClr.myMap && s["default"].GScene.player && (e = s["default"].getDistance(this.node.position, s["default"].GScene.player.node.position) < 120) != this.isShowBut && (this.isShowBut = e, this.isShowBut ? (e = s["default"].GScene.GameElementButPool.GetFormPool(s["default"].GScene.GamePopBox), this.but = e.getComponent(u["default"]), this.but.init(this.node, function () {
    return t.isHaveMan ? (c.CCTool.UI.ShowToast("电脑桌被占了"), void t.but.hide()) : (t.mountRole(s["default"].GScene.player), void cc.tween(s["default"].GScene.GameCamera.node).to(.2, {
      position: t.node.position
    }).start());
  }), this.but.setLabel(this.isClosestool() ? "蹲坑" : "上机")) : (this.but && this.but.hide(), this.but = null));
}, h.prototype.setDestroyed = function () {
  cc.log("被破坏"), this.node.active = !1, this.setState(!1);
}, h.prototype.getHurt = function (e) {
  r.prototype.getHurt.call(this, e), null != this.ower && this.ower.getHurt(e);
}, h.prototype.mountRole = function (e) {
  var t;
  this.isHaveMan || (this.isHaveMan = !0, t = this.isClosestool() ? 20 : 1, this.initAttribute(l.Cfg.Building1.get(t), e), this.setTerritory(), e.setCollision(!1), (this.ower.myBed = this).isClosestool() ? e.node.setPosition(this.node.x + 5, this.node.y + 10) : e.node.setPosition(this.node.x, this.node.y - 30), e.toBed(this.roomID), this.unschedule(this.searchPlayer), this.but && this.but.hide(), this.setState(!0));
}, h.prototype.effectTrigger = function () {
  var e = this.attribute.data.outputCoin * this.ower.outputRatio;
  this.ower.setCoin(e), c.CCTool.System.InCamera(this.node.position) && s["default"].MapClr.newLabelTips("+" + e, this.node.position, cc.Color.YELLOW, "Fish coin");
}, a([t, e("gameElement/Bed")], h));

function h() {
  var e = null !== r && r.apply(this, arguments) || this;
  return e.isShowBut = !1, e.but = null, e.SConstruct = [], e.isHaveMan = !1, e;
}

o["default"] = e;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcQmVkLmpzIl0sIm5hbWVzIjpbImUiLCJyZXF1aXJlIiwidCIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwibiIsImkiLCJfX2V4dGVuZHMiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJhIiwiX19kZWNvcmF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImMiLCJsIiwicCIsImQiLCJ1IiwiZiIsImNjIiwiX2RlY29yYXRvciIsImNjY2xhc3MiLCJtZW51IiwicHJvcGVydHkiLCJoIiwic3RhcnQiLCJzY2hlZHVsZSIsInNlYXJjaFBsYXllciIsImluaXQiLCJzZXREYXRhIiwibXlUZXJyaXRvcnkiLCJNYXBDbHIiLCJteU1hcCIsIm5vZGUiLCJnZXRDaGlsZEJ5TmFtZSIsIm5hbWUiLCJhY3RpdmUiLCJyb29tSUQiLCJzcGxpdCIsImJlZExpc3QiLCJpc0Nsb3Nlc3Rvb2wiLCJzZXROb3JtYWxTa2luIiwiYmVkdHlwZSIsImltZ0xpc3QiLCJjaGlsZHJlbiIsImdldENvbXBvbmVudCIsIlNwcml0ZSIsInJlc291cmNlcyIsImxvYWQiLCJTcHJpdGVGcmFtZSIsInNwcml0ZUZyYW1lIiwic2V0VGVycml0b3J5IiwibXlUZXJyaXRvcnlNYXAiLCJnZXRPYmplY3RHcm91cCIsImdldE9iamVjdHMiLCJjaGlsZHJlbkNvdW50IiwiZ2V0TWFwUG9zIiwieCIsInkiLCJhcmMiLCJvd2VyIiwiaXNBaSIsIm9uIiwiTm9kZSIsIkV2ZW50VHlwZSIsIlRPVUNIX1NUQVJUIiwiVE9VQ0hfRU5EIiwiZGF0YSIsImNhbWVyYU1vdmVOdW0iLCJDQ1Rvb2wiLCJVSSIsIk9wZW5Qb3AiLCJwb3NpdGlvbiIsInNldFRlcnJpdG9yeU1hcEl0ZW0iLCJpc1BsYXllciIsIm9wYWNpdHkiLCJ0d2VlbiIsInNlcXVlbmNlIiwidG8iLCJlYXNpbmciLCJyZXBlYXRGb3JldmVyIiwiX21hcFBvcyIsImxvbmdUYXBFdmVudCIsImlzQmVSZXBvcnRlZCIsIkdTY2VuZSIsIl9HYW1lTW9kZWwiLCJHQU1FX01PREVMIiwiVEFOR19QSU5HIiwicm9sZUlEIiwicGxheWVyIiwiZ2V0RGlzdGFuY2UiLCJpc1Nob3dCdXQiLCJHYW1lRWxlbWVudEJ1dFBvb2wiLCJHZXRGb3JtUG9vbCIsIkdhbWVQb3BCb3giLCJidXQiLCJpc0hhdmVNYW4iLCJTaG93VG9hc3QiLCJoaWRlIiwibW91bnRSb2xlIiwiR2FtZUNhbWVyYSIsInNldExhYmVsIiwic2V0RGVzdHJveWVkIiwibG9nIiwic2V0U3RhdGUiLCJnZXRIdXJ0IiwiaW5pdEF0dHJpYnV0ZSIsIkNmZyIsIkJ1aWxkaW5nMSIsImdldCIsInNldENvbGxpc2lvbiIsIm15QmVkIiwic2V0UG9zaXRpb24iLCJ0b0JlZCIsInVuc2NoZWR1bGUiLCJlZmZlY3RUcmlnZ2VyIiwiYXR0cmlidXRlIiwib3V0cHV0Q29pbiIsIm91dHB1dFJhdGlvIiwic2V0Q29pbiIsIlN5c3RlbSIsIkluQ2FtZXJhIiwibmV3TGFiZWxUaXBzIiwiQ29sb3IiLCJZRUxMT1ciLCJhcHBseSIsIlNDb25zdHJ1Y3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBQyxHQUFDQyxPQUFOO0FBQ0EsSUFBSUMsQ0FBQyxHQUFDQyxNQUFOO0FBQ0EsSUFBSUMsQ0FBQyxHQUFDQyxPQUFOO0FBQ0E7O0FBQWEsSUFBSUMsRUFBSjtBQUFBLElBQU1DLENBQUMsR0FBQyxVQUFNLFNBQUtDLFNBQVgsS0FBdUJGLEVBQUMsR0FBQyxXQUFTTixDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDLFNBQU0sQ0FBQ0ksRUFBQyxHQUFDRyxNQUFNLENBQUND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QUMrRyxHQUFGLEdBQU0sSUFBckIsRUFBMEIvRyxDQUFDLENBQUM4SSxVQUFGLEdBQWEsRUFBdkMsRUFBMEM5SSxDQUFDLENBQUNnSCxTQUFGLEdBQVksQ0FBQyxDQUF2RCxFQUF5RGhILENBQWhFO0FBQWtFOztBQUFBSSxDQUFDLFdBQUQsR0FBVUosQ0FBViIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGU9cmVxdWlyZTtcbnZhciB0PW1vZHVsZTtcbnZhciBvPWV4cG9ydHM7XG5cInVzZSBzdHJpY3RcIjt2YXIgbixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwobj1mdW5jdGlvbihlLHQpe3JldHVybihuPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbygpe3RoaXMuY29uc3RydWN0b3I9ZX1uKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooby5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG8pfSksYT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpLGE9YXJndW1lbnRzLmxlbmd0aCxyPWE8Mz90Om51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG8pOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcj1SZWZsZWN0LmRlY29yYXRlKGUsdCxvLG4pO2Vsc2UgZm9yKHZhciBzPWUubGVuZ3RoLTE7MDw9cztzLS0pKGk9ZVtzXSkmJihyPShhPDM/aShyKTozPGE/aSh0LG8scik6aSh0LG8pKXx8cik7cmV0dXJuIDM8YSYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbyxyKSxyfTtPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcixzPWUoXCJBcHBDb21tb25cIiksYz1lKFwiQ0NUb29sXCIpLGw9ZShcIkNmZ1wiKSxwPWUoXCJNb2RlbE1hbmFnZVwiKSxkPWUoXCJDb25zdHJ1Y3RCYXNlXCIpLHU9ZShcIkdhbWVFbGVtZW50QnV0XCIpLGY9Y2MuX2RlY29yYXRvcix0PWYuY2NjbGFzcyxlPWYubWVudSxlPShmLnByb3BlcnR5LHI9ZC5kZWZhdWx0LGkoaCxyKSxoLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMuc2NoZWR1bGUodGhpcy5zZWFyY2hQbGF5ZXIsLjMpfSxoLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMuc2V0RGF0YT1lLHRoaXMubXlUZXJyaXRvcnk9cy5kZWZhdWx0Lk1hcENsci5teU1hcC5ub2RlLmdldENoaWxkQnlOYW1lKHRoaXMuc2V0RGF0YS5uYW1lKSx0aGlzLm15VGVycml0b3J5JiYodGhpcy5teVRlcnJpdG9yeS5hY3RpdmU9ITEsdGhpcy5yb29tSUQ9K3RoaXMuc2V0RGF0YS5uYW1lLnNwbGl0KFwiX1wiKVsxXSwocy5kZWZhdWx0Lk1hcENsci5iZWRMaXN0W3RoaXMucm9vbUlEXT10aGlzKS5pc0Nsb3Nlc3Rvb2woKSYmdGhpcy5zZXROb3JtYWxTa2luKDIwKSl9LGgucHJvdG90eXBlLmlzQ2xvc2VzdG9vbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldERhdGEuYmVkdHlwZSYmMj09dGhpcy5zZXREYXRhLmJlZHR5cGV9LGgucHJvdG90eXBlLnNldE5vcm1hbFNraW49ZnVuY3Rpb24oZSl7dmFyIG89dGhpczt0aGlzLmltZ0xpc3RbMF18fCh0aGlzLmltZ0xpc3RbMF09dGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpKSxjYy5yZXNvdXJjZXMubG9hZChcImltZy9nYW1lUmVzb3VyY2VzL1wiK2UsY2MuU3ByaXRlRnJhbWUsZnVuY3Rpb24oZSx0KXtvLmltZ0xpc3RbMF0uc3ByaXRlRnJhbWU9dH0pfSxoLnByb3RvdHlwZS5zZXRUZXJyaXRvcnk9ZnVuY3Rpb24oKXtpZih0aGlzLnNldERhdGEubmFtZSl7dGhpcy5teVRlcnJpdG9yeU1hcD1bXTtmb3IodmFyIGk9cy5kZWZhdWx0Lk1hcENsci5teU1hcC5nZXRPYmplY3RHcm91cCh0aGlzLnNldERhdGEubmFtZSkuZ2V0T2JqZWN0cygpLGE9dGhpcyxlPTA7ZTx0aGlzLm15VGVycml0b3J5LmNoaWxkcmVuQ291bnQ7ZSsrKSFmdW5jdGlvbihlKXt2YXIgdCxvPXMuZGVmYXVsdC5NYXBDbHIuZ2V0TWFwUG9zKGEubXlUZXJyaXRvcnkuY2hpbGRyZW5bZV0pLG49e3g6by54LHk6by55LG5vZGU6YS5teVRlcnJpdG9yeS5jaGlsZHJlbltlXSxuYW1lOmlbZV0ubmFtZSxhcmM6bnVsbH07YS5teVRlcnJpdG9yeU1hcFtuLnhdfHwoYS5teVRlcnJpdG9yeU1hcFtuLnhdPVtdKSxhLm15VGVycml0b3J5TWFwW24ueF1bbi55XT1uLGEub3dlci5pc0FpfHwodD0hMSxuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsZnVuY3Rpb24oKXt0PSEwfSxhKSxuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELGZ1bmN0aW9uKCl7dCYmKDEwPHMuZGVmYXVsdC5kYXRhLmNhbWVyYU1vdmVOdW18fGMuQ0NUb29sLlVJLk9wZW5Qb3AoXCJwcmVmYWIvcG9wL3BvcF9CdWlsZGluZ0NyZWF0ZVwiLG4pKX0sYSkpfShlKTt2YXIgdD1zLmRlZmF1bHQuTWFwQ2xyLmdldE1hcFBvcyh0aGlzLm5vZGUucG9zaXRpb24pO3RoaXMubXlUZXJyaXRvcnlNYXBbdC54XXx8KHRoaXMubXlUZXJyaXRvcnlNYXBbdC54XT1bXSksdGhpcy5teVRlcnJpdG9yeU1hcFt0LnhdW3QueV09e3g6dC54LHk6dC55LG5vZGU6bnVsbCxhcmM6bnVsbCxuYW1lOm51bGx9LHRoaXMuc2V0VGVycml0b3J5TWFwSXRlbSh0LHRoaXMpLHRoaXMub3dlci5pc1BsYXllciYmKHRoaXMubXlUZXJyaXRvcnkub3BhY2l0eT0wLHRoaXMubXlUZXJyaXRvcnkuYWN0aXZlPSEwLGNjLnR3ZWVuKHRoaXMubXlUZXJyaXRvcnkpLnNlcXVlbmNlKGNjLnR3ZWVuKCkudG8oMSx7b3BhY2l0eToyNTV9LHtlYXNpbmc6XCJzaW5lSW5PdXRcIn0pLGNjLnR3ZWVuKCkudG8oMSx7b3BhY2l0eToxMDB9LHtlYXNpbmc6XCJzaW5lSW5PdXRcIn0pKS5yZXBlYXRGb3JldmVyKCkuc3RhcnQoKSl9fSxoLnByb3RvdHlwZS5zZXRUZXJyaXRvcnlNYXBJdGVtPWZ1bmN0aW9uKGUsdCl7dGhpcy5teVRlcnJpdG9yeU1hcFtlLnhdW2UueV0uYXJjPXQsdGhpcy5teVRlcnJpdG9yeU1hcFtlLnhdW2UueV0ubm9kZSYmKHRoaXMubXlUZXJyaXRvcnlNYXBbZS54XVtlLnldLm5vZGUuYWN0aXZlPSF0KSx0JiYodC5fbWFwUG9zPWUpfSxoLnByb3RvdHlwZS5sb25nVGFwRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLm93ZXIuaXNQbGF5ZXJ8fHRoaXMub3dlci5pc0JlUmVwb3J0ZWR8fHMuZGVmYXVsdC5HU2NlbmUuX0dhbWVNb2RlbCE9cC5HQU1FX01PREVMLlRBTkdfUElOR3x8Yy5DQ1Rvb2wuVUkuT3BlblBvcChcInByZWZhYi9wb3AvcG9wX1JlcG9ydFBhbmVsXCIsdGhpcy5vd2VyLnJvbGVJRCl9LGgucHJvdG90eXBlLnNlYXJjaFBsYXllcj1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcztzLmRlZmF1bHQuTWFwQ2xyLm15TWFwJiZzLmRlZmF1bHQuR1NjZW5lLnBsYXllciYmKChlPXMuZGVmYXVsdC5nZXREaXN0YW5jZSh0aGlzLm5vZGUucG9zaXRpb24scy5kZWZhdWx0LkdTY2VuZS5wbGF5ZXIubm9kZS5wb3NpdGlvbik8MTIwKSE9dGhpcy5pc1Nob3dCdXQmJih0aGlzLmlzU2hvd0J1dD1lLHRoaXMuaXNTaG93QnV0PyhlPXMuZGVmYXVsdC5HU2NlbmUuR2FtZUVsZW1lbnRCdXRQb29sLkdldEZvcm1Qb29sKHMuZGVmYXVsdC5HU2NlbmUuR2FtZVBvcEJveCksdGhpcy5idXQ9ZS5nZXRDb21wb25lbnQodS5kZWZhdWx0KSx0aGlzLmJ1dC5pbml0KHRoaXMubm9kZSxmdW5jdGlvbigpe3JldHVybiB0LmlzSGF2ZU1hbj8oYy5DQ1Rvb2wuVUkuU2hvd1RvYXN0KFwi55S16ISR5qGM6KKr5Y2g5LqGXCIpLHZvaWQgdC5idXQuaGlkZSgpKToodC5tb3VudFJvbGUocy5kZWZhdWx0LkdTY2VuZS5wbGF5ZXIpLHZvaWQgY2MudHdlZW4ocy5kZWZhdWx0LkdTY2VuZS5HYW1lQ2FtZXJhLm5vZGUpLnRvKC4yLHtwb3NpdGlvbjp0Lm5vZGUucG9zaXRpb259KS5zdGFydCgpKX0pLHRoaXMuYnV0LnNldExhYmVsKHRoaXMuaXNDbG9zZXN0b29sKCk/XCLoubLlnZFcIjpcIuS4iuaculwiKSk6KHRoaXMuYnV0JiZ0aGlzLmJ1dC5oaWRlKCksdGhpcy5idXQ9bnVsbCkpKX0saC5wcm90b3R5cGUuc2V0RGVzdHJveWVkPWZ1bmN0aW9uKCl7Y2MubG9nKFwi6KKr56C05Z2PXCIpLHRoaXMubm9kZS5hY3RpdmU9ITEsdGhpcy5zZXRTdGF0ZSghMSl9LGgucHJvdG90eXBlLmdldEh1cnQ9ZnVuY3Rpb24oZSl7ci5wcm90b3R5cGUuZ2V0SHVydC5jYWxsKHRoaXMsZSksbnVsbCE9dGhpcy5vd2VyJiZ0aGlzLm93ZXIuZ2V0SHVydChlKX0saC5wcm90b3R5cGUubW91bnRSb2xlPWZ1bmN0aW9uKGUpe3ZhciB0O3RoaXMuaXNIYXZlTWFufHwodGhpcy5pc0hhdmVNYW49ITAsdD10aGlzLmlzQ2xvc2VzdG9vbCgpPzIwOjEsdGhpcy5pbml0QXR0cmlidXRlKGwuQ2ZnLkJ1aWxkaW5nMS5nZXQodCksZSksdGhpcy5zZXRUZXJyaXRvcnkoKSxlLnNldENvbGxpc2lvbighMSksKHRoaXMub3dlci5teUJlZD10aGlzKS5pc0Nsb3Nlc3Rvb2woKT9lLm5vZGUuc2V0UG9zaXRpb24odGhpcy5ub2RlLngrNSx0aGlzLm5vZGUueSsxMCk6ZS5ub2RlLnNldFBvc2l0aW9uKHRoaXMubm9kZS54LHRoaXMubm9kZS55LTMwKSxlLnRvQmVkKHRoaXMucm9vbUlEKSx0aGlzLnVuc2NoZWR1bGUodGhpcy5zZWFyY2hQbGF5ZXIpLHRoaXMuYnV0JiZ0aGlzLmJ1dC5oaWRlKCksdGhpcy5zZXRTdGF0ZSghMCkpfSxoLnByb3RvdHlwZS5lZmZlY3RUcmlnZ2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hdHRyaWJ1dGUuZGF0YS5vdXRwdXRDb2luKnRoaXMub3dlci5vdXRwdXRSYXRpbzt0aGlzLm93ZXIuc2V0Q29pbihlKSxjLkNDVG9vbC5TeXN0ZW0uSW5DYW1lcmEodGhpcy5ub2RlLnBvc2l0aW9uKSYmcy5kZWZhdWx0Lk1hcENsci5uZXdMYWJlbFRpcHMoXCIrXCIrZSx0aGlzLm5vZGUucG9zaXRpb24sY2MuQ29sb3IuWUVMTE9XLFwiRmlzaCBjb2luXCIpfSxhKFt0LGUoXCJnYW1lRWxlbWVudC9CZWRcIildLGgpKTtmdW5jdGlvbiBoKCl7dmFyIGU9bnVsbCE9PXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmlzU2hvd0J1dD0hMSxlLmJ1dD1udWxsLGUuU0NvbnN0cnVjdD1bXSxlLmlzSGF2ZU1hbj0hMSxlfW8uZGVmYXVsdD1lIl19