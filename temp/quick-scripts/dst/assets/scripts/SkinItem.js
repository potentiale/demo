
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/SkinItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '59239nPJg1OG4ilmqapEpli', 'SkinItem');
// scripts/SkinItem.js

"use strict";

var e = require;
var t = module;
var o = exports;
"use strict";

var _n,
    i = void 0 && (void 0).__extends || (_n = function n(e, t) {
  return (_n = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (e, t) {
    e.__proto__ = t;
  } || function (e, t) {
    for (var o in t) {
      Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
  })(e, t);
}, function (e, t) {
  function o() {
    this.constructor = e;
  }

  _n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}),
    a = void 0 && (void 0).__decorate || function (e, t, o, n) {
  var i,
      a = arguments.length,
      r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);else for (var s = e.length - 1; 0 <= s; s--) {
    (i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);
  }
  return 3 < a && r && Object.defineProperty(t, o, r), r;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});
var r,
    s = e("AppCommon"),
    c = e("CCTool"),
    l = e("PlatformFun"),
    p = e("UserVo"),
    d = e("GridViewCell"),
    u = e("ListenID"),
    f = e("Notifier"),
    t = cc._decorator,
    e = t.ccclass,
    t = t.property,
    e = (r = d["default"], i(h, r), h.prototype.onInit = function () {}, h.prototype.onRefresh = function (e) {
  var o = this;
  this._data = e, this._curIconPath != e.SkinIcon && (cc.resources.load(e.SkinIcon, cc.SpriteFrame, function (e, t) {
    o.skinIcon && (o.skinIcon.spriteFrame = t);
  }), this._curIconPath = e.SkinIcon), this._skinId = e.id, this._isSelected = this._skinId == s["default"].SkinCtrl.selectSkinId, this.selectIcon.color = this._isSelected ? cc.Color.WHITE.fromHEX("#3d7b80") : cc.Color.WHITE.fromHEX("#a9a49d"), this.setState();
}, h.prototype.setState = function () {
  var e = s["default"].SkinCtrl.getIsUnlockBySkinId(this._skinId),
      t = e ? 0 : this._data.unlockType;
  this._isUnlock = !!e, this.skinIcon.node.color = this._isUnlock ? cc.Color.WHITE : cc.Color.BLACK, this.lockNode.active = !this._isUnlock;

  for (var o = null, n = 0, i = this.unlockNode.childrenCount; n < i; n++) {
    this.unlockNode.children[n].active = t == n, t == n && (o = this.unlockNode.children[n]), this.unlockNode.children[n].active = t == n;
  }

  var a = null;
  o && (a = o.getChildByName("desc").getComponent(cc.Label)), 1 == t && a && (a.getComponent(cc.Label).string = "" + this._data.unlockCost), this._isUnlock && a && (e = a.node.getComponent(cc.LabelOutline), this._isSelected ? (a.string = "使用中", a.node.color = cc.Color.WHITE.fromHEX("#fcf3e4"), e && (e.enabled = !0)) : (e && (e.enabled = !1), a.node.color = cc.Color.WHITE.fromHEX("#2b2a29"), a.string = this._data.name));
}, h.prototype.onClick = function () {
  var e = this;
  if (this._skinId != s["default"].SkinCtrl.selectSkinId) if (this._isUnlock) f.Notifier.send(u.ListenID.Skin_SelectSkinId, this._skinId);else if (1 == this._data.unlockType) p.UserVo.fish >= this._data.unlockCost ? (p.UserVo.SetFish(-this._data.unlockCost), this._setUnlock(), c.CCTool.UI.ShowToast("恭喜获得新服饰"), f.Notifier.send(u.ListenID.Skin_SelectSkinId, this._skinId)) : c.CCTool.UI.ShowToast("多赚点摸鱼币吧");else if (2 == this._data.unlockType) l.PlatformFun.loadRewardedVideoAd({
    onVideoSuccess: function onVideoSuccess() {
      e._setUnlock(), c.CCTool.UI.ShowToast("恭喜获得新服饰"), f.Notifier.send(u.ListenID.Skin_SelectSkinId, e._skinId);
    },
    loadSuccess: function loadSuccess() {}
  });else if (3 == this._data.unlockType) return void c.CCTool.UI.ShowToast("到处找找看");
}, h.prototype._setUnlock = function () {
  l.PlatformFun.SendEvent("skin_get_" + this._skinId), s["default"].SkinCtrl.setUnlockBySkinId(this._skinId);
}, a([t(cc.Node)], h.prototype, "selectIcon", void 0), a([t(cc.Sprite)], h.prototype, "skinIcon", void 0), a([t(cc.Node)], h.prototype, "unlockNode", void 0), a([t(cc.Node)], h.prototype, "lockNode", void 0), a([e], h));

function h() {
  var e = null !== r && r.apply(this, arguments) || this;
  return e.selectIcon = null, e.skinIcon = null, e.unlockNode = null, e.lockNode = null, e._curIconPath = "", e._skinId = 0, e._data = null, e._isUnlock = !1, e._isSelected = !1, e;
}

o["default"] = e;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcU2tpbkl0ZW0uanMiXSwibmFtZXMiOlsiZSIsInJlcXVpcmUiLCJ0IiwibW9kdWxlIiwibyIsImV4cG9ydHMiLCJuIiwiaSIsIl9fZXh0ZW5kcyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsImEiLCJfX2RlY29yYXRlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYyIsImwiLCJwIiwiZCIsInUiLCJmIiwiY2MiLCJfZGVjb3JhdG9yIiwiY2NjbGFzcyIsInByb3BlcnR5IiwiaCIsIm9uSW5pdCIsIm9uUmVmcmVzaCIsIl9kYXRhIiwiX2N1ckljb25QYXRoIiwiU2tpbkljb24iLCJyZXNvdXJjZXMiLCJsb2FkIiwiU3ByaXRlRnJhbWUiLCJza2luSWNvbiIsInNwcml0ZUZyYW1lIiwiX3NraW5JZCIsImlkIiwiX2lzU2VsZWN0ZWQiLCJTa2luQ3RybCIsInNlbGVjdFNraW5JZCIsInNlbGVjdEljb24iLCJjb2xvciIsIkNvbG9yIiwiV0hJVEUiLCJmcm9tSEVYIiwic2V0U3RhdGUiLCJnZXRJc1VubG9ja0J5U2tpbklkIiwidW5sb2NrVHlwZSIsIl9pc1VubG9jayIsIm5vZGUiLCJCTEFDSyIsImxvY2tOb2RlIiwiYWN0aXZlIiwidW5sb2NrTm9kZSIsImNoaWxkcmVuQ291bnQiLCJjaGlsZHJlbiIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50IiwiTGFiZWwiLCJzdHJpbmciLCJ1bmxvY2tDb3N0IiwiTGFiZWxPdXRsaW5lIiwiZW5hYmxlZCIsIm5hbWUiLCJvbkNsaWNrIiwiTm90aWZpZXIiLCJzZW5kIiwiTGlzdGVuSUQiLCJTa2luX1NlbGVjdFNraW5JZCIsIlVzZXJWbyIsImZpc2giLCJTZXRGaXNoIiwiX3NldFVubG9jayIsIkNDVG9vbCIsIlVJIiwiU2hvd1RvYXN0IiwiUGxhdGZvcm1GdW4iLCJsb2FkUmV3YXJkZWRWaWRlb0FkIiwib25WaWRlb1N1Y2Nlc3MiLCJsb2FkU3VjY2VzcyIsIlNlbmRFdmVudCIsInNldFVubG9ja0J5U2tpbklkIiwiTm9kZSIsIlNwcml0ZSIsImFwcGx5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUMsR0FBQ0MsT0FBTjtBQUNBLElBQUlDLENBQUMsR0FBQ0MsTUFBTjtBQUNBLElBQUlDLENBQUMsR0FBQ0MsT0FBTjtBQUNBOztBQUFhLElBQUlDLEVBQUo7QUFBQSxJQUFNQyxDQUFDLEdBQUMsVUFBTSxTQUFLQyxTQUFYLEtBQXVCRixFQUFDLEdBQUMsV0FBU04sQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQyxTQUFNLENBQUNJLEVBQUMsR0FBQ0csTUFBTSxDQUFDQyxjQUFQLElBQXVCO0FBQUNDLElBQUFBLFNBQVMsRUFBQztBQUFYLGVBQXlCQyxLQUF6QixJQUFnQyxVQUFTWixDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDRixJQUFBQSxDQUFDLENBQUNXLFNBQUYsR0FBWVQsQ0FBWjtBQUFjLEdBQW5GLElBQXFGLFVBQVNGLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUMsU0FBSSxJQUFJRSxDQUFSLElBQWFGLENBQWI7QUFBZU8sTUFBQUEsTUFBTSxDQUFDSSxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNiLENBQXJDLEVBQXVDRSxDQUF2QyxNQUE0Q0osQ0FBQyxDQUFDSSxDQUFELENBQUQsR0FBS0YsQ0FBQyxDQUFDRSxDQUFELENBQWxEO0FBQWY7QUFBc0UsR0FBNUssRUFBOEtKLENBQTlLLEVBQWdMRSxDQUFoTCxDQUFOO0FBQXlMLENBQXpNLEVBQTBNLFVBQVNGLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUMsV0FBU0UsQ0FB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QUFDNkUsS0FBRixDQUFRLElBQVIsRUFBYS9FLFNBQWIsQ0FBVixJQUFtQyxJQUF6QztBQUE4QyxTQUFPcEIsQ0FBQyxDQUFDdUQsVUFBRixHQUFhLElBQWIsRUFBa0J2RCxDQUFDLENBQUNnRCxRQUFGLEdBQVcsSUFBN0IsRUFBa0NoRCxDQUFDLENBQUNvRSxVQUFGLEdBQWEsSUFBL0MsRUFBb0RwRSxDQUFDLENBQUNrRSxRQUFGLEdBQVcsSUFBL0QsRUFBb0VsRSxDQUFDLENBQUMyQyxZQUFGLEdBQWUsRUFBbkYsRUFBc0YzQyxDQUFDLENBQUNrRCxPQUFGLEdBQVUsQ0FBaEcsRUFBa0dsRCxDQUFDLENBQUMwQyxLQUFGLEdBQVEsSUFBMUcsRUFBK0cxQyxDQUFDLENBQUMrRCxTQUFGLEdBQVksQ0FBQyxDQUE1SCxFQUE4SC9ELENBQUMsQ0FBQ29ELFdBQUYsR0FBYyxDQUFDLENBQTdJLEVBQStJcEQsQ0FBdEo7QUFBd0o7O0FBQUFJLENBQUMsV0FBRCxHQUFVSixDQUFWIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT1yZXF1aXJlO1xudmFyIHQ9bW9kdWxlO1xudmFyIG89ZXhwb3J0cztcblwidXNlIHN0cmljdFwiO3ZhciBuLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKG49T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfW4oZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihvLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbyl9KSxhPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGksYT1hcmd1bWVudHMubGVuZ3RoLHI9YTwzP3Q6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlyPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG8sbik7ZWxzZSBmb3IodmFyIHM9ZS5sZW5ndGgtMTswPD1zO3MtLSkoaT1lW3NdKSYmKHI9KGE8Mz9pKHIpOjM8YT9pKHQsbyxyKTppKHQsbykpfHxyKTtyZXR1cm4gMzxhJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLHIpLHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByLHM9ZShcIkFwcENvbW1vblwiKSxjPWUoXCJDQ1Rvb2xcIiksbD1lKFwiUGxhdGZvcm1GdW5cIikscD1lKFwiVXNlclZvXCIpLGQ9ZShcIkdyaWRWaWV3Q2VsbFwiKSx1PWUoXCJMaXN0ZW5JRFwiKSxmPWUoXCJOb3RpZmllclwiKSx0PWNjLl9kZWNvcmF0b3IsZT10LmNjY2xhc3MsdD10LnByb3BlcnR5LGU9KHI9ZC5kZWZhdWx0LGkoaCxyKSxoLnByb3RvdHlwZS5vbkluaXQ9ZnVuY3Rpb24oKXt9LGgucHJvdG90eXBlLm9uUmVmcmVzaD1mdW5jdGlvbihlKXt2YXIgbz10aGlzO3RoaXMuX2RhdGE9ZSx0aGlzLl9jdXJJY29uUGF0aCE9ZS5Ta2luSWNvbiYmKGNjLnJlc291cmNlcy5sb2FkKGUuU2tpbkljb24sY2MuU3ByaXRlRnJhbWUsZnVuY3Rpb24oZSx0KXtvLnNraW5JY29uJiYoby5za2luSWNvbi5zcHJpdGVGcmFtZT10KX0pLHRoaXMuX2N1ckljb25QYXRoPWUuU2tpbkljb24pLHRoaXMuX3NraW5JZD1lLmlkLHRoaXMuX2lzU2VsZWN0ZWQ9dGhpcy5fc2tpbklkPT1zLmRlZmF1bHQuU2tpbkN0cmwuc2VsZWN0U2tpbklkLHRoaXMuc2VsZWN0SWNvbi5jb2xvcj10aGlzLl9pc1NlbGVjdGVkP2NjLkNvbG9yLldISVRFLmZyb21IRVgoXCIjM2Q3YjgwXCIpOmNjLkNvbG9yLldISVRFLmZyb21IRVgoXCIjYTlhNDlkXCIpLHRoaXMuc2V0U3RhdGUoKX0saC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oKXt2YXIgZT1zLmRlZmF1bHQuU2tpbkN0cmwuZ2V0SXNVbmxvY2tCeVNraW5JZCh0aGlzLl9za2luSWQpLHQ9ZT8wOnRoaXMuX2RhdGEudW5sb2NrVHlwZTt0aGlzLl9pc1VubG9jaz0hIWUsdGhpcy5za2luSWNvbi5ub2RlLmNvbG9yPXRoaXMuX2lzVW5sb2NrP2NjLkNvbG9yLldISVRFOmNjLkNvbG9yLkJMQUNLLHRoaXMubG9ja05vZGUuYWN0aXZlPSF0aGlzLl9pc1VubG9jaztmb3IodmFyIG89bnVsbCxuPTAsaT10aGlzLnVubG9ja05vZGUuY2hpbGRyZW5Db3VudDtuPGk7bisrKXRoaXMudW5sb2NrTm9kZS5jaGlsZHJlbltuXS5hY3RpdmU9dD09bix0PT1uJiYobz10aGlzLnVubG9ja05vZGUuY2hpbGRyZW5bbl0pLHRoaXMudW5sb2NrTm9kZS5jaGlsZHJlbltuXS5hY3RpdmU9dD09bjt2YXIgYT1udWxsO28mJihhPW8uZ2V0Q2hpbGRCeU5hbWUoXCJkZXNjXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkpLDE9PXQmJmEmJihhLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nPVwiXCIrdGhpcy5fZGF0YS51bmxvY2tDb3N0KSx0aGlzLl9pc1VubG9jayYmYSYmKGU9YS5ub2RlLmdldENvbXBvbmVudChjYy5MYWJlbE91dGxpbmUpLHRoaXMuX2lzU2VsZWN0ZWQ/KGEuc3RyaW5nPVwi5L2/55So5LitXCIsYS5ub2RlLmNvbG9yPWNjLkNvbG9yLldISVRFLmZyb21IRVgoXCIjZmNmM2U0XCIpLGUmJihlLmVuYWJsZWQ9ITApKTooZSYmKGUuZW5hYmxlZD0hMSksYS5ub2RlLmNvbG9yPWNjLkNvbG9yLldISVRFLmZyb21IRVgoXCIjMmIyYTI5XCIpLGEuc3RyaW5nPXRoaXMuX2RhdGEubmFtZSkpfSxoLnByb3RvdHlwZS5vbkNsaWNrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9za2luSWQhPXMuZGVmYXVsdC5Ta2luQ3RybC5zZWxlY3RTa2luSWQpaWYodGhpcy5faXNVbmxvY2spZi5Ob3RpZmllci5zZW5kKHUuTGlzdGVuSUQuU2tpbl9TZWxlY3RTa2luSWQsdGhpcy5fc2tpbklkKTtlbHNlIGlmKDE9PXRoaXMuX2RhdGEudW5sb2NrVHlwZSlwLlVzZXJWby5maXNoPj10aGlzLl9kYXRhLnVubG9ja0Nvc3Q/KHAuVXNlclZvLlNldEZpc2goLXRoaXMuX2RhdGEudW5sb2NrQ29zdCksdGhpcy5fc2V0VW5sb2NrKCksYy5DQ1Rvb2wuVUkuU2hvd1RvYXN0KFwi5oGt5Zac6I635b6X5paw5pyN6aWwXCIpLGYuTm90aWZpZXIuc2VuZCh1Lkxpc3RlbklELlNraW5fU2VsZWN0U2tpbklkLHRoaXMuX3NraW5JZCkpOmMuQ0NUb29sLlVJLlNob3dUb2FzdChcIuWkmui1mueCueaRuOmxvOW4geWQp1wiKTtlbHNlIGlmKDI9PXRoaXMuX2RhdGEudW5sb2NrVHlwZSlsLlBsYXRmb3JtRnVuLmxvYWRSZXdhcmRlZFZpZGVvQWQoe29uVmlkZW9TdWNjZXNzOmZ1bmN0aW9uKCl7ZS5fc2V0VW5sb2NrKCksYy5DQ1Rvb2wuVUkuU2hvd1RvYXN0KFwi5oGt5Zac6I635b6X5paw5pyN6aWwXCIpLGYuTm90aWZpZXIuc2VuZCh1Lkxpc3RlbklELlNraW5fU2VsZWN0U2tpbklkLGUuX3NraW5JZCl9LGxvYWRTdWNjZXNzOmZ1bmN0aW9uKCl7fX0pO2Vsc2UgaWYoMz09dGhpcy5fZGF0YS51bmxvY2tUeXBlKXJldHVybiB2b2lkIGMuQ0NUb29sLlVJLlNob3dUb2FzdChcIuWIsOWkhOaJvuaJvueci1wiKX0saC5wcm90b3R5cGUuX3NldFVubG9jaz1mdW5jdGlvbigpe2wuUGxhdGZvcm1GdW4uU2VuZEV2ZW50KFwic2tpbl9nZXRfXCIrdGhpcy5fc2tpbklkKSxzLmRlZmF1bHQuU2tpbkN0cmwuc2V0VW5sb2NrQnlTa2luSWQodGhpcy5fc2tpbklkKX0sYShbdChjYy5Ob2RlKV0saC5wcm90b3R5cGUsXCJzZWxlY3RJY29uXCIsdm9pZCAwKSxhKFt0KGNjLlNwcml0ZSldLGgucHJvdG90eXBlLFwic2tpbkljb25cIix2b2lkIDApLGEoW3QoY2MuTm9kZSldLGgucHJvdG90eXBlLFwidW5sb2NrTm9kZVwiLHZvaWQgMCksYShbdChjYy5Ob2RlKV0saC5wcm90b3R5cGUsXCJsb2NrTm9kZVwiLHZvaWQgMCksYShbZV0saCkpO2Z1bmN0aW9uIGgoKXt2YXIgZT1udWxsIT09ciYmci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuc2VsZWN0SWNvbj1udWxsLGUuc2tpbkljb249bnVsbCxlLnVubG9ja05vZGU9bnVsbCxlLmxvY2tOb2RlPW51bGwsZS5fY3VySWNvblBhdGg9XCJcIixlLl9za2luSWQ9MCxlLl9kYXRhPW51bGwsZS5faXNVbmxvY2s9ITEsZS5faXNTZWxlY3RlZD0hMSxlfW8uZGVmYXVsdD1lIl19