
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/LoaderAdapter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '28e3bgMkYFMBK613O48lQ1W', 'LoaderAdapter');
// scripts/LoaderAdapter.js

"use strict";

var e = require;
var t = module;
var o = exports;
"use strict";

Object.defineProperty(o, "__esModule", {
  value: !0
}), o.LoaderAdapter = void 0;
var c = e("AssetLoader"),
    n = e("ResUtil"),
    e = (i.prototype.loadRes = function () {
  var e = c["default"].makeLoadResArgs.apply(this, arguments);
  c.assetLoader.loadRes(e.url, e.type, e.onProgess, e.onCompleted, e.bundle);
}, i.prototype.preloadRes = function () {
  var e = c["default"].makeLoadResArgs.apply(this, arguments);
  c.assetLoader.preloadRes(e.url, e.type, e.onProgess, e.onCompleted, e.bundle);
}, i.prototype.releaseAsset = function (e) {
  c.assetLoader.releaseAsset(e);
}, i.prototype.loadSpriteAsync = function (e, i) {
  var a = this;
  return new Promise(function (o, n) {
    a.loadRes(e, cc.SpriteFrame, function (e, t) {
      e ? n(e) : ((e = t) instanceof cc.Texture2D && (e = new cc.SpriteFrame(t)), i && cc.isValid(i) && a.setAutoRelease(e, i, !0), o(e));
    });
  });
}, i.prototype.loadSpine = function (e, i) {
  var a = this;
  return new Promise(function (o, n) {
    a.loadRes(e, sp.SkeletonData, function (e, t) {
      e ? n(e) : (t = t, i && cc.isValid(i) && a.setAutoRelease(t, i, !0), o(t));
    });
  });
}, i.prototype.loadSpriteAltasAsync = function (e, i) {
  var a = this;
  return new Promise(function (o, n) {
    a.loadRes(e, function (e, t) {
      e ? n(e) : (i && cc.isValid(i) && a.setAutoRelease(t, i), o(t));
    });
  });
}, i.prototype.loadPrefab = function (e) {
  var i = this;
  return new Promise(function (o, n) {
    i.loadRes(e, cc.Prefab, function (e, t) {
      e ? n(e) : (t = i.instantiate(t), o(t));
    });
  });
}, i.prototype.instantiate = function (e) {
  var t = cc.instantiate(e);
  return this.setAutoRelease(e, t, !0), t;
}, i.prototype.loadDragonBones = function (e, a, r) {
  var s = this;
  return new Promise(function (n, i) {
    s.loadRes(e, dragonBones.DragonBonesAsset, function (e, t) {
      var o;
      e ? i() : (o = t, r && cc.isValid(r) && (s.setAutoRelease(t, r, !0), s.loadRes(a, dragonBones.DragonBonesAtlasAsset, function (e, t) {
        e ? i() : (s.setAutoRelease(t, r, !0), n({
          asset: o,
          atlasAsset: t
        }));
      })));
    });
  });
}, i.prototype.loadDragonBonesByPath = function (e, n, i, a) {
  var r,
      s = n.getComponent(dragonBones.ArmatureDisplay);
  s && (r = this, c.assetLoader.loadResDir(e, function (e, t) {
    if (!(e || t.length <= 0)) {
      for (var o in s.dragonAsset = null, s.dragonAtlasAsset = null, t) {
        t[o] instanceof dragonBones.DragonBonesAsset && (s.dragonAsset = t[o], r.setAutoRelease(t[o], n, !0)), t[o] instanceof dragonBones.DragonBonesAtlasAsset && (s.dragonAtlasAsset = t[o], r.setAutoRelease(t[o], n, !0));
      }

      s.armatureName = "Armature", i && (s.playAnimation(s.getAnimationNames(s.getArmatureNames()[0])[0], -1), s.timeScale = 1), a && a();
    }
  }));
}, i.prototype.setAutoRelease = function (e, t, o) {
  o = n.ResUtil.getResKeeper(t, o);
  return e && o ? (o.autoReleaseRes({
    asset: e
  }), e) : null;
}, i.prototype.makeUseKey = function () {
  return "@useKey_" + this.globalUseId++;
}, i);

function i() {
  this.globalUseId = 0;
}

o.LoaderAdapter = new e();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcTG9hZGVyQWRhcHRlci5qcyJdLCJuYW1lcyI6WyJlIiwicmVxdWlyZSIsInQiLCJtb2R1bGUiLCJvIiwiZXhwb3J0cyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJMb2FkZXJBZGFwdGVyIiwiYyIsIm4iLCJpIiwicHJvdG90eXBlIiwibG9hZFJlcyIsIm1ha2VMb2FkUmVzQXJncyIsImFwcGx5IiwiYXJndW1lbnRzIiwiYXNzZXRMb2FkZXIiLCJ1cmwiLCJ0eXBlIiwib25Qcm9nZXNzIiwib25Db21wbGV0ZWQiLCJidW5kbGUiLCJwcmVsb2FkUmVzIiwicmVsZWFzZUFzc2V0IiwibG9hZFNwcml0ZUFzeW5jIiwiYSIsIlByb21pc2UiLCJjYyIsIlNwcml0ZUZyYW1lIiwiVGV4dHVyZTJEIiwiaXNWYWxpZCIsInNldEF1dG9SZWxlYXNlIiwibG9hZFNwaW5lIiwic3AiLCJTa2VsZXRvbkRhdGEiLCJsb2FkU3ByaXRlQWx0YXNBc3luYyIsImxvYWRQcmVmYWIiLCJQcmVmYWIiLCJpbnN0YW50aWF0ZSIsImxvYWREcmFnb25Cb25lcyIsInIiLCJzIiwiZHJhZ29uQm9uZXMiLCJEcmFnb25Cb25lc0Fzc2V0IiwiRHJhZ29uQm9uZXNBdGxhc0Fzc2V0IiwiYXNzZXQiLCJhdGxhc0Fzc2V0IiwibG9hZERyYWdvbkJvbmVzQnlQYXRoIiwiZ2V0Q29tcG9uZW50IiwiQXJtYXR1cmVEaXNwbGF5IiwibG9hZFJlc0RpciIsImxlbmd0aCIsImRyYWdvbkFzc2V0IiwiZHJhZ29uQXRsYXNBc3NldCIsImFybWF0dXJlTmFtZSIsInBsYXlBbmltYXRpb24iLCJnZXRBbmltYXRpb25OYW1lcyIsImdldEFybWF0dXJlTmFtZXMiLCJ0aW1lU2NhbGUiLCJSZXNVdGlsIiwiZ2V0UmVzS2VlcGVyIiwiYXV0b1JlbGVhc2VSZXMiLCJtYWtlVXNlS2V5IiwiZ2xvYmFsVXNlSWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBQyxHQUFDQyxPQUFOO0FBQ0EsSUFBSUMsQ0FBQyxHQUFDQyxNQUFOO0FBQ0EsSUFBSUMsQ0FBQyxHQUFDQyxPQUFOO0FBQ0E7O0FBQWFDLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkgsQ0FBdEIsRUFBd0IsWUFBeEIsRUFBcUM7QUFBQ0ksRUFBQUEsS0FBSyxFQUFDLENBQUM7QUFBUixDQUFyQyxHQUFpREosQ0FBQyxDQUFDSyxhQUFGLEdBQWdCLEtBQUssQ0FBdEU7QUFBd0UsSUFBSUMsQ0FBQyxHQUFDVixDQUFDLENBQUMsYUFBRCxDQUFQO0FBQUEsSUFBdUJXLENBQUMsR0FBQ1gsQ0FBQyxDQUFDLFNBQUQsQ0FBMUI7QUFBQSxJQUFzQ0EsQ0FBQyxJQUFFWSxDQUFDLENBQUNDLFNBQUYsQ0FBWUMsT0FBWixHQUFvQixZQUFVO0FBQUMsTUFBSWQsQ0FBQyxHQUFDVSxDQUFDLFdBQUQsQ0FBVUssZUFBVixDQUEwQkMsS0FBMUIsQ0FBZ0MsSUFBaEMsRUFBcUNDLFNBQXJDLENBQU47QUFBc0RQLEVBQUFBLENBQUMsQ0FBQ1EsV0FBRixDQUFjSixPQUFkLENBQXNCZCxDQUFDLENBQUNtQixHQUF4QixFQUE0Qm5CLENBQUMsQ0FBQ29CLElBQTlCLEVBQW1DcEIsQ0FBQyxDQUFDcUIsU0FBckMsRUFBK0NyQixDQUFDLENBQUNzQixXQUFqRCxFQUE2RHRCLENBQUMsQ0FBQ3VCLE1BQS9EO0FBQXVFLENBQTVKLEVBQTZKWCxDQUFDLENBQUNDLFNBQUYsQ0FBWVcsVUFBWixHQUF1QixZQUFVO0FBQUMsTUFBSXhCLENBQUMsR0FBQ1UsQ0FBQyxXQUFELENBQVVLLGVBQVYsQ0FBMEJDLEtBQTFCLENBQWdDLElBQWhDLEVBQXFDQyxTQUFyQyxDQUFOO0FBQXNEUCxFQUFBQSxDQUFDLENBQUNRLFdBQUYsQ0FBY00sVUFBZCxDQUF5QnhCLENBQUMsQ0FBQ21CLEdBQTNCLEVBQStCbkIsQ0FBQyxDQUFDb0IsSUFBakMsRUFBc0NwQixDQUFDLENBQUNxQixTQUF4QyxFQUFrRHJCLENBQUMsQ0FBQ3NCLFdBQXBELEVBQWdFdEIsQ0FBQyxDQUFDdUIsTUFBbEU7QUFBMEUsQ0FBL1QsRUFBZ1VYLENBQUMsQ0FBQ0MsU0FBRixDQUFZWSxZQUFaLEdBQXlCLFVBQVN6QixDQUFULEVBQVc7QUFBQ1UsRUFBQUEsQ0FBQyxDQUFDUSxXQUFGLENBQWNPLFlBQWQsQ0FBMkJ6QixDQUEzQjtBQUE4QixDQUFuWSxFQUFvWVksQ0FBQyxDQUFDQyxTQUFGLENBQVlhLGVBQVosR0FBNEIsVUFBUzFCLENBQVQsRUFBV1ksQ0FBWCxFQUFhO0FBQUMsTUFBSWUsQ0FBQyxHQUFDLElBQU47QUFBVyxTQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFTeEIsQ0FBVCxFQUFXTyxDQUFYLEVBQWE7QUFBQ2dCLElBQUFBLENBQUMsQ0FBQ2IsT0FBRixDQUFVZCxDQUFWLEVBQVk2QixFQUFFLENBQUNDLFdBQWYsRUFBMkIsVUFBUzlCLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUNGLE1BQUFBLENBQUMsR0FBQ1csQ0FBQyxDQUFDWCxDQUFELENBQUYsSUFBTyxDQUFDQSxDQUFDLEdBQUNFLENBQUgsYUFBZ0IyQixFQUFFLENBQUNFLFNBQW5CLEtBQStCL0IsQ0FBQyxHQUFDLElBQUk2QixFQUFFLENBQUNDLFdBQVAsQ0FBbUI1QixDQUFuQixDQUFqQyxHQUF3RFUsQ0FBQyxJQUFFaUIsRUFBRSxDQUFDRyxPQUFILENBQVdwQixDQUFYLENBQUgsSUFBa0JlLENBQUMsQ0FBQ00sY0FBRixDQUFpQmpDLENBQWpCLEVBQW1CWSxDQUFuQixFQUFxQixDQUFDLENBQXRCLENBQTFFLEVBQW1HUixDQUFDLENBQUNKLENBQUQsQ0FBM0csQ0FBRDtBQUFpSCxLQUExSjtBQUE0SixHQUF0TCxDQUFQO0FBQStMLENBQXhuQixFQUF5bkJZLENBQUMsQ0FBQ0MsU0FBRixDQUFZcUIsU0FBWixHQUFzQixVQUFTbEMsQ0FBVCxFQUFXWSxDQUFYLEVBQWE7QUFBQyxNQUFJZSxDQUFDLEdBQUMsSUFBTjtBQUFXLFNBQU8sSUFBSUMsT0FBSixDQUFZLFVBQVN4QixDQUFULEVBQVdPLENBQVgsRUFBYTtBQUFDZ0IsSUFBQUEsQ0FBQyxDQUFDYixPQUFGLENBQVVkLENBQVYsRUFBWW1DLEVBQUUsQ0FBQ0MsWUFBZixFQUE0QixVQUFTcEMsQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQ0YsTUFBQUEsQ0FBQyxHQUFDVyxDQUFDLENBQUNYLENBQUQsQ0FBRixJQUFPRSxDQUFDLEdBQUNBLENBQUYsRUFBSVUsQ0FBQyxJQUFFaUIsRUFBRSxDQUFDRyxPQUFILENBQVdwQixDQUFYLENBQUgsSUFBa0JlLENBQUMsQ0FBQ00sY0FBRixDQUFpQi9CLENBQWpCLEVBQW1CVSxDQUFuQixFQUFxQixDQUFDLENBQXRCLENBQXRCLEVBQStDUixDQUFDLENBQUNGLENBQUQsQ0FBdkQsQ0FBRDtBQUE2RCxLQUF2RztBQUF5RyxHQUFuSSxDQUFQO0FBQTRJLENBQXB6QixFQUFxekJVLENBQUMsQ0FBQ0MsU0FBRixDQUFZd0Isb0JBQVosR0FBaUMsVUFBU3JDLENBQVQsRUFBV1ksQ0FBWCxFQUFhO0FBQUMsTUFBSWUsQ0FBQyxHQUFDLElBQU47QUFBVyxTQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFTeEIsQ0FBVCxFQUFXTyxDQUFYLEVBQWE7QUFBQ2dCLElBQUFBLENBQUMsQ0FBQ2IsT0FBRixDQUFVZCxDQUFWLEVBQVksVUFBU0EsQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQ0YsTUFBQUEsQ0FBQyxHQUFDVyxDQUFDLENBQUNYLENBQUQsQ0FBRixJQUFPWSxDQUFDLElBQUVpQixFQUFFLENBQUNHLE9BQUgsQ0FBV3BCLENBQVgsQ0FBSCxJQUFrQmUsQ0FBQyxDQUFDTSxjQUFGLENBQWlCL0IsQ0FBakIsRUFBbUJVLENBQW5CLENBQWxCLEVBQXdDUixDQUFDLENBQUNGLENBQUQsQ0FBaEQsQ0FBRDtBQUFzRCxLQUFoRjtBQUFrRixHQUE1RyxDQUFQO0FBQXFILENBQXArQixFQUFxK0JVLENBQUMsQ0FBQ0MsU0FBRixDQUFZeUIsVUFBWixHQUF1QixVQUFTdEMsQ0FBVCxFQUFXO0FBQUMsTUFBSVksQ0FBQyxHQUFDLElBQU47QUFBVyxTQUFPLElBQUlnQixPQUFKLENBQVksVUFBU3hCLENBQVQsRUFBV08sQ0FBWCxFQUFhO0FBQUNDLElBQUFBLENBQUMsQ0FBQ0UsT0FBRixDQUFVZCxDQUFWLEVBQVk2QixFQUFFLENBQUNVLE1BQWYsRUFBc0IsVUFBU3ZDLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUNGLE1BQUFBLENBQUMsR0FBQ1csQ0FBQyxDQUFDWCxDQUFELENBQUYsSUFBT0UsQ0FBQyxHQUFDVSxDQUFDLENBQUM0QixXQUFGLENBQWN0QyxDQUFkLENBQUYsRUFBbUJFLENBQUMsQ0FBQ0YsQ0FBRCxDQUEzQixDQUFEO0FBQWlDLEtBQXJFO0FBQXVFLEdBQWpHLENBQVA7QUFBMEcsQ0FBN25DLEVBQThuQ1UsQ0FBQyxDQUFDQyxTQUFGLENBQVkyQixXQUFaLEdBQXdCLFVBQVN4QyxDQUFULEVBQVc7QUFBQyxNQUFJRSxDQUFDLEdBQUMyQixFQUFFLENBQUNXLFdBQUgsQ0FBZXhDLENBQWYsQ0FBTjtBQUF3QixTQUFPLEtBQUtpQyxjQUFMLENBQW9CakMsQ0FBcEIsRUFBc0JFLENBQXRCLEVBQXdCLENBQUMsQ0FBekIsR0FBNEJBLENBQW5DO0FBQXFDLENBQS90QyxFQUFndUNVLENBQUMsQ0FBQ0MsU0FBRixDQUFZNEIsZUFBWixHQUE0QixVQUFTekMsQ0FBVCxFQUFXMkIsQ0FBWCxFQUFhZSxDQUFiLEVBQWU7QUFBQyxNQUFJQyxDQUFDLEdBQUMsSUFBTjtBQUFXLFNBQU8sSUFBSWYsT0FBSixDQUFZLFVBQVNqQixDQUFULEVBQVdDLENBQVgsRUFBYTtBQUFDK0IsSUFBQUEsQ0FBQyxDQUFDN0IsT0FBRixDQUFVZCxDQUFWLEVBQVk0QyxXQUFXLENBQUNDLGdCQUF4QixFQUF5QyxVQUFTN0MsQ0FBVCxFQUFXRSxDQUFYLEVBQWE7QUFBQyxVQUFJRSxDQUFKO0FBQU1KLE1BQUFBLENBQUMsR0FBQ1ksQ0FBQyxFQUFGLElBQU1SLENBQUMsR0FBQ0YsQ0FBRixFQUFJd0MsQ0FBQyxJQUFFYixFQUFFLENBQUNHLE9BQUgsQ0FBV1UsQ0FBWCxDQUFILEtBQW1CQyxDQUFDLENBQUNWLGNBQUYsQ0FBaUIvQixDQUFqQixFQUFtQndDLENBQW5CLEVBQXFCLENBQUMsQ0FBdEIsR0FBeUJDLENBQUMsQ0FBQzdCLE9BQUYsQ0FBVWEsQ0FBVixFQUFZaUIsV0FBVyxDQUFDRSxxQkFBeEIsRUFBOEMsVUFBUzlDLENBQVQsRUFBV0UsQ0FBWCxFQUFhO0FBQUNGLFFBQUFBLENBQUMsR0FBQ1ksQ0FBQyxFQUFGLElBQU0rQixDQUFDLENBQUNWLGNBQUYsQ0FBaUIvQixDQUFqQixFQUFtQndDLENBQW5CLEVBQXFCLENBQUMsQ0FBdEIsR0FBeUIvQixDQUFDLENBQUM7QUFBQ29DLFVBQUFBLEtBQUssRUFBQzNDLENBQVA7QUFBUzRDLFVBQUFBLFVBQVUsRUFBQzlDO0FBQXBCLFNBQUQsQ0FBaEMsQ0FBRDtBQUEyRCxPQUF2SCxDQUE1QyxDQUFWLENBQUQ7QUFBa0wsS0FBL087QUFBaVAsR0FBM1EsQ0FBUDtBQUFvUixDQUEzaUQsRUFBNGlEVSxDQUFDLENBQUNDLFNBQUYsQ0FBWW9DLHFCQUFaLEdBQWtDLFVBQVNqRCxDQUFULEVBQVdXLENBQVgsRUFBYUMsQ0FBYixFQUFlZSxDQUFmLEVBQWlCO0FBQUMsTUFBSWUsQ0FBSjtBQUFBLE1BQU1DLENBQUMsR0FBQ2hDLENBQUMsQ0FBQ3VDLFlBQUYsQ0FBZU4sV0FBVyxDQUFDTyxlQUEzQixDQUFSO0FBQW9EUixFQUFBQSxDQUFDLEtBQUdELENBQUMsR0FBQyxJQUFGLEVBQU9oQyxDQUFDLENBQUNRLFdBQUYsQ0FBY2tDLFVBQWQsQ0FBeUJwRCxDQUF6QixFQUEyQixVQUFTQSxDQUFULEVBQVdFLENBQVgsRUFBYTtBQUFDLFFBQUcsRUFBRUYsQ0FBQyxJQUFFRSxDQUFDLENBQUNtRCxNQUFGLElBQVUsQ0FBZixDQUFILEVBQXFCO0FBQUMsV0FBSSxJQUFJakQsQ0FBUixJQUFhdUMsQ0FBQyxDQUFDVyxXQUFGLEdBQWMsSUFBZCxFQUFtQlgsQ0FBQyxDQUFDWSxnQkFBRixHQUFtQixJQUF0QyxFQUEyQ3JELENBQXhEO0FBQTBEQSxRQUFBQSxDQUFDLENBQUNFLENBQUQsQ0FBRCxZQUFld0MsV0FBVyxDQUFDQyxnQkFBM0IsS0FBOENGLENBQUMsQ0FBQ1csV0FBRixHQUFjcEQsQ0FBQyxDQUFDRSxDQUFELENBQWYsRUFBbUJzQyxDQUFDLENBQUNULGNBQUYsQ0FBaUIvQixDQUFDLENBQUNFLENBQUQsQ0FBbEIsRUFBc0JPLENBQXRCLEVBQXdCLENBQUMsQ0FBekIsQ0FBakUsR0FBOEZULENBQUMsQ0FBQ0UsQ0FBRCxDQUFELFlBQWV3QyxXQUFXLENBQUNFLHFCQUEzQixLQUFtREgsQ0FBQyxDQUFDWSxnQkFBRixHQUFtQnJELENBQUMsQ0FBQ0UsQ0FBRCxDQUFwQixFQUF3QnNDLENBQUMsQ0FBQ1QsY0FBRixDQUFpQi9CLENBQUMsQ0FBQ0UsQ0FBRCxDQUFsQixFQUFzQk8sQ0FBdEIsRUFBd0IsQ0FBQyxDQUF6QixDQUEzRSxDQUE5RjtBQUExRDs7QUFBZ1FnQyxNQUFBQSxDQUFDLENBQUNhLFlBQUYsR0FBZSxVQUFmLEVBQTBCNUMsQ0FBQyxLQUFHK0IsQ0FBQyxDQUFDYyxhQUFGLENBQWdCZCxDQUFDLENBQUNlLGlCQUFGLENBQW9CZixDQUFDLENBQUNnQixnQkFBRixHQUFxQixDQUFyQixDQUFwQixFQUE2QyxDQUE3QyxDQUFoQixFQUFnRSxDQUFDLENBQWpFLEdBQW9FaEIsQ0FBQyxDQUFDaUIsU0FBRixHQUFZLENBQW5GLENBQTNCLEVBQWlIakMsQ0FBQyxJQUFFQSxDQUFDLEVBQXJIO0FBQXdIO0FBQUMsR0FBeGIsQ0FBVixDQUFEO0FBQXNjLENBQTFsRSxFQUEybEVmLENBQUMsQ0FBQ0MsU0FBRixDQUFZb0IsY0FBWixHQUEyQixVQUFTakMsQ0FBVCxFQUFXRSxDQUFYLEVBQWFFLENBQWIsRUFBZTtBQUFDQSxFQUFBQSxDQUFDLEdBQUNPLENBQUMsQ0FBQ2tELE9BQUYsQ0FBVUMsWUFBVixDQUF1QjVELENBQXZCLEVBQXlCRSxDQUF6QixDQUFGO0FBQThCLFNBQU9KLENBQUMsSUFBRUksQ0FBSCxJQUFNQSxDQUFDLENBQUMyRCxjQUFGLENBQWlCO0FBQUNoQixJQUFBQSxLQUFLLEVBQUMvQztBQUFQLEdBQWpCLEdBQTRCQSxDQUFsQyxJQUFxQyxJQUE1QztBQUFpRCxDQUFydEUsRUFBc3RFWSxDQUFDLENBQUNDLFNBQUYsQ0FBWW1ELFVBQVosR0FBdUIsWUFBVTtBQUFDLFNBQU0sYUFBVyxLQUFLQyxXQUFMLEVBQWpCO0FBQW9DLENBQTV4RSxFQUE2eEVyRCxDQUEveEUsQ0FBdkM7O0FBQXkwRSxTQUFTQSxDQUFULEdBQVk7QUFBQyxPQUFLcUQsV0FBTCxHQUFpQixDQUFqQjtBQUFtQjs7QUFBQTdELENBQUMsQ0FBQ0ssYUFBRixHQUFnQixJQUFJVCxDQUFKLEVBQWhCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT1yZXF1aXJlO1xudmFyIHQ9bW9kdWxlO1xudmFyIG89ZXhwb3J0cztcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uTG9hZGVyQWRhcHRlcj12b2lkIDA7dmFyIGM9ZShcIkFzc2V0TG9hZGVyXCIpLG49ZShcIlJlc1V0aWxcIiksZT0oaS5wcm90b3R5cGUubG9hZFJlcz1mdW5jdGlvbigpe3ZhciBlPWMuZGVmYXVsdC5tYWtlTG9hZFJlc0FyZ3MuYXBwbHkodGhpcyxhcmd1bWVudHMpO2MuYXNzZXRMb2FkZXIubG9hZFJlcyhlLnVybCxlLnR5cGUsZS5vblByb2dlc3MsZS5vbkNvbXBsZXRlZCxlLmJ1bmRsZSl9LGkucHJvdG90eXBlLnByZWxvYWRSZXM9ZnVuY3Rpb24oKXt2YXIgZT1jLmRlZmF1bHQubWFrZUxvYWRSZXNBcmdzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjLmFzc2V0TG9hZGVyLnByZWxvYWRSZXMoZS51cmwsZS50eXBlLGUub25Qcm9nZXNzLGUub25Db21wbGV0ZWQsZS5idW5kbGUpfSxpLnByb3RvdHlwZS5yZWxlYXNlQXNzZXQ9ZnVuY3Rpb24oZSl7Yy5hc3NldExvYWRlci5yZWxlYXNlQXNzZXQoZSl9LGkucHJvdG90eXBlLmxvYWRTcHJpdGVBc3luYz1mdW5jdGlvbihlLGkpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG8sbil7YS5sb2FkUmVzKGUsY2MuU3ByaXRlRnJhbWUsZnVuY3Rpb24oZSx0KXtlP24oZSk6KChlPXQpaW5zdGFuY2VvZiBjYy5UZXh0dXJlMkQmJihlPW5ldyBjYy5TcHJpdGVGcmFtZSh0KSksaSYmY2MuaXNWYWxpZChpKSYmYS5zZXRBdXRvUmVsZWFzZShlLGksITApLG8oZSkpfSl9KX0saS5wcm90b3R5cGUubG9hZFNwaW5lPWZ1bmN0aW9uKGUsaSl7dmFyIGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obyxuKXthLmxvYWRSZXMoZSxzcC5Ta2VsZXRvbkRhdGEsZnVuY3Rpb24oZSx0KXtlP24oZSk6KHQ9dCxpJiZjYy5pc1ZhbGlkKGkpJiZhLnNldEF1dG9SZWxlYXNlKHQsaSwhMCksbyh0KSl9KX0pfSxpLnByb3RvdHlwZS5sb2FkU3ByaXRlQWx0YXNBc3luYz1mdW5jdGlvbihlLGkpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG8sbil7YS5sb2FkUmVzKGUsZnVuY3Rpb24oZSx0KXtlP24oZSk6KGkmJmNjLmlzVmFsaWQoaSkmJmEuc2V0QXV0b1JlbGVhc2UodCxpKSxvKHQpKX0pfSl9LGkucHJvdG90eXBlLmxvYWRQcmVmYWI9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obyxuKXtpLmxvYWRSZXMoZSxjYy5QcmVmYWIsZnVuY3Rpb24oZSx0KXtlP24oZSk6KHQ9aS5pbnN0YW50aWF0ZSh0KSxvKHQpKX0pfSl9LGkucHJvdG90eXBlLmluc3RhbnRpYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWNjLmluc3RhbnRpYXRlKGUpO3JldHVybiB0aGlzLnNldEF1dG9SZWxlYXNlKGUsdCwhMCksdH0saS5wcm90b3R5cGUubG9hZERyYWdvbkJvbmVzPWZ1bmN0aW9uKGUsYSxyKXt2YXIgcz10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLGkpe3MubG9hZFJlcyhlLGRyYWdvbkJvbmVzLkRyYWdvbkJvbmVzQXNzZXQsZnVuY3Rpb24oZSx0KXt2YXIgbztlP2koKToobz10LHImJmNjLmlzVmFsaWQocikmJihzLnNldEF1dG9SZWxlYXNlKHQsciwhMCkscy5sb2FkUmVzKGEsZHJhZ29uQm9uZXMuRHJhZ29uQm9uZXNBdGxhc0Fzc2V0LGZ1bmN0aW9uKGUsdCl7ZT9pKCk6KHMuc2V0QXV0b1JlbGVhc2UodCxyLCEwKSxuKHthc3NldDpvLGF0bGFzQXNzZXQ6dH0pKX0pKSl9KX0pfSxpLnByb3RvdHlwZS5sb2FkRHJhZ29uQm9uZXNCeVBhdGg9ZnVuY3Rpb24oZSxuLGksYSl7dmFyIHIscz1uLmdldENvbXBvbmVudChkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpO3MmJihyPXRoaXMsYy5hc3NldExvYWRlci5sb2FkUmVzRGlyKGUsZnVuY3Rpb24oZSx0KXtpZighKGV8fHQubGVuZ3RoPD0wKSl7Zm9yKHZhciBvIGluIHMuZHJhZ29uQXNzZXQ9bnVsbCxzLmRyYWdvbkF0bGFzQXNzZXQ9bnVsbCx0KXRbb11pbnN0YW5jZW9mIGRyYWdvbkJvbmVzLkRyYWdvbkJvbmVzQXNzZXQmJihzLmRyYWdvbkFzc2V0PXRbb10sci5zZXRBdXRvUmVsZWFzZSh0W29dLG4sITApKSx0W29daW5zdGFuY2VvZiBkcmFnb25Cb25lcy5EcmFnb25Cb25lc0F0bGFzQXNzZXQmJihzLmRyYWdvbkF0bGFzQXNzZXQ9dFtvXSxyLnNldEF1dG9SZWxlYXNlKHRbb10sbiwhMCkpO3MuYXJtYXR1cmVOYW1lPVwiQXJtYXR1cmVcIixpJiYocy5wbGF5QW5pbWF0aW9uKHMuZ2V0QW5pbWF0aW9uTmFtZXMocy5nZXRBcm1hdHVyZU5hbWVzKClbMF0pWzBdLC0xKSxzLnRpbWVTY2FsZT0xKSxhJiZhKCl9fSkpfSxpLnByb3RvdHlwZS5zZXRBdXRvUmVsZWFzZT1mdW5jdGlvbihlLHQsbyl7bz1uLlJlc1V0aWwuZ2V0UmVzS2VlcGVyKHQsbyk7cmV0dXJuIGUmJm8/KG8uYXV0b1JlbGVhc2VSZXMoe2Fzc2V0OmV9KSxlKTpudWxsfSxpLnByb3RvdHlwZS5tYWtlVXNlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuXCJAdXNlS2V5X1wiK3RoaXMuZ2xvYmFsVXNlSWQrK30saSk7ZnVuY3Rpb24gaSgpe3RoaXMuZ2xvYmFsVXNlSWQ9MH1vLkxvYWRlckFkYXB0ZXI9bmV3IGUiXX0=