{"version":3,"sources":["assets\\scripts\\AISummoned.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","p","d","cc","_decorator","ccclass","property","u","initState","ower","_AiParameter","AiParameter","moveSpeed","AttackRange","attackRange","statesList","StateType","Idle","IdleState","Move","y","Attack","g","_isActive","setAIState","update","GScene","isPause","currentStateClr","OnUpdate","apply","_time","f","h","m","v2","MoveState","v","_myTarget","target","_life","MapClr","monsterList","_owerID","_manager","node","letV2","set","position","x","mySkeleton","scaleX","Vec2","subtract","normalize","multiplyScalar","add","setPosition","getDistanceSqrt","Math","pow","getZIndex","AttackState","_","OnEnter","setAnimation","_curAttackDelta","_target","attackDelta","_attackDur","animation","duration","_attackTimes","newEffects","emit","ListenID","Send_Hurt","HurtData","attackNum","type","OnExit"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e = require;\nvar t = module;\nvar o = exports;\n\"use strict\";\nvar n, i = this && this.__extends || (n = function(e, t) {\n        return (n = Object.setPrototypeOf || { __proto__: [] }\n            instanceof Array && function(e, t) { e.__proto__ = t } || function(e, t) { for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]) })(e, t)\n    }, function(e, t) {\n        function o() { this.constructor = e }\n        n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o)\n    }),\n    a = this && this.__decorate || function(e, t, o, n) {\n        var i, a = arguments.length,\n            r = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;\n        if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, n);\n        else\n            for (var s = e.length - 1; 0 <= s; s--)(i = e[s]) && (r = (a < 3 ? i(r) : 3 < a ? i(t, o, r) : i(t, o)) || r);\n        return 3 < a && r && Object.defineProperty(t, o, r), r\n    };\nObject.defineProperty(o, \"__esModule\", { value: !0 });\nvar r, s = e(\"AppCommon\"),\n    c = e(\"ListenID\"),\n    l = e(\"ElementBase\"),\n    p = e(\"AIState\"),\n    d = e(\"FSMBase\"),\n    t = cc._decorator,\n    e = t.ccclass,\n    e = (t.property, r = d.default, i(u, r), u.prototype.initState = function(e) {\n        this.ower = e;\n        e = this.ower;\n        this._AiParameter = new p.AiParameter, this._AiParameter.moveSpeed = e.moveSpeed, this._AiParameter.AttackRange = e.attackRange, this.statesList[p.StateType.Idle] = new p.IdleState(this), this.statesList[p.StateType.Move] = new y(this), this.statesList[p.StateType.Attack] = new g(this), this._isActive = !0, this.setAIState(p.StateType.Idle)\n    }, u.prototype.update = function(e) { s.default.GScene.isPause || this._isActive && this.ower._isActive && this.currentStateClr.OnUpdate(e) }, a([e], u));\n\nfunction u() { var e = null !== r && r.apply(this, arguments) || this; return e._time = 0, e }\no.default = e;\nvar f, h, m = cc.v2(),\n    y = (h = p.MoveState, i(v, h), v.prototype.OnUpdate = function(e) {\n        var t, o = this._myTarget;\n        if (!o.target || o.target._life <= 0)\n            for (var n in s.default.MapClr.monsterList) { n = s.default.MapClr.monsterList[n]; if (n && 0 < n._life && n._owerID != this._manager.ower._owerID) { o.target = n; break } }\n        o.target && o.target.node && (this.letV2.set(o.target.node.position), t = this._manager.node.position, this.letV2.x > o.node.x ? o.mySkeleton.node.scaleX = -1 : o.mySkeleton.node.scaleX = 1, cc.Vec2.subtract(m, this.letV2, t), cc.Vec2.normalize(m, m), cc.Vec2.multiplyScalar(m, m, this._AiParameter.moveSpeed * e), cc.Vec2.add(m, m, t), this._manager.node.setPosition(m), s.default.getDistanceSqrt(this.letV2, m) <= Math.pow(this._AiParameter.AttackRange, 2) && this._manager.setAIState(p.StateType.Attack), o.getZIndex())\n    }, v),\n    g = (f = p.AttackState, i(_, f), _.prototype.OnEnter = function() { this._myTarget.setAnimation(\"idle\", !0), this._curAttackDelta <= 0 && (this._curAttackDelta = this._target.attackDelta), this._attackDur = 0 }, _.prototype.OnUpdate = function(e) {\n        if (!this._target.target || this._target.target._life <= 0) this._manager.setAIState(p.StateType.Move);\n        else {\n            var t;\n            if (this._target.target.node.x > this._target.node.x ? this._target.mySkeleton.node.scaleX = -1 : this._target.mySkeleton.node.scaleX = 1, 0 <= this._curAttackDelta)\n                if (this._curAttackDelta -= e, this._curAttackDelta < 0 && (t = this._myTarget.setAnimation(\"attack\", !1), this._attackDur = t ? t.animation.duration : .2, this._attackTimes = this._attackDur - .2), s.default.getDistanceSqrt(this._target.target.node.position, this._target.node.position) > Math.pow(this._AiParameter.AttackRange, 2)) return void this._manager.setAIState(p.StateType.Move);\n            0 < this._attackDur && (this._attackDur -= e, this._attackTimes -= e, this._attackTimes <= 0 && (s.default.MapClr.newEffects(this._target.target.node.position, \"attack\"), this._target.target.node.emit(c.ListenID.Send_Hurt, new l.HurtData(-this._target.attackNum, this._myTarget._owerID, this._target.type)), this._attackTimes = this._attackDur + 1), this._attackDur <= 0 && (s.default.getDistanceSqrt(this._target.target.node.position, this._target.node.position) > Math.pow(this._AiParameter.AttackRange, 2) ? this._manager.setAIState(p.StateType.Move) : (this._curAttackDelta = this._target.attackDelta, this._myTarget.setAnimation(\"idle\", !0))))\n        }\n    }, _.prototype.OnExit = function() {}, _);\n\nfunction _() { var e = null !== f && f.apply(this, arguments) || this; return e._curAttackDelta = 0, e._target = e._myTarget, e._attackDur = 0, e._attackTimes = 0, e }\n\nfunction v() { return null !== h && h.apply(this, arguments) || this }"]}