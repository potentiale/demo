{"version":3,"sources":["assets\\scripts\\TTGame.js"],"names":["e","require","t","module","o","exports","Object","defineProperty","value","i","n","a","r","window","wx","s","c","init","console","log","ADID","ks","getGameRecorderManager","getGameRecorder","recorder","RTime","isROpen","data","ttRecorderTime","gettimestamp","ShareVideoUrl","shopCallBack","gameIsOpen","recorderStart","clipVideo","path","videoPath","timeRange","success","fail","error","PF","GAMEPF","TT","onStart","onStop","onError","onInterruptionBegin","onInterruptionEnd","KS","on","videoID","createRewardedVideoAd","minVideo","videoAd","adUnitId","load","then","onClose","isEnded","onVideoSuccess","onShowClose","onLoadError","onShareAppMessage","channel","title","imageUrl","extra","withVideoId","warn","query","templateId","start","duration","recorderStop","stop","KS_ShareVideoUrl","publishVideo","video","callback","onShareSuccess","JSON","stringify","CCTool","UI","ShowToast","shareAppMessage","GetArrTarge","desc","videoTopics","errMsg","indexOf","msg","GetScreenshot","texScreenshot","MainView","scheduleOnce","cc","resources","Prefab","instantiate","listeners"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0});var i=e(\"AppCommon\"),n=e(\"CCTool\"),a=e(\"BaseSdk\"),r=window.wx,s=window.wx,e=(c.init=function(){var e,t,o,n=this;if(console.log(\"[TTGame][init]\",i.default.ADID),!(s=window.ks?window.ks:s))return console.log(\"缺少tt方法\");s.getGameRecorderManager||s.getGameRecorder?(console.log(\"录屏工具初始化\"),this.recorder=s.getGameRecorderManager?s.getGameRecorderManager():s.getGameRecorder(),this.RTime=0,e=function(){console.log(\"录屏开始\"),n.isROpen=!0,i.default.data.ttRecorderTime=i.default.gettimestamp()},t=function(t){n.isROpen=!1;function o(e){i.default.data.ShareVideoUrl=e,console.log(\"录屏结束\",i.default.data.ShareVideoUrl),n.RTime=i.default.gettimestamp()-i.default.data.ttRecorderTime,n.shopCallBack&&n.shopCallBack(),i.default.data.gameIsOpen&&!i.default.data.ShareVideoUrl&&n.recorderStart()}n.recorder.clipVideo&&n.recorder.clipVideo({path:t.videoPath,timeRange:[15,0],success:function(e){console.log(e.videoPath),o(e.videoPath)},fail:function(e){console.error(\"剪辑失败\",e),o(t.videoPath)}})},o=function(e){console.log(\"录屏错误\",e),i.default.data.gameIsOpen&&n.recorderStart()},i.default.PF==a.GAMEPF.TT?(this.recorder.onStart(function(){e()}),this.recorder.onStop(function(e){t(e)}),this.recorder.onError(function(e){o(e)}),this.recorder.onInterruptionBegin(function(e){console.log(\"监听录屏中断开始\",e),i.default.data.gameIsOpen&&n.recorderStart()}),this.recorder.onInterruptionEnd(function(e){console.log(\"监听录屏中断结束\",e)})):i.default.PF==a.GAMEPF.KS&&(this.recorder.on(\"start\",function(){e()}),this.recorder.on(\"error\",function(e){o(e)}),this.recorder.on(\"stop\",function(e){n.isROpen=!1,e&&(i.default.data.ShareVideoUrl=e.videoID),n.RTime=i.default.gettimestamp()-i.default.data.ttRecorderTime,n.shopCallBack&&n.shopCallBack(),e&&e.videoID?console.log(\"录屏停止，录制成功videoID is \"+e.videoID):console.log(\"录屏停止，录制失败\")}),this.recorder.on(\"pause\",function(){console.log(\"暂停录制\")}),this.recorder.on(\"resume\",function(){console.log(\"继续录制\")}),this.recorder.on(\"abort\",function(){console.log(\"废弃已录制视频\")}))):console.log(\"缺少tt.getGameRecorderManager||getGameRecorder方法\"),r.createRewardedVideoAd&&(console.log(\"加载激励视频\",i.default.ADID.minVideo),window.videoAd=r.createRewardedVideoAd({adUnitId:i.default.ADID.minVideo}),window.videoAd.load().then(function(){console.log(\"加载视频成功\"),window.videoAd.onClose(function(e){console.log(\"关闭视频\",e),e&&e.isEnded||void 0===e?(console.log(\"正常播放结束\"),window.onVideoSuccess&&window.onVideoSuccess()):(console.log(\"播放中途退出\"),window.onShowClose&&window.onShowClose(!1))})}).catch(function(e){console.log(\"1视频加载出错了\"),console.log(e),window.onLoadError&&window.onLoadError(!1)}),window.videoAd.onError(function(e){console.log(e,\"2视频加载出错了\"),window.onLoadError&&window.onLoadError(!1)})),s.onShareAppMessage&&s.onShareAppMessage(function(e){return e&&\"video\"==e.channel?{channel:\"video\",title:\"躺平摸鱼\",imageUrl:\"\",extra:{withVideoId:!0},success:function(e){console.warn(\"分享成功\",e)},fail:function(e){console.warn(\"分享失败\",e)}}:{title:\"躺平摸鱼\",query:\"k1=v1&k2=v2\",templateId:\"197qw8tn9q78m9qe7o\",success:function(){console.log(\"分享成功\")},fail:function(e){console.log(\"分享失败\",e)}}})},c.recorderStart=function(){return console.log(\"[recorderStart]\"),this.isROpen?console.log(\"已开启录屏\"):s?this.recorder?void(this.recorder&&this.recorder.start({duration:300})):console.log(\"缺少recorder\"):console.log(\"非tt环境\")},c.recorderStop=function(e){return console.log(\"[recorderStop]\"),s?this.recorder?i.default.gettimestamp()-i.default.data.ttRecorderTime<3?void console.log(\"录屏时间过短 , 不能停止\"):(this.recorder&&this.recorder.stop(),this.shopCallBack=e,!0):console.log(\"缺少recorder\"):console.log(\"非tt环境\")},c.KS_ShareVideoUrl=function(t){if(!this.recorder)return console.log(\"[KS_ShareVideoUrl]缺少[recorder]\");this.recorder.publishVideo({video:i.default.data.ShareVideoUrl,callback:function(e){null==e?(console.log(\"分享录屏成功\"),t.onShareSuccess&&t.onShareSuccess()):console.log(\"分享录屏失败: \"+JSON.stringify(e))}})},c.ShareVideoUrl=function(e,t){return void 0===t&&(t=\"video\"),console.log(\"ShareVideoUrl时间\",this.RTime,i.default.data.ShareVideoUrl),\"video\"==t&&!i.default.data.ShareVideoUrl&&this.RTime<3?(console.log(\"录屏时间过短，无法分享\"),void n.CCTool.UI.ShowToast(\"录屏时间过短，无法分享\")):i.default.PF==a.GAMEPF.KS?this.KS_ShareVideoUrl(e):void(s&&s.shareAppMessage?s.shareAppMessage({title:i.default.GetArrTarge([\"躺平摸鱼！\"]),desc:\"这游戏太难了，没人能超过300分！\",channel:t,extra:{videoPath:i.default.data.ShareVideoUrl,videoTopics:[\"上班摸鱼之王\"]},success:function(){console.log(\"分享成功\"),\"video\"==t&&n.CCTool.UI.ShowToast(\"视频分享成功\"),e.onShareSuccess&&e.onShareSuccess()},fail:function(e){console.log(\"分享失败\",e),0<=e.errMsg.indexOf(\"too short\")&&\"video\"==t&&n.CCTool.UI.ShowToast({msg:\"录屏时间过短，无法分享\"})}}):e.onShareSuccess&&e.onShareSuccess())},c.GetScreenshot=function(e,t){if(i.default.PF!=a.GAMEPF.TT)return t();this.recorderStop(),this.texScreenshot||n.CCTool.UI.GetScreenshot(),this.texScreenshot=null,i.default.MainView.scheduleOnce(function(){return i.default.data.ShareVideoUrl?void cc.resources.load(\"prefab/pop/pop_ScreenshotShare\",cc.Prefab,function(e,t){cc.instantiate(t)}):t()},.5)},c.listeners={},c.isROpen=!1,c);function c(){}o.default=e"]}