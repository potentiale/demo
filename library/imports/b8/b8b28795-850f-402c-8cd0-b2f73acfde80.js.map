{"version":3,"sources":["assets\\scripts\\pop_SkinPanel.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","p","d","u","f","h","m","y","g","_","cc","_decorator","ccclass","property","v","onEnable","Notifier","changeListener","ListenID","Skin_SelectSkinTypeId","onSelectSkinType","Skin_SelectSkinId","onSelectSkin","onDisable","getList","Cfg","RoleMan","getAll","UserVo","getSkin","id","roleList","push","sort","sequence","ghostList","RoleGhost","filter","selectPageIndex","selectIndex","SkinCtrl","selectTypeId","SkinType","HAT","selectSkinId","data","useSkinData","useHat","SkinDefine","RoleDefaultHat","loadRoleInfo","loadTypeList","loadSkinList","getSelectSkinIndex","useSkin","useBossSkin","get","selectItem","roleSkeleton","setAnimation","node","scale","updateRoleSkin","RoleSkinType","ROLE","BOSS","setRoleClothes","useClothes","setRoleHead","setRoleHat","setRoleWing","useWing","gridBigView","loadData","BigList","roleSkinDataCfg","bossSkinDataCfg","gridView","TypeToName","doFresh","setPoint","nodeArr","children","active","instantiate","setParent","opacity","wearSkin","onButton","CCTool","Audio","Player","close","PlatformFun","loadRewardedVideoAd","onVideoSuccess","loadSuccess","Number","name","substring","sp","Skeleton","Node","apply","colormask","initFun","pop_SkinPanel","PF","GAMEPF","ADR_XM","showBannerAd","tween","to","delay","repeat","union","repeatForever","start","SendEvent"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(r=(a<3?i(r):3<a?i(t,o,r):i(t,o))||r);return 3<a&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,\"__esModule\",{value:!0});var r,s=e(\"AppCommon\"),c=e(\"CCTool\"),l=e(\"BaseSdk\"),p=e(\"PlatformFun\"),d=e(\"UserVo\"),u=e(\"GridView\"),f=e(\"ListenID\"),h=e(\"Notifier\"),m=e(\"Cfg\"),y=e(\"SkinCfg\"),g=e(\"pop\"),_=e(\"SkinCtrl\"),t=cc._decorator,e=t.ccclass,t=t.property,e=(r=g.default,i(v,r),v.prototype.onEnable=function(){h.Notifier.changeListener(!0,f.ListenID.Skin_SelectSkinTypeId,this.onSelectSkinType,this),h.Notifier.changeListener(!0,f.ListenID.Skin_SelectSkinId,this.onSelectSkin,this)},v.prototype.onDisable=function(){h.Notifier.changeListener(!1,f.ListenID.Skin_SelectSkinTypeId,this.onSelectSkinType,this),h.Notifier.changeListener(!1,f.ListenID.Skin_SelectSkinId,this.onSelectSkin,this)},v.prototype.getList=function(){var e,t=m.Cfg.RoleMan.getAll();for(e in t)d.UserVo.getSkin(t[e].id)&&this.roleList.push(t[e]);this.roleList.sort(function(e,t){return e.sequence-t.sequence}),this.ghostList.length=0;for(var o=m.Cfg.RoleGhost.filter({}),n=(e=0,o.length);e<n;e++)d.UserVo.getSkin(o[e].id)&&this.ghostList.push(o[e]);this.ghostList.sort(function(e,t){return e.sequence-t.sequence}),this.selectPageIndex=1,this.selectIndex=0,s.default.SkinCtrl.selectTypeId=_.SkinType.HAT,s.default.SkinCtrl.selectSkinId=d.UserVo.data.useSkinData[0].useHat||y.SkinDefine.RoleDefaultHat,this.loadRoleInfo(this.selectIndex),this.loadTypeList(),this.loadSkinList()},v.prototype.getSelectSkinIndex=function(e){for(var t=1==e?this.roleList:this.ghostList,o=1==e?d.UserVo.useSkin:d.UserVo.useBossSkin,n=0,i=0,a=t.length;i<a;i++)if(t[i].id==o){n=i;break}return n},v.prototype.loadRoleInfo=function(){var e=1===this.selectPageIndex?m.Cfg.RoleMan.get(d.UserVo.useSkin):m.Cfg.RoleGhost.get(d.UserVo.useBossSkin);this.selectItem=e,this.roleSkeleton.setAnimation(0,\"idle\",!0),this.roleSkeleton.node.scale=1===this.selectPageIndex?2:1,this.updateRoleSkin()},v.prototype.updateRoleSkin=function(){var e=1===this.selectPageIndex?_.RoleSkinType.ROLE:_.RoleSkinType.BOSS,t=1==this.selectPageIndex?0:1,t=d.UserVo.data.useSkinData[t];s.default.SkinCtrl.setRoleClothes(e,this.roleSkeleton,this.selectItem.id,t.useClothes),s.default.SkinCtrl.setRoleHead(e,this.roleSkeleton,this.selectItem.id),s.default.SkinCtrl.setRoleHat(e,this.roleSkeleton,t.useHat),s.default.SkinCtrl.setRoleWing(e,this.roleSkeleton,t.useWing)},v.prototype.loadTypeList=function(){this.gridBigView.loadData(s.default.SkinCtrl.BigList)},v.prototype.loadSkinList=function(){var e=(1==this.selectPageIndex?s.default.SkinCtrl.roleSkinDataCfg:s.default.SkinCtrl.bossSkinDataCfg)[s.default.SkinCtrl.selectTypeId];this.gridView.loadData(e)},v.prototype.onSelectSkinType=function(e){s.default.SkinCtrl.selectTypeId=e;var t=1==this.selectPageIndex?0:1,t=d.UserVo.data.useSkinData[t],e=_.TypeToName[e];s.default.SkinCtrl.selectSkinId=t[e],this.gridBigView.doFresh(),this.loadSkinList()},v.prototype.setPoint=function(){var e,t=this.nodeArr[3].children;for(e in t)t[e].active=!1;for(e in 1===this.selectPageIndex?this.roleList:this.ghostList){var o=t[e];o||(o=cc.instantiate(t[0])).setParent(this.nodeArr[3]),o.opacity=this.selectIndex==+e?200:100,o.active=!0}},v.prototype.onSelectSkin=function(e){s.default.SkinCtrl.selectSkinId=e,s.default.SkinCtrl.wearSkin(e),this.loadSkinList(),this.updateRoleSkin()},v.prototype.onButton=function(e,t){var o=this;switch(e&&c.CCTool.Audio.Player(\"Click\"),t){case\"Close\":this.close();break;case\"Prev\":this.loadRoleInfo(this.selectIndex-1);break;case\"Next\":this.loadRoleInfo(this.selectIndex+1);break;case\"Unlock\":p.PlatformFun.loadRewardedVideoAd({onVideoSuccess:function(){o.loadRoleInfo(o.selectIndex)},loadSuccess:function(){}});break;case\"Toggle\":var n=Number(e.node.name.substring(6));this.selectPageIndex=n,this.loadRoleInfo(0)}},a([t(sp.Skeleton)],v.prototype,\"roleSkeleton\",void 0),a([t(u.default)],v.prototype,\"gridView\",void 0),a([t(u.default)],v.prototype,\"gridBigView\",void 0),a([t(cc.Node)],v.prototype,\"colormask\",void 0),a([e],v));function v(){var t=null!==r&&r.apply(this,arguments)||this;return t.roleSkeleton=null,t.gridView=null,t.gridBigView=null,t.colormask=null,t.selectIndex=0,t.selectPageIndex=0,t.roleList=[],t.ghostList=[],t.initFun={pop_SkinPanel:function(){t.getList(),s.default.PF==l.GAMEPF.ADR_XM&&p.PlatformFun.showBannerAd(),t.colormask.opacity=0;var e=cc.tween().to(.05,{opacity:50}).to(.1,{opacity:0});cc.tween(t.colormask).delay(3).repeat(3,e).union().repeatForever().start(),p.PlatformFun.SendEvent(\"skin_icon_click\")}},t}o.default=e"]}