{"version":3,"sources":["assets\\scripts\\Model_1.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","Model_1","a","r","s","c","l","p","d","u","f","h","m","y","ModelBase","g","Matching","CCTool","UI","OpenPop","MapClr","node","active","LoadMap","GScene","newWallColl","myMap","getObjectGroup","getObjects","newBed","getPathfindingMap","newDoor","LoadRole","NewRobberycat","setPhysics","length","_pos","getTMapPosition","offset","addSelf","cc","v2","tileSize","width","name","newMonster","myFSM","addComponent","DialogueList","MonsterDialogueList","initState","NewBossHongBaoEvent","push","MatchRoleData","newPlayer","setPlayerCamp","isPlayer","LoadMapEnd","myAIBuild","loadEndCall","setGameStart","GAME_STATE","ReadyAm","Audio","Player","Tween","stopAllByTarget","GameCamera","zoomRatio","position","scheduleOnce","_GameState","tween","to","start","player","CountDown","setPause","MainView","GamePage","Settlement","monsterList","toCountDown","setCountDown","setPlayerStart","PLAYER_STATE","Move","on","ListenID","Monster_State","GameWin","Role_State","roleID","myDoor","_isActive","attribute","data","atk","_life","CDManage","Check","Set","roleList","GameEnd","GameStart","gameMsg","getCoin","Math","min","floor","gettimestamp","_initTime","Win","End","OnUpdate","GetArrTarge","newNPC","id","getPoint","height","type","target","currentState","StateType","Attack","Node","EventType","TOUCH_START","log","unschedule","TOUCH_END","apply","arguments","GAME_MODEL","TANG_PING","mapPath","mendDoor","Idle","Escape","Treat","kill"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,\"__esModule\",{value:!0}),o.Model_1=void 0;var a,r=e(\"AppCommon\"),s=e(\"CCTool\"),c=e(\"ListenID\"),l=e(\"GameScene\"),p=e(\"AIBuild\"),d=e(\"AIMonster\"),u=e(\"AIRole\"),f=e(\"AIState\"),t=e(\"ModeBase\"),h=e(\"ModelManage\"),m=null,y=null,i=(a=t.ModelBase,i(g,a),g.prototype.Matching=function(){s.CCTool.UI.OpenPop(\"prefab/pop/pop_Matching\",{}),r.default.MapClr.node.active=!0},g.prototype.LoadMap=function(){m=r.default.GScene,(y=r.default.MapClr).newWallColl(y.myMap.getObjectGroup(\"Collision\").getObjects()),y.newBed(\"computer\"),y.getPathfindingMap(),y.newDoor(\"door_1\"),y.newDoor(\"door_2\"),this.LoadRole(),this.NewRobberycat(),m.setPhysics(!0)},g.prototype.LoadRole=function(){for(var o=this,e=[],t=y.myMap.getObjectGroup(\"Born\").getObjects(),n=0;n<t.length;n++){var i=t[n];i._pos=y.getTMapPosition(i.offset,y.myMap.node).addSelf(cc.v2(y.tileSize.width/2,-y.tileSize.width/2)),\"boss\"==i.name?y.newMonster(i,\"BigMonster\",function(e){e.myFSM=e.node.addComponent(d.default),e.myFSM.DialogueList=o.MonsterDialogueList,e.myFSM.initState(e),o.NewBossHongBaoEvent(e)}):e.push(i)}for(n in y.MatchRoleData)!function(t){y.newPlayer(e[t],function(e){e.setPlayerCamp(y.MatchRoleData[t]),e.isPlayer?o.LoadMapEnd():(e.myFSM=e.node.addComponent(u.default),e.myFSM.initState(e),e.myAIBuild=e.node.addComponent(p.default))})}(n)},g.prototype.LoadMapEnd=function(){this.loadEndCall&&this.loadEndCall(),m.setGameStart(l.GAME_STATE.ReadyAm),s.CCTool.Audio.Player(\"Start\"),cc.Tween.stopAllByTarget(m.GameCamera.node),m.GameCamera.zoomRatio=1.3,m.GameCamera.node.position=cc.v2(0,200),m.GameCamera.node.active=!0,y.scheduleOnce(function(){m._GameState==l.GAME_STATE.ReadyAm&&(cc.tween(m.GameCamera).to(.5,{zoomRatio:1}).start(),cc.tween(m.GameCamera.node).to(.5,{position:m.player.node.position}).call(function(){m._GameState==l.GAME_STATE.ReadyAm&&(m.setGameStart(l.GAME_STATE.CountDown),m.setPause(-999))}).start())},6),s.CCTool.UI.OpenPop(\"prefab/game/ui/GameUI_1\",{},r.default.MainView.GamePage),this.Settlement()},g.prototype.CountDown=function(){y.monsterList[0].toCountDown(),m.setCountDown(30),m.setPlayerStart(l.PLAYER_STATE.Move)},g.prototype.Settlement=function(){var n=this;y.myMap.node.on(c.ListenID.Monster_State,function(e,t){(t=void 0===t?!1:t)||n.GameWin()},y.myMap),y.myMap.node.on(c.ListenID.Role_State,function(e,t){var o;void 0===t&&(t=!1),e==r.default.GScene.player.roleID&&t&&null!==(o=r.default.GScene.player.myDoor)&&void 0!==o&&o._isActive&&r.default.MapClr.monsterList[0].attribute&&r.default.MapClr.monsterList[0].attribute.data.atk>=(null===(o=r.default.GScene.player.myDoor)||void 0===o?void 0:o._life)&&n.CDManage.Check(\"mendDoor\")&&(s.CCTool.UI.OpenPop(\"prefab/pop/pop_GameRevive_M2\"),n.CDManage.Set(\"mendDoor\",999999)),t||y.roleList[e].isPlayer&&n.GameEnd()},y.myMap)},g.prototype.GameStart=function(){r.default.MainView.gameMsg(\"老板来巡查，请谨慎摸鱼\")},g.prototype.GameWin=function(){r.default.data.getCoin=Math.min(Math.floor((r.default.gettimestamp()-m.player._initTime)/9+10),150),r.default.GScene.setGameStart(l.GAME_STATE.Win)},g.prototype.GameEnd=function(){r.default.data.getCoin=Math.min(Math.floor((r.default.gettimestamp()-m.player._initTime)/9+10),150),m.setGameStart(l.GAME_STATE.End),m.scheduleOnce(function(){s.CCTool.UI.OpenPop(\"prefab/pop/pop_GameDie\")},2)},g.prototype.OnUpdate=function(e){this.CDManage.OnUpdate(e)},g.prototype.NewRobberycat=function(){var e,t=y.myMap.getObjectGroup(\"egg\").getObjects(),o=[];for(e in t)\"cat\"==t[e].name&&o.push(t[e]);var n=r.default.GetArrTarge(o);y.newNPC({id:1,_pos:y.getPoint(n).addSelf(cc.v2(n.width/2,-n.height/2)),type:\"robberycat\"},function(){})},g.prototype.NewBossHongBaoEvent=function(o){function e(){if(n&&o.myFSM.target&&o.myFSM.target.roleID==r.default.GScene.player.roleID&&o.myFSM.currentState==f.StateType.Attack){var e,t=[];for(e in y.roleList)0<y.roleList[e]._life&&t.push(y.roleList[e].roleID);1==t.length&&t[0]==r.default.GScene.player.roleID||(s.CCTool.UI.OpenPop(\"prefab/pop/pop_GiveBossHongBao\"),i++,n=!1)}}var n=!1,i=(r.default.gettimestamp(),0);o.node.on(cc.Node.EventType.TOUCH_START,function(){0<i||(cc.log(\"点击\"),n=!0,o.unschedule(e),o.scheduleOnce(e,2))},o),o.node.on(cc.Node.EventType.TOUCH_END,function(){n=!1,o.unschedule(e)},o)},g);function g(){var e,t=null!==a&&a.apply(this,arguments)||this;return t.type=h.GAME_MODEL.TANG_PING,t.mapPath=\"Map_1\",t.CDManage=new s.CCTool.CDManage({mendDoor:10}),t.MonsterDialogueList=((e={})[f.StateType.Idle]=[\"本月的投票准备结束，结果已经出来了\",\"最受玩家欢迎的是“办公室惊魂”\",\"请大家好好期待，我们换个地方玩玩，嘿嘿嘿\",\"接下来是玩家反馈环节\",\"满级卡死？已经修复了，就怕你玩不到满级\",\"我太弱了？不存在的，我又变强了哈害嗨\",\"想穿新衣服？等我给大家购置新的工服！\",\"想要联机？没问题，请大家要多多支持呀\",\"本期反馈报告到此为止，欢迎大家点击右上角三个点反馈\",\"感谢各位员工的努力，我们要更加努力呀！\",\"咦？人呢？\"],e[f.StateType.Attack]=[\"快开门！你是不是在摸鱼！\",\"禁止在办公室摆放私人物品！\",\"请了你们，我真是个大怨种！\",\"整天搞这些花里胡哨的东西！\",\"赶紧起来码代码！\",\"我就不信我治不了你们！\",\"你知不知道这个游戏每个版本都有bug！\",\"联机模式到底什么时候出！\",\"开朗网友都打过来了！快拿出你们的咸鱼炮！\",\"是谁拿了我的私房钱！\",\"你们不努力我怎么买房买车！\",\"饮料不要摆在门口！\",\"混日子的就不是我的兄弟！\"],e[f.StateType.Escape]=[\"火力这么猛，你等着\",\"累死我了，回去歇一会\",\"敲得我手都疼了\",\"中场休息！\",\"我一定会回来的！\",\"撤退撤退！\"],e[f.StateType.Treat]=[\"等我休息一会再来收拾你们\",\"呼呼呼~歇一会\",\"马上回来小宝贝们\",\"小腿一抖，精神抖擞！\",\"让我看看下个倒霉蛋是谁\",\"再面试几个岗位吧，我们要成为宇宙第一游戏公司\",\"洗手间装好了，下个房间装个什么好呢？\",\"得再请个总监回来好好管管你们\",\"哟，确认入职了，期待一下这位高管的能力\",\"每天这么蹦跶，我的微聊步数都10万步了\"],e.kill=[\"你因左脚踏入公司被开除了\",\"这两天有点累了，你先回家休息两天吧\",\"这位同学恭喜你毕业了\",\"该醒醒了！\",\"变身魔法！菜狗变变变！\",\"炒鱿鱼！\"],e),t}o.Model_1=i"]}