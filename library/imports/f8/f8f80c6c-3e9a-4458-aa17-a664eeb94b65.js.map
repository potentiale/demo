{"version":3,"sources":["assets\\scripts\\Model_4.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","Model_4","a","r","s","c","l","p","d","u","f","h","m","y","g","ModelBase","_","Matching","MapClr","node","active","GScene","player","startGame","LoadMap","myMap","children","cc","resources","load","Prefab","instantiate","setParent","setPosition","myChoppingBlock","getChildByName","getMap","setChoppingBlock","LoadMapEnd","setContentSize","GameCamera","backgroundColor","color","WCManage","ower","init","setCollision","addComponent","newEgg","M4_Touch","loadEndCall","setGameStart","GAME_STATE","ReadyAm","Tween","stopAllByTarget","setTouchMoveCamera","zoomRatio","position","v2","setPlayerStart","PLAYER_STATE","Not","CountDown","setPause","UserVo","data","m4_gameGuide","CCTool","UI","OpenPop","MainView","GamePage","PlatformFun","SendEvent","getModeStr","Settlement","Game","roundType","ROUND_TYPE","USER","roundStart","on","ListenID","Game_End","isEnd","gameReviveNum","GameEnd","Role_State","killNum","error","name","GameStart","gameMsg","OnUpdate","CDManage","checkGameEnd","_PointList","POINT_TYPE","ENEMY","_mapPos","type","Element_Type","WC_Monster","GameRevive","push","tween","delay","Audio","Player","newEffects","setDestroyed","start","m4_killNumMax","SaveData","SettlementData","maxLv","getMaxLv","kill","End","BATTLEFIELD","attribute","lv","BIRTH","getHighFish","myChoppingBlockNum","_PointMap","targetOff","Node","EventType","TOUCH_START","unlockChoppingBlock","to","scale","setGlodChoppingBlock","isAutoSynthesis","SpriteFrame","getComponent","Sprite","spriteFrame","getLayer","getTiles","toString","split","mapSize","height","splice","width","map","Number","apply","arguments","GAME_MODEL","FISH_MODEL","mapPath","WarChessManage"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,\"__esModule\",{value:!0}),o.Model_4=void 0;var a,r=e(\"AppCommon\"),s=e(\"CCTool\"),c=e(\"PlatformFun\"),l=e(\"UserVo\"),p=e(\"ListenID\"),d=e(\"ElementBase\"),u=e(\"GameScene\"),f=e(\"EggPlug\"),t=e(\"ModeBase\"),h=e(\"ModelManage\"),m=e(\"WarChessManage\"),y=null,g=null,i=(a=t.ModelBase,i(_,a),_.prototype.Matching=function(){r.default.MapClr.node.active=!0,r.default.GScene.player=null,r.default.GScene.startGame()},_.prototype.LoadMap=function(){var o=this;y=r.default.GScene,(g=r.default.MapClr).myMap.node.children[0].active=!1,cc.resources.load(\"tmap/Map/Map_fishmodel\",cc.Prefab,function(e,t){t=cc.instantiate(t);t.setParent(g.myMap.node),t.setPosition(0,20),o.myChoppingBlock=t.getChildByName(\"choppingBlock\"),o.getMap(),o.setChoppingBlock(1),o.LoadMapEnd()}),g.node.setContentSize(0,0),y.GameCamera.backgroundColor=cc.color(\"#4c86c1\"),(this.WCManage.ower=this).WCManage.init(),y.setCollision(!0),g.myMap.node.addComponent(f.default).newEgg.M4_Touch()},_.prototype.LoadMapEnd=function(){this.loadEndCall&&this.loadEndCall(),y.setGameStart(u.GAME_STATE.ReadyAm),cc.Tween.stopAllByTarget(y.GameCamera.node),g.setTouchMoveCamera(!1),y.GameCamera.zoomRatio=1,y.GameCamera.node.position=cc.v2(),y.GameCamera.node.active=!0,y.setPlayerStart(u.PLAYER_STATE.Not),y.setGameStart(u.GAME_STATE.CountDown),y.setPause(-999),l.UserVo.data.m4_gameGuide||s.CCTool.UI.OpenPop(\"prefab/pop/pop_GameGuide_M4\"),s.CCTool.UI.OpenPop(\"prefab/game/ui/GameUI_4\",{},r.default.MainView.GamePage),c.PlatformFun.SendEvent(r.default.GScene.getModeStr()+\"level_start\"),this.Settlement()},_.prototype.CountDown=function(){y.setGameStart(u.GAME_STATE.Game),this.WCManage.roundType=m.ROUND_TYPE.USER,this.WCManage.roundStart()},_.prototype.Settlement=function(){var o=this;g.myMap.node.on(p.ListenID.Game_End,function(){o.isEnd||(0==o.gameReviveNum?s.CCTool.UI.OpenPop(\"prefab/pop/pop_GameRevive_M4\"):o.GameEnd(),o.isEnd=!0)},g.myMap),g.myMap.node.on(p.ListenID.Role_State,function(e,t){(t=void 0===t?!1:t)||o.killNum++},g.myMap),cc.resources.load(\"prefab/game/WCFormation/Formation_1\",cc.Prefab,function(e,t){t||cc.error(\"找不到预制体:\"+name)})},_.prototype.GameStart=function(){r.default.MainView.gameMsg(\"用咸鱼击败开朗网友！\")},_.prototype.OnUpdate=function(e){this.CDManage.OnUpdate(e)},_.prototype.checkGameEnd=function(){for(var e in this.WCManage._PointList[m.POINT_TYPE.ENEMY]){e=this.WCManage._PointList[m.POINT_TYPE.ENEMY][e];if(e._mapPos.y<=2&&e.type==d.Element_Type.WC_Monster)return!0}return!1},_.prototype.GameRevive=function(){var o=[];for(var e in this.WCManage._PointList[m.POINT_TYPE.ENEMY]){var t=this.WCManage._PointList[m.POINT_TYPE.ENEMY][e];t._mapPos.y<=5&&o.push(t)}this.gameReviveNum++;for(e in o)!function(e){var t=o[e];y.setPause(),cc.tween(t).delay(.5*+e).call(function(){s.CCTool.Audio.Player(\"m4_boom\"),r.default.MapClr.newEffects(t.node.position,\"bomb2\"),t.setDestroyed(),y.setPause(-1)}).start()}(e);this.isEnd=!1},_.prototype.GameEnd=function(){this.killNum>l.UserVo.data.m4_killNumMax&&(l.UserVo.data.m4_killNumMax=this.killNum,l.UserVo.SaveData()),this.SettlementData={maxLv:this.getMaxLv(),kill:this.killNum},c.PlatformFun.SendEvent(r.default.GScene.getModeStr()+\"level_finish_\"+this.SettlementData.maxLv),y.setGameStart(u.GAME_STATE.End),s.CCTool.UI.OpenPop(\"prefab/pop/pop_GameDie_M4\")},_.prototype.getMaxLv=function(){var e,t,o=0;for(e in this.WCManage._PointList[m.POINT_TYPE.BATTLEFIELD])(t=this.WCManage._PointList[m.POINT_TYPE.BATTLEFIELD][e].attribute).lv>o&&(o=t.lv);for(e in this.WCManage._PointList[m.POINT_TYPE.BIRTH])(t=this.WCManage._PointList[m.POINT_TYPE.BIRTH][e].attribute).lv>o&&(o=t.lv);return o},_.prototype.getHighFish=function(e){e(this.WCManage.getHighFish())},_.prototype.setChoppingBlock=function(e){if(!(e<this.myChoppingBlockNum)){var t,o=[];if(5==e)o=[1,1,1,1,1];else if(3==e)o=[0,1,1,1,0];else{if(1!=e)return;o=[0,0,1,0,0]}for(t in o){var n=this.WCManage._PointMap[m.POINT_TYPE.BIRTH][0][t];0==o[t]?this.WCManage._PointMap[m.POINT_TYPE.BIRTH][0][t]=-1:-1==n&&1==o[t]&&(this.WCManage._PointMap[m.POINT_TYPE.BIRTH][0][t]=0)}for(t in o){var i=this.myChoppingBlock.children[t],a=o[t];i.color=cc.color(a?\"#FFFFFF\":\"#8B8B8B\"),i.children[0].active=!a,i.targetOff(i),a||i.on(cc.Node.EventType.TOUCH_START,this.unlockChoppingBlock,i),a&&cc.tween(i).to(.1,{scale:1.1}).to(.2,{scale:1}).start()}this.myChoppingBlockNum=e}},_.prototype.setGlodChoppingBlock=function(){this.WCManage.isAutoSynthesis=!0;var e,t=this;for(e in this.myChoppingBlock.children)!function(e){var o=t.myChoppingBlock.children[e];cc.resources.load(\"img/model_4/glod_small\",cc.SpriteFrame,function(e,t){o.getComponent(cc.Sprite).spriteFrame=t})}(e)},_.prototype.unlockChoppingBlock=function(){s.CCTool.UI.OpenPop(\"prefab/pop/pop_M4_UnlockChoppingBlock\")},_.prototype.getMap=function(){for(var n=(n=r.default.MapClr.myMap.getLayer(\"Ground\").getTiles()).toString().split(\",\"),i=[],a=this,e=g.mapSize.height-1;0<=e;e--)!function(e){i[e]=n.splice(0,g.mapSize.width),i[e]=i[e].map(Number);var t,o=2<e?m.POINT_TYPE.ENEMY:0==e?m.POINT_TYPE.BIRTH:0<e?m.POINT_TYPE.BATTLEFIELD:void 0;for(t in a.WCManage._PointMap[o][e]=i[e],a.WCManage._PointMap[o][e])a.WCManage._PointMap[o][e][t]=0}(e)},_);function _(){var e=null!==a&&a.apply(this,arguments)||this;return e.type=h.GAME_MODEL.FISH_MODEL,e.mapPath=\"Map_fishmodel\",e.WCManage=new m.WarChessManage,e.CDManage=new s.CCTool.CDManage({}),e.killNum=0,e.gameReviveNum=0,e.myChoppingBlockNum=0,e}o.Model_4=i"]}