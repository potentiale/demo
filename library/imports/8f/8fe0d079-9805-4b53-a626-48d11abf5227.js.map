{"version":3,"sources":["assets\\scripts\\Role.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","p","d","u","f","h","m","y","g","_","v","cc","_decorator","ccclass","property","C","init","setAttribute","lv","hp","MapClr","roleList","roleID","mySkeleton","node","children","getComponent","sp","Skeleton","wallet","coin","power","myCapabilities","_moveSpeed","Cfg","Costant","get","MoveSpeedMan","_isActive","isBeReported","myUserVideoBuild","outputRatio","CDManage","CCTool","dialogue","_initTime","gettimestamp","setCoin","MainView","emit","ListenID","Money_UpDate","setPower","setPlayerCamp","isAi","isPlayer","matchData","GScene","player","setRinBodyState","getChildByName","active","RoleMan","skinID","setSkin","RoleBones","SkinCtrl","setRoleSkin","RoleSkinType","ROLE","skillManage","SkillRole","initSkill","concat","UserVo","data","skinSkill","id","skillID","getHurt","setLife","myMap","Role_State","setDestroyed","console","log","palsyAllBuilding","unscheduleAllCallbacks","myBed","_life","loadDeadSign","Audio","Player","resources","load","Prefab","instantiate","setParent","parent","setPosition","position","myTerritoryMap","arc","setState","newTouchEvent","toMove","_PlayerState","PLAYER_STATE","Move","joyStick","linearVelocity","x","isMove","setAnimation","scaleX","Vec2","multiplyScalar","tempVec2","normalizeSelf","addSelf","GameCamera","getZIndex","toBed","roomID","bedList","isClosestool","Role_TOBed","setPlayerStart","ToBed","setTouchMoveCamera","PlatformFun","SendEvent","getModeStr","Notifier","send","Task_UpdateTask","TaskType","GetBuilding","buildId","markNodeBar","myFSM","scheduleOnce","myAIBuild","initState","aiData","schedule","Check","newDialogue","v2","GetArrTarge","DialogueList","_GameModel","Set","GAME_MODEL","TANG_PING","countDownTime","PhysicsCircleCollider","enabled","upCapabilities","attribute","buildingType","atk","outputCoin","frequency","outputPower","myBuildNum","myBuildTopId","update","isPause","OnUpdate","apply","_canStealMoney","_lifeTile","_atkSpeedDown","ZERO","reduceRationList","Map","talkInBed_M1","talkInBed_M2","talkInBed_M3"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(r=(a<3?i(r):3<a?i(t,o,r):i(t,o))||r);return 3<a&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,\"__esModule\",{value:!0});var r,s=e(\"AppCommon\"),c=e(\"CCTool\"),l=e(\"PlatformFun\"),p=e(\"UserVo\"),d=e(\"ListenID\"),u=e(\"Notifier\"),f=e(\"Cfg\"),h=e(\"SkinCtrl\"),m=e(\"TaskCtrl\"),y=e(\"GameScene\"),g=e(\"ModelManage\"),_=e(\"SkillRole\"),v=e(\"LivingThingBase\"),t=cc._decorator,e=t.ccclass,e=(t.property,r=v.default,i(C,r),C.prototype.init=function(){this.setAttribute({lv:1,hp:1}),(s.default.MapClr.roleList[this.roleID]=this).mySkeleton=this.node.children[1].getComponent(sp.Skeleton),this.wallet={coin:0,power:0},this.myCapabilities={hp:1},this._moveSpeed=f.Cfg.Costant.get(1).MoveSpeedMan/30,this._isActive=!0,this.isBeReported=!1,this.myUserVideoBuild={},this.outputRatio=1,this.CDManage=new c.CCTool.CDManage({dialogue:10}),this._initTime=s.default.gettimestamp()},C.prototype.setCoin=function(e){this.wallet.coin+=e,s.default.MainView.node.emit(d.ListenID.Money_UpDate)},C.prototype.setPower=function(e){this.wallet.power+=e,s.default.MainView.node.emit(d.ListenID.Money_UpDate)},C.prototype.setPlayerCamp=function(e){var t=this;this.isAi=!e.isPlayer,this.isPlayer=e.isPlayer,this.matchData=e,this.isPlayer&&((s.default.GScene.player=this).setRinBodyState(!0),s.default.MainView.node.emit(d.ListenID.Money_UpDate),this.node.getChildByName(\"role_shadow\").children[0].active=!0);var o=f.Cfg.RoleMan.get(e.skinID);this.setSkin(o.RoleBones,function(){s.default.SkinCtrl.setRoleSkin(h.RoleSkinType.ROLE,t.mySkeleton,e.skinID,!t.isPlayer)}),this.skillManage=new _.SkillRole(this),this.isPlayer?this.skillManage.initSkill([1].concat(p.UserVo.data.skinSkill[o.id]).concat([2])):this.skillManage.initSkill([1].concat(o.skillID).concat([2]))},C.prototype.getHurt=function(e){this.setLife(e),s.default.MapClr.myMap.node.emit(d.ListenID.Role_State,this.roleID,!0)},C.prototype.setDestroyed=function(){this._isActive&&(this._isActive=!1,console.log(\"this.roleid = \",this.roleID),s.default.MapClr.myMap.node.emit(d.ListenID.Role_State,this.roleID),this.palsyAllBuilding(),this.node.active=!1,this.unscheduleAllCallbacks(),this.myBed&&(this.myBed._life=0,this.myBed.setDestroyed()),this.loadDeadSign(),c.CCTool.Audio.Player(\"Man_Dead\"))},C.prototype.loadDeadSign=function(){var o=this;cc.resources.load(\"prefab/game/Element/DeadSign\",cc.Prefab,function(e,t){s.default.MapClr.myMap&&((t=cc.instantiate(t)).setParent(o.node.parent),t.setPosition(o.node.position))})},C.prototype.palsyAllBuilding=function(){if(this.myBed){var e,t=this.myBed.myTerritoryMap;for(e in t)for(var o in t[e]){o=t[e][o];o.arc&&(o.arc.setState(!1),this.isAi&&o.arc.newTouchEvent())}}},C.prototype.toMove=function(e){if(s.default.GScene._PlayerState==y.PLAYER_STATE.Move){var t=s.default.GScene.joyStick.linearVelocity;if(0==t.x&&0==t.y)return this.isMove&&this.setAnimation(\"idle\",!0),void(this.isMove=!1);this.isMove||this.setAnimation(\"move\",!0),this.isMove=!0,this.mySkeleton.node.scaleX=0<t.x?-1:1,cc.Vec2.multiplyScalar(this.tempVec2,t.normalizeSelf(),this._moveSpeed*e*60);e=this.node.position.addSelf(this.tempVec2);this.node.setPosition(e),s.default.GScene.GameCamera.node.position=this.node.position,this.getZIndex()}},C.prototype.toBed=function(e){var t=this;this.roomID=e,this.mySkeleton.node.scaleX=1;var o=s.default.MapClr.bedList[this.roomID];if(this.setAnimation(o.isClosestool()?\"sit2\":\"sit\",!0),s.default.MapClr.myMap.node.emit(d.ListenID.Role_TOBed,this.roleID,this.roomID),this.getZIndex(),this.isPlayer)for(var n in s.default.GScene.setPlayerStart(y.PLAYER_STATE.ToBed),this.setRinBodyState(!1),s.default.MapClr.setTouchMoveCamera(!0),l.PlatformFun.SendEvent(s.default.GScene.getModeStr()+\"enter_desk\"),l.PlatformFun.SendEvent(s.default.GScene.getModeStr()+\"enter_room_\"+e),u.Notifier.send(d.ListenID.Task_UpdateTask,m.TaskType.GetBuilding,{buildId:1}),this.skillManage.markNodeBar){this.skillManage.markNodeBar[n].node.parent.active=!0;break}else this.myFSM=null,this.scheduleOnce(function(){t.myAIBuild.initState(t,t.matchData.aiData)},.5);this.schedule(function(){t.CDManage.Check(\"dialogue\")&&(s.default.MapClr.newDialogue(t.node,cc.v2(20,70),s.default.GetArrTarge(t.DialogueList[\"talkInBed_M\"+s.default.GScene._GameModel]),3.5),t.CDManage.Set(\"dialogue\"))},1),this.node.getChildByName(\"role_shadow\").active=!1,s.default.GScene._GameModel==g.GAME_MODEL.TANG_PING&&this.setCoin(30-s.default.GScene.countDownTime)},C.prototype.setRinBodyState=function(e){this.node.getComponent(cc.PhysicsCircleCollider).enabled=e},C.prototype.upCapabilities=function(){if(this.myBed){var e,t={},o={},n=[\"atk\",\"outputPower\",\"outputCoin\"];for(e in n)this.myCapabilities[n[e]]=.1;var i,a=this.myBed.myTerritoryMap;for(i in a)for(var r in a[i]){r=a[i][r];r.arc&&((r=r.arc.attribute)?(t[r.buildingType]||(t[r.buildingType]=0),r.data.atk&&(this.myCapabilities.atk+=r.data.atk),r.data.outputCoin&&(this.myCapabilities.outputCoin+=r.data.outputCoin/(r.data.frequency||1)),r.data.outputPower&&(this.myCapabilities.outputPower+=r.data.outputPower/(r.data.frequency||1)),t[r.buildingType]++,(!o[r.buildingType]||o[r.buildingType]<r.data.id)&&(o[r.buildingType]=r.data.id)):console.log(\"attr is null\",this.isPlayer))}this.myBuildNum=t,this.myBuildTopId=o}},C.prototype.update=function(e){s.default.GScene.isPause||(this.isPlayer&&this.toMove(e),this.CDManage.OnUpdate(e))},a([e],C));function C(){var e=null!==r&&r.apply(this,arguments)||this;return e.isAi=!1,e.roleID=1,e._canStealMoney=!1,e._lifeTile=0,e._atkSpeedDown=0,e.isBeReported=!1,e.isMove=!1,e.tempVec2=cc.Vec2.ZERO,e.myBuildNum={},e.myBuildTopId={},e.myUserVideoBuild={},e.outputRatio=1,e.reduceRationList=new Map,e.DialogueList={talkInBed_M1:[\"上班打工是劳动所得，只有摸鱼才是真的赚钱\",\"每个月总有那么三十几天不想上班。\",\"说实话，我觉得我的星座不适合上班，只适合领工资。\",\"不要跟我谈理想，我的理想是不上班。\",\"我在办公室...困得像只狗\",\"又是周一，我不舍得睡，你不舍得起……\",\"刚喝了一杯美式，好苦，跟我的命一样苦\",\"你知道世界上一成不变的水是什么吗？——你的薪水\",\"看到工资条了，做锅里都捂不热我的心。\",\"努力上班，把腰上断，把眼上瞎，把头上秃，把人上傻\",\"锄禾日当午，上班好辛苦，上完一上午，还要上下午，不上没钱花，心里更痛苦。\",\"小时候多好，哭完就睡，现在哭完还得去上班。\",\"我明明这么可爱，为什么还要加班。\",\"想要有上班以外的生活，于是就有了加班。\",\"明明能靠颜值吃饭，偏偏却要工作。。\",\"人之初，性本善，不想上班怎么办？\",\"我病了，一上班就崩溃的那种。\",\"摸鱼一时爽，一直摸鱼一直爽！\",\"六一快到了，我想要可达鸭！\",\"端午快到了，我想要端午礼物和放假！\"],talkInBed_M2:[\"我是一棵卷心菜，有卷别人的心，但我菜。\",\"别人拉屎拉在厕所，我直接憋住，太方便了，卷他们。\",\"别人都吃炸鸡喝可乐，我天天喝热水，身体比他们好，卷他们。\",\"宁可累死自己，也要卷到别人\",\"初听内卷不知意，再听已是卷中人\",\"这不叫内卷 这叫悄悄的学习 然后惊艳所有人！\",\"卷得卷中卷，方为人上人。\",\"卷王出征,寸草不生。\",\"人人皆可卷,万物皆可卷。\",\"努力上班，把腰上断，把眼上瞎，把头上秃，把人上傻\",\"好好内卷,好好变菜,请叫我卷心菜。\",\"同事都下班了，我要偷偷加班完成业绩，得到boss重用，卷死他们。\",\"有觉我不睡，我工作，往死了卷。\",\"今日我以内卷为荣，明日内卷以我为荣。\"],talkInBed_M3:[\"上班打工是劳动所得，只有摸鱼才是真的赚钱\",\"每个月总有那么三十几天不想上班。\",\"说实话，我觉得我的星座不适合上班，只适合领工资。\",\"不要跟我谈理想，我的理想是不上班。\",\"我在办公室...困得像只狗\",\"又是周一，我不舍得睡，你不舍得起……\",\"刚喝了一杯美式，好苦，跟我的命一样苦\",\"你知道世界上一成不变的水是什么吗？——你的薪水\",\"看到工资条了，做锅里都捂不热我的心。\",\"努力加班，把腰上断，把眼上瞎，把头上秃，把人上傻\",\"锄禾日当午，上班好辛苦，上完一上午，还要上下午，不上没钱花，心里更痛苦。\",\"小时候多好，哭完就睡，现在哭完还得去上班。\",\"我明明这么可爱，为什么还要加班。\",\"想要有上班以外的生活，于是就有了加班。\",\"明明能靠颜值吃饭，偏偏却要工作。。\",\"人之初，性本善，不想加班怎么办？\",\"我病了，一上班就崩溃的那种。\",\"摸鱼一时爽，一直摸鱼一直爽！\",\"六一快到了，我想要可达鸭！\",\"端午快到了，我想要端午礼物和放假！\"]},e}o.default=e"]}