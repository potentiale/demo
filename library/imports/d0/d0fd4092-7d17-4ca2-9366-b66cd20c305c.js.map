{"version":3,"sources":["assets\\scripts\\Bed.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","p","d","u","f","cc","_decorator","ccclass","menu","property","h","start","schedule","searchPlayer","init","setData","myTerritory","MapClr","myMap","node","getChildByName","name","active","roomID","split","bedList","isClosestool","setNormalSkin","bedtype","imgList","children","getComponent","Sprite","resources","load","SpriteFrame","spriteFrame","setTerritory","myTerritoryMap","getObjectGroup","getObjects","childrenCount","getMapPos","x","y","arc","ower","isAi","on","Node","EventType","TOUCH_START","TOUCH_END","data","cameraMoveNum","CCTool","UI","OpenPop","position","setTerritoryMapItem","isPlayer","opacity","tween","sequence","to","easing","repeatForever","_mapPos","longTapEvent","isBeReported","GScene","_GameModel","GAME_MODEL","TANG_PING","roleID","player","getDistance","isShowBut","GameElementButPool","GetFormPool","GamePopBox","but","isHaveMan","ShowToast","hide","mountRole","GameCamera","setLabel","setDestroyed","log","setState","getHurt","initAttribute","Cfg","Building1","get","setCollision","myBed","setPosition","toBed","unschedule","effectTrigger","attribute","outputCoin","outputRatio","setCoin","System","InCamera","newLabelTips","Color","YELLOW","apply","SConstruct"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(r=(a<3?i(r):3<a?i(t,o,r):i(t,o))||r);return 3<a&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,\"__esModule\",{value:!0});var r,s=e(\"AppCommon\"),c=e(\"CCTool\"),l=e(\"Cfg\"),p=e(\"ModelManage\"),d=e(\"ConstructBase\"),u=e(\"GameElementBut\"),f=cc._decorator,t=f.ccclass,e=f.menu,e=(f.property,r=d.default,i(h,r),h.prototype.start=function(){this.schedule(this.searchPlayer,.3)},h.prototype.init=function(e){this.setData=e,this.myTerritory=s.default.MapClr.myMap.node.getChildByName(this.setData.name),this.myTerritory&&(this.myTerritory.active=!1,this.roomID=+this.setData.name.split(\"_\")[1],(s.default.MapClr.bedList[this.roomID]=this).isClosestool()&&this.setNormalSkin(20))},h.prototype.isClosestool=function(){return this.setData.bedtype&&2==this.setData.bedtype},h.prototype.setNormalSkin=function(e){var o=this;this.imgList[0]||(this.imgList[0]=this.node.children[0].getComponent(cc.Sprite)),cc.resources.load(\"img/gameResources/\"+e,cc.SpriteFrame,function(e,t){o.imgList[0].spriteFrame=t})},h.prototype.setTerritory=function(){if(this.setData.name){this.myTerritoryMap=[];for(var i=s.default.MapClr.myMap.getObjectGroup(this.setData.name).getObjects(),a=this,e=0;e<this.myTerritory.childrenCount;e++)!function(e){var t,o=s.default.MapClr.getMapPos(a.myTerritory.children[e]),n={x:o.x,y:o.y,node:a.myTerritory.children[e],name:i[e].name,arc:null};a.myTerritoryMap[n.x]||(a.myTerritoryMap[n.x]=[]),a.myTerritoryMap[n.x][n.y]=n,a.ower.isAi||(t=!1,n.node.on(cc.Node.EventType.TOUCH_START,function(){t=!0},a),n.node.on(cc.Node.EventType.TOUCH_END,function(){t&&(10<s.default.data.cameraMoveNum||c.CCTool.UI.OpenPop(\"prefab/pop/pop_BuildingCreate\",n))},a))}(e);var t=s.default.MapClr.getMapPos(this.node.position);this.myTerritoryMap[t.x]||(this.myTerritoryMap[t.x]=[]),this.myTerritoryMap[t.x][t.y]={x:t.x,y:t.y,node:null,arc:null,name:null},this.setTerritoryMapItem(t,this),this.ower.isPlayer&&(this.myTerritory.opacity=0,this.myTerritory.active=!0,cc.tween(this.myTerritory).sequence(cc.tween().to(1,{opacity:255},{easing:\"sineInOut\"}),cc.tween().to(1,{opacity:100},{easing:\"sineInOut\"})).repeatForever().start())}},h.prototype.setTerritoryMapItem=function(e,t){this.myTerritoryMap[e.x][e.y].arc=t,this.myTerritoryMap[e.x][e.y].node&&(this.myTerritoryMap[e.x][e.y].node.active=!t),t&&(t._mapPos=e)},h.prototype.longTapEvent=function(){this.ower.isPlayer||this.ower.isBeReported||s.default.GScene._GameModel!=p.GAME_MODEL.TANG_PING||c.CCTool.UI.OpenPop(\"prefab/pop/pop_ReportPanel\",this.ower.roleID)},h.prototype.searchPlayer=function(){var e,t=this;s.default.MapClr.myMap&&s.default.GScene.player&&((e=s.default.getDistance(this.node.position,s.default.GScene.player.node.position)<120)!=this.isShowBut&&(this.isShowBut=e,this.isShowBut?(e=s.default.GScene.GameElementButPool.GetFormPool(s.default.GScene.GamePopBox),this.but=e.getComponent(u.default),this.but.init(this.node,function(){return t.isHaveMan?(c.CCTool.UI.ShowToast(\"电脑桌被占了\"),void t.but.hide()):(t.mountRole(s.default.GScene.player),void cc.tween(s.default.GScene.GameCamera.node).to(.2,{position:t.node.position}).start())}),this.but.setLabel(this.isClosestool()?\"蹲坑\":\"上机\")):(this.but&&this.but.hide(),this.but=null)))},h.prototype.setDestroyed=function(){cc.log(\"被破坏\"),this.node.active=!1,this.setState(!1)},h.prototype.getHurt=function(e){r.prototype.getHurt.call(this,e),null!=this.ower&&this.ower.getHurt(e)},h.prototype.mountRole=function(e){var t;this.isHaveMan||(this.isHaveMan=!0,t=this.isClosestool()?20:1,this.initAttribute(l.Cfg.Building1.get(t),e),this.setTerritory(),e.setCollision(!1),(this.ower.myBed=this).isClosestool()?e.node.setPosition(this.node.x+5,this.node.y+10):e.node.setPosition(this.node.x,this.node.y-30),e.toBed(this.roomID),this.unschedule(this.searchPlayer),this.but&&this.but.hide(),this.setState(!0))},h.prototype.effectTrigger=function(){var e=this.attribute.data.outputCoin*this.ower.outputRatio;this.ower.setCoin(e),c.CCTool.System.InCamera(this.node.position)&&s.default.MapClr.newLabelTips(\"+\"+e,this.node.position,cc.Color.YELLOW,\"Fish coin\")},a([t,e(\"gameElement/Bed\")],h));function h(){var e=null!==r&&r.apply(this,arguments)||this;return e.isShowBut=!1,e.but=null,e.SConstruct=[],e.isHaveMan=!1,e}o.default=e"]}