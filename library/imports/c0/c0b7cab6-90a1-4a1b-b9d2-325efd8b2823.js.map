{"version":3,"sources":["assets\\scripts\\Npc.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","p","d","c","l","cc","_decorator","ccclass","property","u","init","_isActive","npcData","initNpcAI","CDManage","CCTool","dialogue","initFun","name","newTouchEvent","node","on","Node","EventType","TOUCH_START","TOUCH_END","data","cameraMoveNum","clickFun","getHurt","setLife","setDestroyed","active","MapClr","deleteNode","newSkeleton","setParent","setPosition","pos","addComponent","sp","Skeleton","mySkeleton","resources","load","img","SkeletonData","skeletonData","setAnimation","am","log","newImg","Sprite","mySprite","SpriteFrame","spriteFrame","update","GScene","isPause","OnUpdate","apply","kuaidiyuan","v2","myFSM","initState","npcFun","robberycat","canClickNum","setAnchorPoint","children","push","getV2Pos","x","y","path","setAIState","StateType","Move","_AiParameter","moveSpeed","onMoveEnd","schedule","Check","newDialogue","Set","UI","OpenPop","player","myBed","ShowToast","CONFIG_INFO","m1_CatCoin","w","v","Math","max","weightGetValue","setCoin","Tween","stopAllByTarget","tween","to","angle","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(r=(a<3?i(r):3<a?i(t,o,r):i(t,o))||r);return 3<a&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,\"__esModule\",{value:!0});var r,p=e(\"AppCommon\"),d=e(\"CCTool\"),s=e(\"AINpc\"),c=e(\"AIState\"),l=e(\"LivingThingBase\"),t=cc._decorator,e=t.ccclass,e=(t.property,r=l.default,i(u,r),u.prototype.init=function(e){this._isActive=!0,this.npcData=e,this.initNpcAI(),this.CDManage=new d.CCTool.CDManage({dialogue:5})},u.prototype.initNpcAI=function(){this.initFun[this.npcData.name]()},u.prototype.newTouchEvent=function(){var e=this,t=!1;this.node.on(cc.Node.EventType.TOUCH_START,function(){t=!0},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){t&&(10<p.default.data.cameraMoveNum||(e.clickFun[e.npcData.name](),t=!1))},this)},u.prototype.getHurt=function(e){this._isActive&&this.setLife(e)},u.prototype.setDestroyed=function(){this._isActive&&(this.node.active=!1,this._isActive=!1,p.default.MapClr.deleteNode(this.node))},u.prototype.newSkeleton=function(o){var n=this,i=new cc.Node(\"sp\");i.setParent(this.node),i.setPosition(o.pos);var a=i.addComponent(sp.Skeleton);this.mySkeleton=a,cc.resources.load(o.img,sp.SkeletonData,function(e,t){return t?a?(a.skeletonData=t,n.setAnimation(o.am||\"idle\",!0),void(o.call&&o.call(i))):cc.log(\"没有对象\"):cc.log(\"下载失败\")})},u.prototype.newImg=function(o){var n=new cc.Node(\"sp\");n.setParent(this.node),n.setPosition(o.pos);var i=n.addComponent(cc.Sprite);this.mySprite=i,cc.resources.load(\"img/\"+o.img,cc.SpriteFrame,function(e,t){return t?i?(i.spriteFrame=t,void(o.call&&o.call(n))):cc.log(\"没有对象\"):cc.log(\"下载失败\")})},u.prototype.update=function(e){p.default.GScene.isPause||this.CDManage.OnUpdate(e)},a([e],u));function u(){var l=null!==r&&r.apply(this,arguments)||this;return l.data={},l.initFun={kuaidiyuan:function(){l.newSkeleton({img:\"bones/kuaidiyuan\",am:\"move\",pos:cc.v2(6,-40)}),l.myFSM=l.node.addComponent(s.default),l.myFSM.initState(l),l.npcFun[l.npcData.name](),l.newTouchEvent()},robberycat:function(){l.data.canClickNum=20,l.newImg({img:\"gameResources/robberycat\",am:\"move\",pos:cc.v2(6,-20),call:function(e){e.setAnchorPoint(.5,.3)}}),l.node.children[0].active=!1,l.newTouchEvent()}},l.npcFun={kuaidiyuan:function(){var e,t=[[12,20],[9,20],[0,20],[1,19],[1,0],[10,0],[9,1],[9,20],[1,20],[-8,20]],o=[];for(e in t)o.push(p.default.MapClr.getV2Pos({x:t[e][0],y:t[e][1]}));l.myFSM.path=o,l.myFSM.setAIState(c.StateType.Move),l.myFSM._AiParameter.moveSpeed=120,l.myFSM.onMoveEnd=function(){l.setDestroyed()},l.schedule(function(){l.CDManage.Check(\"dialogue\")&&(p.default.MapClr.newDialogue(l.node,cc.v2(10,50),\"您的摸鱼快递到了，麻烦点我签收~\",3.5),l.CDManage.Set(\"dialogue\"))},1)}},l.clickFun={kuaidiyuan:function(){d.CCTool.UI.OpenPop(\"prefab/pop/pop_GameKuaidi\",{call:function(e){e&&l.setDestroyed()}})},robberycat:function(){if(cc.log(\"robberycat \"),p.default.GScene.player.myBed){if(l.data.canClickNum<=0)return d.CCTool.UI.ShowToast(\"猫猫也是有极限的...\");var e=p.default.CONFIG_INFO.m1_CatCoin,t=1,o=0;if(e){for(var n=e,i=[],a=0,r=n.length/2;a<r;a++){var s=n[2*a],c=n[2*a+1];i[a]={w:c,v:s},o=Math.max(o,s)}t=p.default.weightGetValue(i).v}p.default.GScene.player.setCoin(t),d.CCTool.UI.ShowToast(\"成功劫获\"+t+\"金币\"),cc.Tween.stopAllByTarget(l.mySprite.node),cc.tween(l.mySprite.node).to(.1,{angle:-20}).to(.1,{angle:20}).to(.1,{angle:0}).start(),l.data.canClickNum--}}},l}o.default=e"]}