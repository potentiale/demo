{"version":3,"sources":["assets\\scripts\\SkillMonster.js"],"names":["e","require","t","module","o","exports","n","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","SkillMonster","i","a","r","s","c","SkillManage","l","updateSkillEnergy","energyList","markNodeBar","Cfg","SkillGhost","get","energyGet","cur","cc","misc","clampf","all","resetSector","apply","arguments","itemList","cfgTag","skill","ower","setEnergy","energy","isRageAtkSpeed","parameter","MainView","gameMsg","MapClr","newEffects","node","position","CCTool","Audio","CameraPlayer","zIndex","setParent","setPosition","scheduleOnce","deleteNode","last","myMap","emit","ListenID","Monster_Skill","isInvicible"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,t=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,\"__esModule\",{value:!0}),o.SkillMonster=void 0;var i,a=e(\"AppCommon\"),r=e(\"CCTool\"),s=e(\"ListenID\"),c=e(\"Cfg\"),t=(i=e(\"SkillManage\").SkillManage,t(l,i),l.prototype.updateSkillEnergy=function(e,t){for(var o in this.energyList){var n=this.markNodeBar[o],i=c.Cfg.SkillGhost.get(o);i&&i.energyGet==e&&(this.energyList[o]?(this.energyList[o].cur+=t,this.energyList[o].cur=cc.misc.clampf(this.energyList[o].cur,0,this.energyList[o].all),n&&n.resetSector((this.energyList[o].all-this.energyList[o].cur)/this.energyList[o].all)):n&&n.resetSector(1))}},l);function l(){var o=null!==i&&i.apply(this,arguments)||this;return o.itemList=[],o.cfgTag=\"SkillGhost\",o.skill={1:function(t){return o.ower.setEnergy(-t.energy,t.energyGet),o.ower.isRageAtkSpeed+=t.parameter[0],a.default.MainView.gameMsg(\"管理者发火了，攻击速度加快\"),a.default.MapClr.newEffects(o.ower.node.position,\"angry\",function(e){r.CCTool.Audio.CameraPlayer(o.ower.node.position,\"Ghost1_Skill1\"),e.zIndex=o.ower.node.zIndex+1,e.setParent(o.ower.node),e.setPosition(0,0),o.ower.scheduleOnce(function(){o.ower.isRageAtkSpeed-=t.parameter[0],a.default.MapClr.deleteNode(e)},t.last)}),a.default.MapClr.myMap.node.emit(s.ListenID.Monster_Skill,t),!0},2:function(e){return o.ower.setEnergy(-e.energy,e.energyGet),a.default.MapClr.myMap.node.emit(s.ListenID.Monster_Skill,e),a.default.MainView.gameMsg(\"管理者释放了欧气，攻击建筑失效\"),a.default.MapClr.newEffects(o.ower.node.position,\"howl\",function(e){r.CCTool.Audio.CameraPlayer(o.ower.node.position,\"Ghost1_Skill2\"),e.setParent(o.ower.node),e.setPosition(0,0),e.zIndex=o.ower.node.zIndex-1}),!0},3:function(e){return o.ower.setEnergy(-e.energy,e.energyGet),a.default.MapClr.myMap.node.emit(s.ListenID.Monster_Skill,e),a.default.MainView.gameMsg(\"管理者释放了木马病毒，所有摸鱼设备失效\"),!0},4:function(t){return o.ower.setEnergy(-t.energy,t.energyGet),a.default.MainView.gameMsg(\"管理者发动防火墙，阻挡一切火力\"),a.default.MapClr.newEffects(o.ower.node.position,\"invicible\",function(e){e.setParent(o.ower.node),e.setPosition(0,0),o.ower.scheduleOnce(function(){a.default.MapClr.deleteNode(e)},t.last)}),o.ower.isInvicible=!0,o.ower.scheduleOnce(function(){o.ower.isInvicible=!1},t.last),!0}},o}o.SkillMonster=t"]}