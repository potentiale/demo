{"version":3,"sources":["assets\\scripts\\BuildingContentItem.js"],"names":["e","require","t","module","o","exports","n","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","a","__decorate","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","p","d","cc","_decorator","ccclass","property","Component","u","init","bData","_isNeedNumLimit","labelArr","string","name","_frontDoorInfo","_frontGenerator","_costCoin","costCoin","_costPower","costPower","GScene","player","reduceRationList","get","buildingType","Math","round","descText","strReplace","introduction","outputCoin","atk","atkRadius","toFixed","hp","outputPower","Cfg","Ghost1","parameter","frequency","frontDoor","Building1","js","formatStr","frontGenerator","_updateCount","_updateBuildCount","resources","load","id","SpriteFrame","node","SpriteArr","spriteFrame","nodeArr","children","active","setBuy","type","PlatformFun","SendEvent","getModeStr","parent","_haveNum","UserVo","getBuildingNumById","_isCountEnough","_reduceCount","addBuildingNumById","_addCount","getComponent","Label","maximum","curBuildNum","setVideo","myBuildNum","enumerable","configurable","setDelete","returnCoin","returnPower","onBuilding","onButton","checkBuild","wallet","CCTool","UI","ShowToast","myBuildTopId","coin","power","setCoin","setPower","setPause","loadRewardedVideoAd","onVideoSuccess","loadSuccess","myArc","_isActive","ower","close","Node","Sprite","RichText","apply"],"mappings":"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","sourceRoot":"/","sourcesContent":["var e=require;\nvar t=module;\nvar o=exports;\n\"use strict\";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(r=(a<3?i(r):3<a?i(t,o,r):i(t,o))||r);return 3<a&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,\"__esModule\",{value:!0});var r,s=e(\"AppCommon\"),c=e(\"CCTool\"),l=e(\"PlatformFun\"),p=e(\"UserVo\"),d=e(\"Cfg\"),t=cc._decorator,e=t.ccclass,t=t.property,e=(r=cc.Component,i(u,r),u.prototype.init=function(e,t){var o,n=this;switch(void 0===t&&(t=!1),this.bData=e,this._isNeedNumLimit=t,this.labelArr[0].string=this.bData.name,this._frontDoorInfo=null,this._frontGenerator=null,this._costCoin=this.bData.costCoin,this._costPower=this.bData.costPower,s.default.GScene.player&&(a=s.default.GScene.player.reduceRationList.get(this.bData.buildingType),this._costCoin*=a||1,this._costPower*=a||1,this._costCoin=Math.round(this._costCoin),this._costPower=Math.round(this._costPower)),this.bData.buildingType){case 1:this.descText.string=s.default.strReplace(this.bData.introduction,this.bData.outputCoin);break;case 2:this.descText.string=s.default.strReplace(this.bData.introduction,this.bData.atk,(this.bData.atkRadius/100).toFixed(1));break;case 3:this.descText.string=s.default.strReplace(this.bData.introduction,this.bData.hp);break;case 4:this.descText.string=s.default.strReplace(this.bData.introduction,this.bData.outputPower);break;case 5:this.descText.string=s.default.strReplace(this.bData.introduction,this.bData.outputCoin);break;case 17:case 18:case 19:var i=d.Cfg.Ghost1.get(this.bData.parameter[0]);this.descText.string=s.default.strReplace(this.bData.introduction,i.atk,this.bData.frequency);break;default:this.descText.string=this.bData.introduction}for(o in this.bData.frontDoor&&(this._frontDoorInfo=d.Cfg.Building1.get(this.bData.frontDoor),this.descText.string=cc.js.formatStr(\"%s<br/>前置:%s\",this.descText.string,this._frontDoorInfo.name)),this.bData.frontGenerator&&(this._frontGenerator=d.Cfg.Building1.get(this.bData.frontGenerator),this.descText.string=cc.js.formatStr(\"%s<br/>前置:%s\",this.descText.string,this._frontGenerator.name)),this._updateCount(),this._updateBuildCount(),cc.resources.load(\"img/gameIcon/\"+this.bData.id,cc.SpriteFrame,function(e,t){n.node&&(n.SpriteArr[0].spriteFrame=t)}),this.nodeArr[0].children)this.nodeArr[0].children[o].active=!1;this.setBuy();var a=\"Create\"==this.type?\"buildingGet\":\"buildingLevelup\";l.PlatformFun.SendEvent(s.default.GScene.getModeStr()+a+\"_show_\"+this.bData.buildingType)},u.prototype._updateCount=function(){this.labelArr[2].node.parent.active=this._isNeedNumLimit,this._haveNum=p.UserVo.getBuildingNumById(this.bData.id),this.labelArr[2].string=\"\"+this._haveNum},u.prototype._isCountEnough=function(){return!this._isNeedNumLimit||0<this._haveNum},u.prototype._reduceCount=function(){this._isNeedNumLimit&&(p.UserVo.addBuildingNumById(this.bData.id,-1),this._updateCount())},u.prototype._addCount=function(){p.UserVo.addBuildingNumById(this.bData.id,1),this._updateCount()},u.prototype.setBuy=function(){var e=this.nodeArr[0].children[0];e.children[0].children[0].active=!!this._costCoin,e.children[0].children[0].children[1].getComponent(cc.Label).string=this._costCoin+\"\",e.children[0].children[1].active=!!this._costPower,e.children[0].children[1].children[1].getComponent(cc.Label).string=this._costPower+\"\",e.active=!0,\"Create\"==this.type&&(this.nodeArr[0].children[1].active=!1,this.bData.maximum&&this.curBuildNum>=this.bData.maximum||this._isCountEnough()||(e.active=!1,this.setVideo()))},Object.defineProperty(u.prototype,\"curBuildNum\",{get:function(){return s.default.GScene.player.myBuildNum[this.bData.buildingType]||0},enumerable:!1,configurable:!0}),u.prototype._updateBuildCount=function(){this.labelArr[3].node.active=!!this.bData.maximum&&\"Create\"==this.type,this.labelArr[3].node.active&&(this.labelArr[3].string=cc.js.formatStr(\"可建造:%d/%d\",this.curBuildNum,this.bData.maximum))},u.prototype.setVideo=function(){this.nodeArr[0].children[1].active=!0,\"UPlv\"==this.type&&(this.descText.string=cc.js.formatStr(\"%s<br/>%s\",this.descText.string,\"提示：每个建筑只有1次升级机会哦！\"))},u.prototype.setDelete=function(){var o=this,e=this.nodeArr[0].children[2];e.children[0].children[0].active=!!this.bData.returnCoin,e.children[0].children[0].children[1].getComponent(cc.Label).string=this.bData.returnCoin+\"\",e.children[0].children[1].active=!!this.bData.returnPower,e.children[0].children[1].children[1].getComponent(cc.Label).string=this.bData.returnPower+\"\",e.active=!0,this.descText.string=\"拆除当前建筑，并且返回一定的资源\",cc.resources.load(\"img/gameIcon/lajitong\",cc.SpriteFrame,function(e,t){o.SpriteArr[0].spriteFrame=t}),this.labelArr[0].string=\"拆除\"},u.prototype.onBuilding=function(){},u.prototype.onButton=function(e,t){var o=this;switch(t){case\"Buy\":if(!this.checkBuild())return;var n=s.default.GScene.player.wallet;if(\"Create\"==this.type&&this.bData.maximum&&this.curBuildNum>=this.bData.maximum)return c.CCTool.UI.ShowToast(\"超过上限\");if(this._frontDoorInfo&&s.default.GScene.player.myBuildTopId[this._frontDoorInfo.buildingType]&&(!(i=s.default.GScene.player.myBuildTopId[this._frontDoorInfo.buildingType])||i<this._frontDoorInfo.id))return c.CCTool.UI.ShowToast(cc.js.formatStr(\"须先建造%s\",this._frontDoorInfo.name));if(this._frontGenerator&&s.default.GScene.player.myBuildTopId[this._frontGenerator.buildingType]&&(!(i=s.default.GScene.player.myBuildTopId[this._frontGenerator.buildingType])||i<this._frontGenerator.id))return c.CCTool.UI.ShowToast(cc.js.formatStr(\"须先建造%s\",this._frontGenerator.name));if(this._costCoin&&this._costCoin>n.coin)return c.CCTool.UI.ShowToast(\"金币不足\");if(this._costPower&&this._costPower>n.power)return c.CCTool.UI.ShowToast(\"水滴不足\");this._costCoin&&s.default.GScene.player.setCoin(-this._costCoin),this._costPower&&s.default.GScene.player.setPower(-this._costPower),this.onBuilding(this.bData,t),this._reduceCount();break;case\"VideoBuy\":if(!this.checkBuild())return;if(\"Create\"==this.type&&this.bData.maximum&&this.curBuildNum>=this.bData.maximum)return c.CCTool.UI.ShowToast(\"超过上限\");if(this._frontDoorInfo&&s.default.GScene.player.myBuildTopId[this._frontDoorInfo.buildingType]&&(!(i=s.default.GScene.player.myBuildTopId[this._frontDoorInfo.buildingType])||i<this._frontDoorInfo.id))return c.CCTool.UI.ShowToast(cc.js.formatStr(\"须先建造%s\",this._frontDoorInfo.name));if(this._frontGenerator&&s.default.GScene.player.myBuildTopId[this._frontGenerator.buildingType]&&(!(i=s.default.GScene.player.myBuildTopId[this._frontGenerator.buildingType])||i<this._frontGenerator.id))return c.CCTool.UI.ShowToast(cc.js.formatStr(\"须先建造%s\",this._frontGenerator.name));s.default.GScene.setPause(),l.PlatformFun.loadRewardedVideoAd({onVideoSuccess:function(){o._isNeedNumLimit?(o._addCount(),o.setBuy(),c.CCTool.UI.ShowToast(cc.js.formatStr(\"%s库存+1\",o.bData.name))):o.onBuilding(o.bData,t)},loadSuccess:function(){}});var i=\"Create\"==this.type?\"buildingGet\":\"buildingLevelup\";l.PlatformFun.SendEvent(s.default.GScene.getModeStr()+i+\"_click_\"+this.bData.buildingType);break;case\"Delete\":this.onBuilding(this.bData,t)}},u.prototype.checkBuild=function(){return\"Create\"==this.type||!(!this.myArc||!this.myArc._isActive)||(c.CCTool.UI.ShowToast(\"你的建筑被炸了，无法升级\"),this.ower.close(),!1)},a([t([cc.Node])],u.prototype,\"nodeArr\",void 0),a([t([cc.Label])],u.prototype,\"labelArr\",void 0),a([t([cc.Sprite])],u.prototype,\"SpriteArr\",void 0),a([t(cc.RichText)],u.prototype,\"descText\",void 0),a([e],u));function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.nodeArr=[],e.labelArr=[],e.SpriteArr=[],e.descText=null,e.type=\"Create\",e._isNeedNumLimit=!1,e._haveNum=0,e._frontDoorInfo=null,e._frontGenerator=null,e._costCoin=0,e._costPower=0,e}o.default=e"]}